<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>On Fixed-Income Risk Models | Bits of Experience</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://marcohassan.github.io/bits-of-experience/posts/on-fixed-income-risk-models/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Marco Hassan">
<link rel="prev" href="../work-strategy-on-multi-teaming-and-multi-threading/" title="Work Strategy - On Multi-Teaming and Multi-Threading" type="text/html">
<link rel="next" href="../on-enterprise-applications-architecture/" title="On Enterprise Applications Architecture" type="text/html">
<meta property="og:site_name" content="Bits of Experience">
<meta property="og:title" content="On Fixed-Income Risk Models">
<meta property="og:url" content="https://marcohassan.github.io/bits-of-experience/posts/on-fixed-income-risk-models/">
<meta property="og:description" content="img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-10-28T10:10:15+02:00">
<meta property="article:tag" content="finance">
<meta property="article:tag" content="risk-models">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="../../pages/aboutme/" title="About me"><i class="fa fa-user-circle"></i></a></li>
            <li><a href="../../pages/bits-of-experience-a-readable-view-on-my-study-adventures/" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../../index.html" title="Blog"><i class="fa fa-edit"></i></a></li>
            <li><a href="../../pages/emacs/" title="A life Configuring Emacs"><i class="fa fa-code"></i></a></li>
            <li><a href="../../pages/papers/" title="Term and Research Papers"><i class="fa fa-university"></i></a></li>
            <li><a href="../../pages/foto-blog/" title="Foto Blog"><i class="fa fa-camera-retro"></i></a></li>
            <li><a href="https://github.com/MarcoHassan" title="My Github"><i class="fab fa-github"></i></a></li>
            <li><a href="https://stackoverflow.com/users/9731177/mhass" title="My Stack"><i class="fab fa-stack-overflow"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">On Fixed-Income Risk Models</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2021-10-28T10:10:15+02:00" itemprop="datePublished" title="2021-10-28 10:10">2021-10-28 10:10</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Marco Hassan
            </span></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            
    <div class="tags">
<h3 class="metadata-title">
<i class="fa fa-tags"></i> Tags:</h3>
        <ul itemprop="keywords" class="tags-ul">
<li><a class="tag p-category" href="../../categories/finance/" rel="tag">finance</a></li>
            <li><a class="tag p-category" href="../../categories/risk-models/" rel="tag">risk-models</a></li>
        </ul>
</div>

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <style>
img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin-top: 60px;
  margin-bottom: 60px;
  width: 70%;
  overflow: hidden;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
  display:block;
  overflow-y: hidden;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: none;
  display:block;
  overflow-y: hidden;
}
</style>
<p>
So this is an interesting post. It treats some financial model for
fixed income instruments.
</p>

<p>
At school, back in the days you simply treated the standard
duration/convexity and simpler refined models thinking in terms of
key-rate duration etc.
</p>

<p>
I never specialized in fixed income instruments during my
studies. More on volatility models, general econometrics and
derivatives if any. So it makes sense that the models you checked at
in the more general non-specialized modules, were quite general.
</p>

<p>
Now working in an insurance you understand well that fixed-income
instruments take the lion position.
</p>

<p>
Hence, more specialized models are used in order to price the risk of
such fixed-income instruments.
</p>

<p>
<i>Update as of 26/04/2022</i> The above argumentation is correct but I
understand right now that the notes in this section are not based on
a risk model internally developed within the insurance
company. Rather, these are simple factor model representations of the
fixed income space used by the risk provider the company buys most of
the solution from.
</p>

<p>
Considering the fact that most of the risk providers copy each other I
suspect that these are in fact the very standard way of implementing
these models.
</p>

<p>
Here some notes to understand the things in this sense in a better
way. The general idea is to use fixed-income attribution models as in
the <a href="https://en.wikipedia.org/wiki/Fixed-income_attribution">following entry</a>.
</p>

<p>
Note that I am moving quite fast. Cannot spend too much time in each
and every detail as it is not the major component of my Job. I am just
quickly getting the high level idea of the model to represent.
</p>

<p>
These notes suffer in this sense from this time pressure. In time they
will become more structured.
</p>

<!-- TEASER_END -->

<div id="outline-container-org529f93b" class="outline-2">
<h2 id="org529f93b">On drawing a conceptual line among all of the given risks</h2>
<div class="outline-text-2" id="text-org529f93b">
<p>
So basically the basic concept is that the risk int he fixed income
space is split in three categories.
</p>

<ul class="org-ul">
<li>Interest rate Risk</li>

<li>Swap Spread Risk</li>

<li>Credit Spread Risk</li>
</ul>
<p>
This is of paramount importance to get before jumping into the math.
</p>

<p>
Forget the risk keyword in the above. Focus on understanding the
entire picture.
</p>

<p>
I.e. the three curves:
</p>

<ol class="org-ol">
<li>Interest Rate Curve</li>

<li>Swap Spread Curve</li>

<li>Creadit Spread Curve</li>
</ol>
<p>
It makes little sense to understand the math behind if you do not
understand the thing at conceptual level. This is what will make
the difference in the end in the long run. 
</p>

<p>
So basically the interest rate curve is the one you always have in
mind - the yield curve - and it represent the risk free rate in our
models.
</p>

<p>
The other two are simply the spreads from the interest rate curves
of the respective curves.
</p>

<p>
So understand that the spread curve represents the spread rate payed
out at different maturity. I.e. the fixed leg that makes the NPV of
the swap contract 0.
</p>

<p>
Recall the exercise in finance then: in order to correctly interpret
the thing of interest is a simple exercise:
</p>

<ul class="org-ul">
<li>
<p>
Understand what the risk of entering the contract is.
</p>

<p>
Make simple models saying why you deserve a premium for it based
on the classical microeconomics reasonings. 
</p>
</li>
</ul>
<p>
So little exercise in this case:
</p>

<ul class="org-ul">
<li>
<p>
Entering a swap means for the party paying the fix leg, buying in
on the risk that the rates will increase. In such a case the
present value of the underlying implied bond - as represented by
the cash flows will decrease and the party will loose money. 
</p>

<p>
So I had to dig a little bit deeper. Basically found this other
<a href="https://global.pimco.com/en-gbl/resources/education/understanding-interest-rate-swaps">bit of information</a>. Read that section over there. So basically the
message above as well as the one below is correct but in general
be sure that you understand that it is all about the <b>expectation</b>
around the LIBOR etc. so you basically see the forward looking
information content in the measure. Check as well your definition
of <i>Overnight Indexed Swap</i>. Look at it <a href="https://marcohassan.github.io/bits-of-experience/posts/macro-variables/">here</a>, I think this is
generally what you mean with the swap curve. 
</p>

<p>
On the top of it there is a second important effect. It is the one
that the party paying the fix rate will not come clear and pay his
commitments.
</p>

<p>
Note that the other way around is less risky as you are basically
going with the market.
</p>

<p>
In this sense Swap spreads correlate closely with credit spreads as
they reflect the perceived risk that swap counterparties will fail
to make their payments. However, note that you should not confuse
the two <i>credit spread</i> and <i>swap spread</i>. As mentioned with <i>swap
spread</i> you usually mean the <i>Overnight Indexed Swap</i> or some
other swap measure bounded to the LIBOR or some banks interbank
offer rate. In this sense even if there is counterparty risk
attached to it, it is just the <b>systemic</b> part of it and not the
<b>idiosyncratic</b> one.<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup></p>

<p>
In this sense, you also need the credit spread when modeling your
securities in order to properly modeling the risk of your securities.
</p>
</li>
</ul>
</div>
</div>


<div id="outline-container-orga931ec6" class="outline-2">
<h2 id="orga931ec6">On fixed income attribution models</h2>
<div class="outline-text-2" id="text-orga931ec6">
<p>
So what these models do is to decompose the risk of fixed-income
instruments in different components. You would then price the
different components and ultimately aggregate the risk of them.
</p>
</div>

<div id="outline-container-org4152ed2" class="outline-3">
<h3 id="org4152ed2">Interest Rate Risk</h3>
<div class="outline-text-3" id="text-org4152ed2">
<p>
So I will start in this post with the interest rate risk. I will
then check at other risk-factors as I go along. 
</p>

<p>
So the yield-curve and interest rate risk is just one among the many
factors. However, this is an important one.
</p>

<p>
Note that if you use your standard duration models you can perform
analysis of the risks for the case of parallel movements of the
yield-curve.
</p>

<p>
What happens though in the case of other more non-linear
movements? There you have to think in terms of different models
that can capture such shifts.
</p>

<p>
This is the reason why you can use factor-based models for the
interest reate curve that capture such non-linearities.
</p>

<p>
A typical decomposition in this sense is the:
</p>

<ul class="org-ul">
<li>shift</li>

<li>twist</li>

<li>butterfly</li>
</ul>
<p>
decomposition.
</p>

<img src="../../images/yield-curve_glossary.jpg" class="center"><p>
So note that the butterfly acts more on the curvature of the yield
curve hitting in multiple points.
</p>

<p>
In contrast, the twist is more acting on the first-order level
changing the steepness of the yield curve but holding the general
curvature structure. Note that by definition changing the twist
will affect the curvature, and having a butterfly will affect the
steepness of the curve. The two are therefore not completely
isolated. Would be fun at some point to read more into the
mathematical relation of the two but as having enough things on
your plate this is jumped at the moment - and likely forever. 
</p>

<p>
Once you have a factor model for the yield-curve taking into
account the three elements and mapping the influence of each on the
yield curve you can start to make all of your scenario based on
it.
</p>

<p>
The simple idea as in the Nelson-Siegel model is the following:
</p>

<p>
-&gt; you have your observable yield curve and the given interest
rates at different maturities composing the curve.
</p>

<p>
-&gt; you have a function composed of constants terms (measuring
shifts), first order terms (measuring twist) and more complex terms
(measuring butterfly).
</p>

<p>
You then parameterize the influence of each term in order to get
the best possible representation of the <b>current</b> yield curve
(standard OLS / minimization exercise).
</p>

<p>
This is done in the following way:
</p>

<p>
Let's say that you want to estimate parametrically the yield curve
for a specific yield curve.
</p>

<p>
Then what you actually do is take the bonds for the given country -
the country of which you want to represent the yield to
maturity. Then you know that the price is a function of the yield
to maturity. And you know that the yield to maturity is a function
of your interest rate factor representation.
</p>

<p>
So basically you do your minimization exercise by fitting the
prices of the bonds. This should give you a large enough sample for
your estiamation. You will then end up with a factor representation
of the yield curve and therefore of the interest rate curve.
</p>

<p>
Once you found your parameteric representation of the yield curve
depending on that factors you can make your standard sensitivities
analysis by standard math-analysis arguments.
</p>

<p>
I.e. you can generate the simulations for the different terms
tweaking your yield curve. Based on the simulation of these few
terms you are actually generating possible simulations of the yield
curve. This because what you actually have is a model for the
entire yield curve based on the simple shift-twist-butterfly
terms. Given the parameterization of the effect of each you then
have a new simulated state for your yield curve that you can use to
price your fixed interest rate instruments.    
</p>

<p>
<b>Important side note:</b> Note that the above is a simplified
explaination of the model. In the models you actually have two kind
of parameters. Paramters defining the influence of each shape term
on the yield curve and decay factor parameters defining the
location of the "humps" of the butterfly terms. But the main idea
stays and you can easily understand how it works even with these
terms. 
</p>

<p>
So this is a little bit the logic you reason with in the market
risk model for capturing the interest rate risk.
</p>

<hr>
<p>
<b>Important note:</b>
</p>

<p>
Note that the risk lies in the paramters/loadings of the shift,
twist and butterfly terms and not in the factor themself.
</p>

<p>
This is evident when looking at the model, the factors are fixed
and are terms expressing the time decay. The parameters are
estimated.
</p>

<p>
The essential idea is then
</p>

<blockquote>
<p>
This implies an alternative interpretation of the parameters, or more
specifically the parameters (β0, β1, β2), as a set of stochastic risk
factors whose variation from period to period (i.e., return) drives
the evolution of the yield curve.
</p>
</blockquote>

<p>
Add on the top of it the assumption that the parameters over t →
t + 1 are distributed approximately symmetrically around zero and
you will have your interest rate risk model.  (I guess even
normally-distributed as what I could infer as per the discussions
with my peers here - this is not that important to this stage. You
will discover in time. Focus on the big picture in the meantime).
</p>

<p>
Note now that the factors - risk factors - driving the yields are
not the parameters themselves but the parameters change in time. 
</p>

<p>
This can be formally prove through Ito's lemma. You can show in a
more rigorous way that the change in the yield curve at any point
in time is driven by the change of the risk factors in calendar
time. So you see that the factors are ultimately the difference
among the paramters and these are risk and symmetrically
distributed. Check the papers you are reading in this sense.
</p>

<p>
Similar formal arguments can be applied to the bond prices such
that you would ultimately end up with a factor level representation
of the bond returns. And badaboom, you have your factor risk model
through which you can simulate the returns.
</p>

<p>
You can then see that the factors are estimated via least squares.
</p>

<p>
So note that the above is all correct but it is a bit confusing as
it does not draw the proper line between the two estimation
exercises you want to do:
</p>

<ol class="org-ol">
<li>Estimate the parameters modeling the yield curve</li>

<li>Estimate the factors (the delta of the parameters in time). This
are the ultimate factors relevant for the simulation of the bond
returns.</li>
</ol>
<p>
You can check the relevant document that you have if you want to
get the details.
</p>

<p>
This will be good nonetheless. It is mostly focused on the
understanding of the model in an unstructured way. By know you have
that understanding and this is what counts.
</p>
</div>

<div id="outline-container-orge4fce43" class="outline-4">
<h4 id="orge4fce43">
<span class="todo TODO">TODO</span> make possibly a more structured entry</h4>
<div class="outline-text-4" id="text-orge4fce43">
<p>
Skippingi it for now as I want to move on with the stuff. You got
the idea.
</p>

<p>
Interesting is that you compute the variance-covariance matrix via
the fitted factors in time.
</p>

<p>
it seems that you work at the sub-class level and do not compute
a single huge matrix taking into account all of the different
effects.
</p>

<p>
Have to understand this component. 
</p>
</div>
</div>
</div>

<div id="outline-container-org2b9b1bd" class="outline-3">
<h3 id="org2b9b1bd">Swap Spread Risk</h3>
<div class="outline-text-3" id="text-org2b9b1bd">
<p>
So mathematically in the base market models I am working on and
seeing which are pretty much industry standards the swap spread
rate curve is expressed as follows:
</p>

<ul class="org-ul">
<li>
<p>
As a shift-twist-butterfly (STB) decomposition
</p>

<p>
(Note that it is written in the document that this is for the
spread actually - so a tiny bit different - continue reading and
you will see and adjust).
</p>
</li>
</ul>
<p>
Note that then this model is very trivial. In the sense the factor
model derivation.
</p>

<p>
This is in fact the very same reasoning of the interest rate
model.
</p>

<p>
It is a 1:1 derivation. All of the concepts and the derivations are
the same.
</p>

<p>
The only thing that is different is the underlying curve that you
fit that will ultimately give you a diffeernt set of factor
loadings.
</p>

<p>
This curve you obtain by basics financial argumentations and basic
application of standard arbitrage reasonings. 
</p>
</div>
</div>

<div id="outline-container-org974517b" class="outline-3">
<h3 id="org974517b">Credit Spread Risk</h3>
<div class="outline-text-3" id="text-org974517b">
<p>
Three types of credit spread factors are covered.
</p>

<ul class="org-ul">
<li>Corporate credit spreads in developed markets.</li>

<li>Corporate credit spreads in emerging markets.</li>

<li>Sovereign credit spreads in emerging markets.</li>
</ul>
<p>
Note that this is interesting as you see how all of these different
risks are modeled.
</p>

<p>
I.e. you see where some parameters you store in the main database
of reference come into the picture.
</p>

<p>
These are in fact used to estimate some factors and hence have a
paramount importance on the entire chain of events.
</p>

<p>
Think for instance at the credit rating analysis team and how their
input influence the thing down the rode.
</p>

<p>
Note now that such different spreads are modeled by the different
interaction of country<sub>factors</sub> * industry<sub>factors</sub> (possibly
sub-industry) *ratingScore<sub>factors</sub>.
</p>
</div>

<div id="outline-container-org4604e8b" class="outline-4">
<h4 id="org4604e8b">On the different risk parameterization for developed markets and emerging markets</h4>
<div class="outline-text-4" id="text-org4604e8b">
<p>
So understand that how the external provider parameterize
everything is via different set of exposures.
</p>

<p>
For <i>developing markets</i> the following is relevant for
calculating the corporate corporate credit spread:
</p>

<ul class="org-ul">
<li>sector × credit rating × currency factors</li>
</ul>
<p>
For <i>emerging markets</i> the following is relevant for calculating
the spreads:
</p>

<ul class="org-ul">
<li>corporate factors * regional factors * country-specific factors</li>
</ul>
<p>
So you see that the decomposition is much more parameterically
intense and you basically try to capture the difficulty of the
exercise.
</p>

<p>
Note that actually for the emerging markets you have different
factors used depending on the depth of the market. Meaning that
you define at country level in fact what you would like to include
as parameterization. You can read more into your notes if interested.
</p>
</div>

<ul class="org-ul">
<li>
<a id="orgc55bb94"></a>Reasoning behind the different parametrization<br><div class="outline-text-5" id="text-orgc55bb94">
<p>
The reason for the distinction between markets is related to the
different economic features of credit in developed and emerging
markets.
</p>

<p>
In developed markets the dominant source of risk, and hence the
relevant information for determining correlations, comes from
issuer-specific local-currency features such as sector and
rating, whereas in emerging markets much of the debt issued
(either by sovereigns or corporates) is denominated in currencies
of developed markets, and the dominant source of risk tends to
come from the creditworthiness of the issuer rather than from
local-currency features.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org6b2d848" class="outline-4">
<h4 id="org6b2d848">Actual Derivation of the Factors</h4>
<div class="outline-text-4" id="text-org6b2d848">
<p>
Note that like the interest rate and swap spread models, a linear
factor structure is used, however unlike these models <i>only a single
shift factor</i> is used.
</p>
</div>
</div>
</div>

<div id="outline-container-org69baae4" class="outline-3">
<h3 id="org69baae4">Real Interest Rate Models</h3>
<div class="outline-text-3" id="text-org69baae4">
<p>
These models are used in order to deal with instruments tied to the
real interest rate, i.e. to deal with instruments that are tight to
inflation.
</p>

<p>
Specifically, prices of inflation protected bonds are computed by
dividing nominal prices from the interest rate model above with
specific inflation factors for each bond at the settlement
date. The same factor modelling methodology used in nominal markets
is then applied to determine risk factors.
</p>
</div>
</div>

<div id="outline-container-org38a3f60" class="outline-3">
<h3 id="org38a3f60">Prepayment Models</h3>
<div class="outline-text-3" id="text-org38a3f60">
<p>
Also interesting would be to understand at the high level how this
works.
</p>

<p>
Write some notes in here. Used for MBS and the US market where you
have the option of prepayment. 
</p>
</div>
</div>
</div>


<div id="outline-container-org5e86537" class="outline-2">
<h2 id="org5e86537">IN-PROGRESS Drivers of the derived mathematical formulas</h2>
<div class="outline-text-2" id="text-org5e86537">
<p>
Ok so you basically have written about the three main drivers of
fixed income risk. You have as well written about the low level
logic and derivation of your fixed income factor models.
</p>

<p>
Now take them as given and understand what are the ultimate drivers
of such factor models.
</p>

<p>
This will help you to understand what actually drives the risk.
</p>

<p>
In such a way you could actually get what drives the investment
strategy of the group.
</p>

<hr>
<p>
Postpone for now. Not so important to this stage. 
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef">
<sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup><div class="footpara"><p class="footpara">
In general, check to <a href="https://www.risk.net/sites/risk/files/import_unmanaged/risk.net/data/Specal_Reports/pdf/interestrisk/ms.pdf">this article</a> in order to fully grasp the
swap spread. It will give you a few other hints on the swap spread
curve, its important properties etc. 
</p></div>
</div>


</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../work-strategy-on-multi-teaming-and-multi-threading/" rel="prev" title="Work Strategy - On Multi-Teaming and Multi-Threading">Previous post</a>
            </li>
            <li class="next">
                <a href="../on-enterprise-applications-architecture/" rel="next" title="On Enterprise Applications Architecture">Next post</a>
            </li>
        </ul></nav></aside></article><footer id="footer"><p>Contents © 2022         <a href="mailto:marco.hassan30@gmail.com">Marco Hassan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
