<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Java Testing | Bits of Experience</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://marcohassan.github.io/bits-of-experience/posts/java-testing/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Marco Hassan">
<link rel="prev" href="../front-end-stories/" title="Front-End Stories" type="text/html">
<meta property="og:site_name" content="Bits of Experience">
<meta property="og:title" content="Java Testing">
<meta property="og:url" content="https://marcohassan.github.io/bits-of-experience/posts/java-testing/">
<meta property="og:description" content="So I am starting to deliver some solutions on some minor features on
some applications.



There was quite a bit of work to be done in the last couple of
months. I mean I had to get up and running wit">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-01-27T16:20:12+01:00">
<meta property="article:tag" content="java">
<meta property="article:tag" content="testing">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="../../pages/aboutme/" title="About me"><i class="fa fa-user-circle"></i></a></li>
            <li><a href="../../pages/bits-of-experience-a-readable-view-on-my-study-adventures/" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../../index.html" title="Blog"><i class="fa fa-edit"></i></a></li>
            <li><a href="../../pages/emacs/" title="A life Configuring Emacs"><i class="fa fa-code"></i></a></li>
            <li><a href="../../pages/papers/" title="Term and Research Papers"><i class="fa fa-university"></i></a></li>
            <li><a href="../../pages/foto-blog/" title="Foto Blog"><i class="fa fa-camera-retro"></i></a></li>
            <li><a href="https://github.com/MarcoHassan" title="My Github"><i class="fab fa-github"></i></a></li>
            <li><a href="https://stackoverflow.com/users/9731177/mhass" title="My Stack"><i class="fab fa-stack-overflow"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Java Testing</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2022-01-27T16:20:12+01:00" itemprop="datePublished" title="2022-01-27 16:20">2022-01-27 16:20</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Marco Hassan
            </span></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            
    <div class="tags">
<h3 class="metadata-title">
<i class="fa fa-tags"></i> Tags:</h3>
        <ul itemprop="keywords" class="tags-ul">
<li><a class="tag p-category" href="../../categories/java/" rel="tag">java</a></li>
            <li><a class="tag p-category" href="../../categories/testing/" rel="tag">testing</a></li>
        </ul>
</div>

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>
So I am starting to deliver some solutions on some minor features on
some applications.
</p>

<p>
There was quite a bit of work to be done in the last couple of
months. I mean I had to get up and running with Java, reverse engineer
some bit of application, write documentation etc. I am slowly getting
up to speed. I have still quite a few things on my mind and I guess
that to reach the point where I would like to be it will be another
6-12 months but I am moving at a <i>decent</i> speed so that I am not
complaining too much.
</p>

<p>
The structure and challenges of the job gets clearer everyday so that
is fine - now it is a question of adapting and working strategically
to overcome the various issues.
</p>

<p>
The next bit that is on the list is about testing. This post deals
with it. I am ready to get up and running with it and start to write
well-covered software. In a further step you can then imagine some
further integration with tools as <a href="https://en.wikipedia.org/wiki/SonarQube">sonarqube</a> etc.
</p>

<!-- TEASER_END -->

<div id="outline-container-orgd704783" class="outline-2">
<h2 id="orgd704783">Testing</h2>
<div class="outline-text-2" id="text-orgd704783">
<p>
So basically I am starting to dig in the testing bit.
</p>

<p>
Always recall the essential three kind of tests in the ideal world:
</p>

<ul class="org-ul">
<li>unit testing</li>

<li>integration testing</li>

<li>functional testing</li>
</ul>
<p>
I will start by writing unit tests for my application. I will then
maybe go into the other in time.   
</p>
</div>
</div>

<div id="outline-container-org5bb368d" class="outline-2">
<h2 id="org5bb368d">Unit Testing</h2>
<div class="outline-text-2" id="text-org5bb368d">
</div>
<div id="outline-container-orgb1af6a1" class="outline-4">
<h4 id="orgb1af6a1">Set Up</h4>
<div class="outline-text-4" id="text-orgb1af6a1">
<p>
So essentially I will use the JUnit package for running unit
tests.
</p>

<p>
First of all include it in your gradle dependencies
</p>

<div class="highlight"><pre><span></span>    dependencies {

      ...

      testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'

      ...
    }
</pre></div>

<p>
Then basically you are good to go.
</p>

<p>
Note that I work with gradle. Note that there you essentially have
the default that your tests should lie in the <code>src/test/java</code>
directory.
</p>

<p>
So essentially when working in Eclipse you can start by creating a
source-folder (meaning folder containing source code) respecting
this convention <code>src/test/java</code>.
</p>

<p>
Then from there you can go on by creating <code>JUnit Test</code> Cases. Note
that in Eclipse everything is pretty much embedded. So everything
goes through the UI. In this sense you click on the <code>src/test/java</code>
source file and from there you create a new JUnit test. There you
have to specify the package you want to work on, say
<code>com.zurich.im.b1.feeds.model</code>.
</p>

<p>
Then you can specify the class in that package that you want to
test. Finally you declare your test file with the following naming
convention <code>&lt;MyClass&gt;Test</code>.
</p>

<p>
You are done then, bu as soon as you will manage to fix your issues with
emacs start to migrate as that is a much more powerful tool.
</p>
</div>
</div>


<div id="outline-container-org324af3b" class="outline-4">
<h4 id="org324af3b">Actually Testing</h4>
<div class="outline-text-4" id="text-org324af3b">
<p>
This is then straightforward. You can read and refer a bit to the
<a href="https://junit.org/junit5/docs/current/user-guide/">following documentation</a>.
</p>

<p>
So first thing you have to understand:
</p>

<blockquote>
<p>
JUnit 5 = JUnit Platform + JUnit Jupiter + JUnit Vintage
</p>
</blockquote>

<p>
So what are the three:
</p>

<ul class="org-ul">
<li>
<code>JUnit Platform</code>: it is the actual platform for running your
tests. This is used by the different clients - be a process from
your shell, the one embedded in your Eclipse IDE etc.</li>

<li>
<code>JUnit Jupiter</code>: This module includes new programming and
extension models for writing tests in JUnit 5. You have new
annotators etc.</li>

<li>
<code>JUnit Jupiter</code>: This is for running JUnit 3 and JUnit 4 based
tests on the platform.</li>
</ul>
<p>
So we will now focus on <code>JUnit Jupiter</code> as that is the actually
coding part for writing your tests. You will then check with the
time at the rest - if you will check at them at all… just need
to decide on how to connect to the <code>JUnit Platform</code>… for now use
the Eclipse IDE… there everything is more less embedded. Move
then to Emacs with time.
</p>
</div>
</div>


<div id="outline-container-org9e28f49" class="outline-4">
<h4 id="org9e28f49">Test Classes And Method</h4>
<div class="outline-text-4" id="text-org9e28f49">
<p>
What are the first-class citizens. 
</p>

<ul class="org-ul">
<li>
<code>Test Class</code>  this is a top-level class, static member class or
<code>@Nested</code> class that contains at least 1 test method.</li>

<li>
<code>Test Method</code> any instance method that is directly annotated or
meta-annotated with <code>@Test, @RepeatedTest, @ParameterizedTest,
      @TestFactory, or @TestTemplate</code>
</li>

<li>
<code>Lifecycle Method</code> any method that is directly annotated or
meta-annotated with <code>@BeforeAll, @AfterAll, @BeforeEach, or
      @AfterEach</code>.</li>
</ul>
<p>
So that is nothing new. Trivial I would say it is just setting
naming conv.
</p>

<p>
Note that <code>Test Method</code> and <code>Lifecycle Method</code> does not have to
return any value.
</p>

<p>
The only <b>exception</b> are <code>@TestFactory</code> methods where you are
required to return a value.
</p>
</div>
</div>


<div id="outline-container-orge1a9728" class="outline-4">
<h4 id="orge1a9728">JUnit Jupiter</h4>
<div class="outline-text-4" id="text-orge1a9728">
<p>
Basically in order to understand well how to write tests in Java
understand on the one hand the following annotators through which
it is possible to specify the general logic of your tests and on
the other hand the possible assertions treated in the <a href="#org8bb8803">next
section</a>. Also recall about <a href="#orgd9ac2bd">Assumptions</a>.
</p>
</div>


<ul class="org-ul">
<li>
<a id="org70ef640"></a>@TestFactory<br><div class="outline-text-5" id="text-org70ef640">
<p>
Denotes that a method is a test factory for dynamic tests. Such
methods are inherited unless they are overridden. 
</p>
</div>
</li>

<li>
<a id="org84673d4"></a>@TestTemplate<br><div class="outline-text-5" id="text-org84673d4">
<p>
Denotes that a method is a template for test cases designed to be
invoked multiple times depending on the number of invocation contexts
returned by the registered providers. Such methods are inherited
unless they are overridden. 
</p>
</div>
</li>


<li>
<a id="orgae399bc"></a>@Timeout<br><div class="outline-text-5" id="text-orgae399bc">
<p>
Used to fail a test, test factory, test template, or lifecycle method
if its execution exceeds a given duration. Such annotations are
inherited. 
</p>
</div>
</li>

<li>
<a id="orga90d65a"></a>@ExtendWith<br><div class="outline-text-5" id="text-orga90d65a">
<p>
Used to register extensions declaratively. Such annotations are
inherited. 
</p>
</div>
</li>

<li>
<a id="orgdb6b903"></a>@RegisterExtension<br><div class="outline-text-5" id="text-orgdb6b903">
<p>
Used to register extensions programmatically via fields. Such fields
are inherited unless they are shadowed. 
</p>
</div>
</li>

<li>
<a id="org82f60ab"></a>@TempDir<br><div class="outline-text-5" id="text-org82f60ab">
<p>
Used to supply a temporary directory via field injection or parameter
injection in a lifecycle method or test method; located in the
org.junit.jupiter.api.io package. 
</p>
</div>
</li>


<li>
<a id="org2e06ee5"></a>Testing Annotations<br><div class="outline-text-5" id="text-org2e06ee5">
<p>
These annotations are basically used for testing itself.
</p>

<p>
They specify how methods in test classes should be read and
processed.
</p>
</div>

<ul class="org-ul">
<li>
<a id="org3382e1a"></a>@Test<br><div class="outline-text-6" id="text-org3382e1a">
<p>
Denotes that a method is a test method.
</p>

<p>
That is the most trivial one. 
</p>
</div>
</li>

<li>
<a id="orgc2dc7d8"></a>@RepeatedTest<br><div class="outline-text-6" id="text-orgc2dc7d8">
<p>
JUnit Jupiter provides the ability to repeat a test a specified
number of times by annotating a method with @RepeatedTest and
specifying the total number of repetitions desired. Each
invocation of a repeated test behaves like the execution of a
regular @Test method with full support for the same lifecycle
callbacks and extensions.
</p>

<p>
See you demo test. Then when you run the test you will basically
see the repetitions nested in the method of interest.
</p>

<p>
Use the following example as per the offficial docu to style
your tests:
</p>

<div class="highlight"><pre><span></span>      <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertEquals</span><span class="p">;</span>

      <span class="kn">import</span> <span class="nn">java.util.logging.Logger</span><span class="p">;</span>

      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.BeforeEach</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.DisplayName</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.RepeatedTest</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.RepetitionInfo</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.TestInfo</span><span class="p">;</span>

      <span class="kd">class</span> <span class="nc">RepeatedTestsDemo</span> <span class="p">{</span>

	  <span class="kd">private</span> <span class="n">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="c1">// ...</span>

	      <span class="nd">@BeforeEach</span>
	      <span class="kt">void</span> <span class="nf">beforeEach</span><span class="p">(</span><span class="n">TestInfo</span> <span class="n">testInfo</span><span class="p">,</span> <span class="n">RepetitionInfo</span> <span class="n">repetitionInfo</span><span class="p">)</span> <span class="p">{</span>
	      <span class="kt">int</span> <span class="n">currentRepetition</span> <span class="o">=</span> <span class="n">repetitionInfo</span><span class="p">.</span><span class="na">getCurrentRepetition</span><span class="p">();</span>
	      <span class="kt">int</span> <span class="n">totalRepetitions</span> <span class="o">=</span> <span class="n">repetitionInfo</span><span class="p">.</span><span class="na">getTotalRepetitions</span><span class="p">();</span>
	      <span class="n">String</span> <span class="n">methodName</span> <span class="o">=</span> <span class="n">testInfo</span><span class="p">.</span><span class="na">getTestMethod</span><span class="p">().</span><span class="na">get</span><span class="p">().</span><span class="na">getName</span><span class="p">();</span>
	      <span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">"About to execute repetition %d of %d for %s"</span><span class="p">,</span> <span class="c1">//</span>
					<span class="n">currentRepetition</span><span class="p">,</span> <span class="n">totalRepetitions</span><span class="p">,</span> <span class="n">methodName</span><span class="p">));</span>
	  <span class="p">}</span>

	      <span class="nd">@RepeatedTest</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
	      <span class="kt">void</span> <span class="nf">repeatedTest</span><span class="p">()</span> <span class="p">{</span>
		  <span class="c1">// ...</span>
	      <span class="p">}</span>

	  <span class="nd">@RepeatedTest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
	  <span class="kt">void</span> <span class="nf">repeatedTestWithRepetitionInfo</span><span class="p">(</span><span class="n">RepetitionInfo</span> <span class="n">repetitionInfo</span><span class="p">)</span> <span class="p">{</span>
	      <span class="n">assertEquals</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">repetitionInfo</span><span class="p">.</span><span class="na">getTotalRepetitions</span><span class="p">());</span>
	  <span class="p">}</span>

	  <span class="nd">@RepeatedTest</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"{displayName} {currentRepetition}/{totalRepetitions}"</span><span class="p">)</span>
	  <span class="nd">@DisplayName</span><span class="p">(</span><span class="s">"Repeat!"</span><span class="p">)</span>
	  <span class="kt">void</span> <span class="nf">customDisplayName</span><span class="p">(</span><span class="n">TestInfo</span> <span class="n">testInfo</span><span class="p">)</span> <span class="p">{</span>
	      <span class="n">assertEquals</span><span class="p">(</span><span class="s">"Repeat! 1/1"</span><span class="p">,</span> <span class="n">testInfo</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
	  <span class="p">}</span>

	  <span class="nd">@RepeatedTest</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">RepeatedTest</span><span class="p">.</span><span class="na">LONG_DISPLAY_NAME</span><span class="p">)</span>
	  <span class="nd">@DisplayName</span><span class="p">(</span><span class="s">"Details..."</span><span class="p">)</span>
	  <span class="kt">void</span> <span class="nf">customDisplayNameWithLongPattern</span><span class="p">(</span><span class="n">TestInfo</span> <span class="n">testInfo</span><span class="p">)</span> <span class="p">{</span>
	      <span class="n">assertEquals</span><span class="p">(</span><span class="s">"Details... :: repetition 1 of 1"</span><span class="p">,</span> <span class="n">testInfo</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
	  <span class="p">}</span>

	  <span class="nd">@RepeatedTest</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"Wiederholung {currentRepetition} von {totalRepetitions}"</span><span class="p">)</span>
	  <span class="kt">void</span> <span class="nf">repeatedTestInGerman</span><span class="p">()</span> <span class="p">{</span>
	      <span class="c1">// ...</span>
	  <span class="p">}</span>

      <span class="p">}</span>
</pre></div>

<p>
INFO: About to execute repetition 1 of 10 for repeatedTest
INFO: About to execute repetition 2 of 10 for repeatedTest
INFO: About to execute repetition 3 of 10 for repeatedTest
INFO: About to execute repetition 4 of 10 for repeatedTest
INFO: About to execute repetition 5 of 10 for repeatedTest
INFO: About to execute repetition 6 of 10 for repeatedTest
INFO: About to execute repetition 7 of 10 for repeatedTest
INFO: About to execute repetition 8 of 10 for repeatedTest
INFO: About to execute repetition 9 of 10 for repeatedTest
INFO: About to execute repetition 10 of 10 for repeatedTest
INFO: About to execute repetition 1 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 2 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 3 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 4 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 5 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 1 of 1 for customDisplayName
INFO: About to execute repetition 1 of 1 for customDisplayNameWithLongPattern
INFO: About to execute repetition 1 of 5 for repeatedTestInGerman
INFO: About to execute repetition 2 of 5 for repeatedTestInGerman
INFO: About to execute repetition 3 of 5 for repeatedTestInGerman
INFO: About to execute repetition 4 of 5 for repeatedTestInGerman
INFO: About to execute repetition 5 of 5 for repeatedTestInGerman
import static org.junit.jupiter.api.Assertions.assertEquals;
</p>

<p>
Nice, you can then add this to your logs and inspect them
etc. Have still to decide on the workflow for such tests but that
is a good option.
</p>

<p>
Such methods <b>are inherited</b> unless they are overridden.
</p>
</div>
</li>

<li>
<a id="org2654277"></a>@ParameterizedTest<br><div class="outline-text-6" id="text-org2654277">
<p>
Understand the following naming conventition that will be used
in this section
</p>

<ul class="org-ul">
<li>
<code>factory method</code>: a non-private, static method declared in the</li>
</ul>
<p>
target type that accepts a single String argument and returns an
instance of the target type. The name of the method can be
arbitrary and need not follow any particular convention. 
</p>

<ul class="org-ul">
<li>
<code>factory constructor</code>: a non-private constructor in the target</li>
</ul>
<p>
type that accepts a single String argument. Note that the target
type must be declared as either a top-level class or as a static
nested class.
</p>

<p>
These can then be used for parameterizing your test cases.
</p>
</div>

<ul class="org-ul">
<li>
<a id="orge06fa49"></a>Most basic example<br><div class="outline-text-7" id="text-orge06fa49">
<p>
It is possible for the tests to run with different parameters
with the use of this tag.
</p>

<p>
See for instace the following
</p>

<div class="highlight"><pre><span></span>       <span class="nd">@ParameterizedTest</span>
       <span class="nd">@ValueSource</span><span class="p">(</span><span class="n">strings</span> <span class="o">=</span> <span class="p">{</span> <span class="s">"hello"</span><span class="p">,</span> <span class="s">"world"</span><span class="p">,</span> <span class="s">"I love J.N."</span> <span class="p">})</span> <span class="c1">// source for the parameters</span>
       <span class="kt">void</span> <span class="nf">words</span><span class="p">(</span><span class="n">String</span> <span class="n">candidate</span><span class="p">)</span> <span class="p">{</span>
	   <span class="n">Assertions</span><span class="p">.</span><span class="na">assertTrue</span><span class="p">(</span><span class="n">candidate</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">"hello"</span><span class="p">));</span>
       <span class="p">}</span>      
</pre></div>
<p>
words(String) ✔
├─ [1] candidate=hello ✔
├─ [2] candidate=world X
└─ [3] candidate=I love J.N. X
</p>


<p>
Such methods are inherited unless they are overridden.
</p>
</div>
</li>

<li>
<a id="orgd586915"></a>On Methods implementing Autocloseable<br><div class="outline-text-7" id="text-orgd586915">
<p>
Recall the following point. Might be useful at some point in
the future.
</p>

<div class="highlight"><pre><span></span>       <span class="n">Arguments</span> <span class="n">that</span> <span class="n">implement</span> <span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">AutoCloseable</span> <span class="p">(</span><span class="n">or</span>
       <span class="n">java</span><span class="p">.</span><span class="na">io</span><span class="p">.</span><span class="na">Closeable</span> <span class="n">which</span> <span class="kd">extends</span> <span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">AutoCloseable</span><span class="p">)</span> <span class="n">will</span>
       <span class="n">be</span> <span class="n">automatically</span> <span class="n">closed</span> <span class="n">after</span> <span class="nd">@AfterEach</span> <span class="n">methods</span> <span class="n">and</span>
       <span class="n">AfterEachCallback</span> <span class="n">extensions</span> <span class="n">have</span> <span class="n">been</span> <span class="n">called</span> <span class="k">for</span> <span class="n">the</span> <span class="n">current</span>
       <span class="n">parameterized</span> <span class="n">test</span> <span class="n">invocation</span><span class="p">.</span>  

       <span class="n">To</span> <span class="n">prevent</span> <span class="k">this</span> <span class="n">from</span> <span class="n">happening</span><span class="p">,</span> <span class="n">set</span> <span class="n">the</span> <span class="n">autoCloseArguments</span>
       <span class="n">attribute</span> <span class="n">in</span> <span class="nd">@ParameterizedTest</span> <span class="n">to</span> <span class="kc">false</span><span class="p">.</span> <span class="n">Specifically</span><span class="p">,</span> <span class="k">if</span> <span class="n">an</span>
       <span class="n">argument</span> <span class="n">that</span> <span class="kd">implements</span> <span class="n">AutoCloseable</span> <span class="n">is</span> <span class="n">reused</span> <span class="k">for</span> <span class="n">multiple</span>
       <span class="n">invocations</span> <span class="n">of</span> <span class="n">the</span> <span class="n">same</span> <span class="n">parameterized</span> <span class="n">test</span> <span class="n">method</span><span class="p">,</span> <span class="n">you</span> <span class="n">must</span>
       <span class="n">annotate</span> <span class="n">the</span> <span class="n">method</span> <span class="n">with</span> <span class="nd">@ParameterizedTest</span><span class="p">(</span><span class="n">autoCloseArguments</span>
       <span class="o">=</span> <span class="kc">false</span><span class="p">)</span> <span class="n">to</span> <span class="n">ensure</span> <span class="n">that</span> <span class="n">the</span> <span class="n">argument</span> <span class="n">is</span> <span class="n">not</span> <span class="n">closed</span> <span class="n">between</span>
       <span class="n">invocations</span><span class="p">.</span> 
</pre></div>
</div>
</li>

<li>
<a id="org8eac229"></a>On the possible sources for parameterized methods<br><div class="outline-text-7" id="text-org8eac229">
<p>
Recall that there are various sources for parametrized methods that
you can use when working with these.
</p>

<p>
Essentially you can work with the follwoing:
</p>

<ul class="org-ul">
<li>
<p>
<code>@ValueSource</code>
</p>

<p>
this is basically the one in the example above. It is the
trivial and most basic one. You pass primitives to it. 
</p>
</li>

<li>
<p>
Null and Empty Sources
</p>

<p>
So essentially these are tags to pass <i>empty and null values</i>
as paramters. Play around with them in the next step.
</p>

<p>
<code>@NullSource</code>: provides a single null argument to the
annotated method.
</p>

<p>
<code>@EmptySource</code>: provides a single empty argument to the
annotated <code>@ParameterizedTest</code> method for parameters of the
following types: java.lang.String, java.util.List,
java.util.Set, java.util.Map, primitive arrays (e.g., int[],
char[][], etc.), object arrays (e.g.,String[], Integer[][],
etc.).
</p>
</li>

<li>
<p>
<code>@EnumSource</code>
</p>

<p>
With this you can use Enum constants.
</p>

<div class="highlight"><pre><span></span>	 <span class="nd">@ParameterizedTest</span>
	 <span class="nd">@EnumSource</span><span class="p">(</span><span class="n">names</span> <span class="o">=</span> <span class="p">{</span> <span class="s">"DAYS"</span><span class="p">,</span> <span class="s">"HOURS"</span> <span class="p">})</span> <span class="c1">// names of the constant you will pass. </span>
	 <span class="kt">void</span> <span class="nf">testWithEnumSourceInclude</span><span class="p">(</span><span class="n">ChronoUnit</span> <span class="n">unit</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ChronoUnit is the enum you will use</span>
	     <span class="n">assertTrue</span><span class="p">(</span><span class="n">EnumSet</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ChronoUnit</span><span class="p">.</span><span class="na">DAYS</span><span class="p">,</span> <span class="n">ChronoUnit</span><span class="p">.</span><span class="na">HOURS</span><span class="p">).</span><span class="na">contains</span><span class="p">(</span><span class="n">unit</span><span class="p">));</span>
	 <span class="p">}</span>
</pre></div>

<p>
You can even use exclude logic or regex
</p>

<div class="highlight"><pre><span></span>	 <span class="nd">@ParameterizedTest</span>
	 <span class="nd">@EnumSource</span><span class="p">(</span><span class="n">mode</span> <span class="o">=</span> <span class="n">EXCLUDE</span><span class="p">,</span> <span class="n">names</span> <span class="o">=</span> <span class="p">{</span> <span class="s">"ERAS"</span><span class="p">,</span> <span class="s">"FOREVER"</span> <span class="p">})</span>
	 <span class="kt">void</span> <span class="nf">testWithEnumSourceExclude</span><span class="p">(</span><span class="n">ChronoUnit</span> <span class="n">unit</span><span class="p">)</span> <span class="p">{</span>
	     <span class="n">assertFalse</span><span class="p">(</span><span class="n">EnumSet</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ChronoUnit</span><span class="p">.</span><span class="na">ERAS</span><span class="p">,</span> <span class="n">ChronoUnit</span><span class="p">.</span><span class="na">FOREVER</span><span class="p">).</span><span class="na">contains</span><span class="p">(</span><span class="n">unit</span><span class="p">));</span>
	 <span class="p">}</span>
	 <span class="nd">@ParameterizedTest</span>
	 <span class="nd">@EnumSource</span><span class="p">(</span><span class="n">mode</span> <span class="o">=</span> <span class="n">MATCH_ALL</span><span class="p">,</span> <span class="n">names</span> <span class="o">=</span> <span class="s">"^.*DAYS$"</span><span class="p">)</span>
	 <span class="kt">void</span> <span class="nf">testWithEnumSourceRegex</span><span class="p">(</span><span class="n">ChronoUnit</span> <span class="n">unit</span><span class="p">)</span> <span class="p">{</span>
	     <span class="n">assertTrue</span><span class="p">(</span><span class="n">unit</span><span class="p">.</span><span class="na">name</span><span class="p">().</span><span class="na">endsWith</span><span class="p">(</span><span class="s">"DAYS"</span><span class="p">));</span>
	 <span class="p">}</span>
</pre></div>
</li>

<li>
<p>
<code>@MethodSource</code>
</p>

<p>
@MethodSource allows you to refer to one or more <i>factory
methods</i> of the test class or external classes.
</p>

<p>
These will supply the input of interest.
</p>

<p>
Each <b>factory method</b> must generate a stream of arguments, and
each set of arguments within the stream will be provided as
the physical arguments for individual invocations of the
annotated @ParameterizedTest method.
</p>

<div class="highlight"><pre><span></span>	 <span class="c1">// Single Parameter Example //</span>
	 <span class="nd">@ParameterizedTest</span>
	 <span class="nd">@MethodSource</span><span class="p">(</span><span class="s">"stringProvider"</span><span class="p">)</span>
	 <span class="kt">void</span> <span class="nf">testWithExplicitLocalMethodSource</span><span class="p">(</span><span class="n">String</span> <span class="n">argument</span><span class="p">)</span> <span class="p">{</span>
	     <span class="n">assertNotNull</span><span class="p">(</span><span class="n">argument</span><span class="p">);</span>
	 <span class="p">}</span>

	 <span class="kd">static</span> <span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">stringProvider</span><span class="p">()</span> <span class="p">{</span>
	     <span class="k">return</span> <span class="n">Stream</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">);</span>
	 <span class="p">}</span>

	 <span class="c1">// Multiple Paramter Parameter Example //</span>
	 <span class="nd">@ParameterizedTest</span>
	 <span class="nd">@MethodSource</span><span class="p">(</span><span class="s">"stringIntAndListProvider"</span><span class="p">)</span>
	 <span class="kt">void</span> <span class="nf">testWithMultiArgMethodSource</span><span class="p">(</span><span class="n">String</span> <span class="n">str</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span><span class="p">)</span> <span class="p">{</span>
	     <span class="n">assertEquals</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">str</span><span class="p">.</span><span class="na">length</span><span class="p">());</span>
	     <span class="n">assertTrue</span><span class="p">(</span><span class="n">num</span> <span class="o">&gt;=</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">num</span> <span class="o">&lt;=</span><span class="mi">2</span><span class="p">);</span>
	     <span class="n">assertEquals</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">list</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
	 <span class="p">}</span>

	 <span class="kd">static</span> <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Arguments</span><span class="o">&gt;</span> <span class="nf">stringIntAndListProvider</span><span class="p">()</span> <span class="p">{</span>
	     <span class="k">return</span> <span class="n">Stream</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
		 <span class="n">arguments</span><span class="p">(</span><span class="s">"apple"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">)),</span> <span class="c1">// note how you have to return an argument object</span>
		 <span class="n">arguments</span><span class="p">(</span><span class="s">"lemon"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">"x"</span><span class="p">,</span> <span class="s">"y"</span><span class="p">))</span>
	     <span class="p">);</span>
	 <span class="p">}</span>
</pre></div>

<p>
recall that Argument Inteface. It is something specific in
Junit. See <a href="https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/params/provider/Arguments.html">official docu</a>. In any case just take it as given
and understand it in the way as used above.
</p>

<p>
Note that you can as well work by calling a factory reference.
</p>

<div class="highlight"><pre><span></span>	 <span class="kn">package</span> <span class="nn">example</span><span class="p">;</span>

	 <span class="kn">import</span> <span class="nn">java.util.stream.Stream</span><span class="p">;</span>

	 <span class="kn">import</span> <span class="nn">org.junit.jupiter.params.ParameterizedTest</span><span class="p">;</span>
	 <span class="kn">import</span> <span class="nn">org.junit.jupiter.params.provider.MethodSource</span><span class="p">;</span>

	 <span class="kd">class</span> <span class="nc">ExternalMethodSourceDemo</span> <span class="p">{</span>

	     <span class="nd">@ParameterizedTest</span>
	     <span class="nd">@MethodSource</span><span class="p">(</span><span class="s">"example.StringsProviders#tinyStrings"</span><span class="p">)</span>
	     <span class="kt">void</span> <span class="nf">testWithExternalMethodSource</span><span class="p">(</span><span class="n">String</span> <span class="n">tinyString</span><span class="p">)</span> <span class="p">{</span>
		 <span class="c1">// test with tiny string</span>
	     <span class="p">}</span>
	 <span class="p">}</span>

	 <span class="kd">class</span> <span class="nc">StringsProviders</span> <span class="p">{</span>

	     <span class="kd">static</span> <span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">tinyStrings</span><span class="p">()</span> <span class="p">{</span>
		 <span class="k">return</span> <span class="n">Stream</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">"."</span><span class="p">,</span> <span class="s">"oo"</span><span class="p">,</span> <span class="s">"OOO"</span><span class="p">);</span>
	     <span class="p">}</span>
	 <span class="p">}</span>
</pre></div>
</li>

<li>
<p>
<code>@CsvSource</code>:
</p>

<p>
<i>@CsvSource</i> allows you to express argument lists as
comma-separated values.
</p>

<p>
So basically you pass your csv as comma separated values
there.
</p>

<p>
This might be good for writing tests checking and your
implemented parsers.
</p>

<p>
Example
</p>

<div class="highlight"><pre><span></span>	 <span class="nd">@ParameterizedTest</span>
	 <span class="nd">@CsvSource</span><span class="p">({</span>
	     <span class="s">"apple,         1"</span><span class="p">,</span>
	     <span class="s">"banana,        2"</span><span class="p">,</span>
	     <span class="s">"'lemon, lime', 0xF1"</span><span class="p">,</span> <span class="c1">// note single quote ' for quote character.</span>
	     <span class="s">"strawberry,    700_000"</span>
	 <span class="p">})</span>
	 <span class="kt">void</span> <span class="nf">testWithCsvSource</span><span class="p">(</span><span class="n">String</span> <span class="n">fruit</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rank</span><span class="p">)</span> <span class="p">{</span>
	     <span class="n">assertNotNull</span><span class="p">(</span><span class="n">fruit</span><span class="p">);</span>
	     <span class="n">assertNotEquals</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">rank</span><span class="p">);</span>
	 <span class="p">}</span>
</pre></div>

<p>
An empty, quoted value ('') results in an empty String unless
the emptyValue attribute is set; whereas, an entirely empty
value is interpreted as a null reference.
</p>

<p>
Note as well the following parameters that you can set
</p>

<div class="highlight"><pre><span></span>	 <span class="nd">@ParameterizedTest</span>
	 <span class="nd">@CsvSource</span><span class="p">(</span><span class="n">delimiter</span> <span class="o">=</span> <span class="sc">'|'</span><span class="p">,</span> <span class="n">quoteCharacter</span> <span class="o">=</span> <span class="sc">'"'</span><span class="p">,</span> <span class="n">textBlock</span> <span class="o">=</span> <span class="s">"""</span>
<span class="s">	     #-----------------------------</span>
<span class="s">	     #    FRUIT     |     RANK</span>
<span class="s">	     #-----------------------------</span>
<span class="s">		  apple     |      1</span>
<span class="s">	     #-----------------------------</span>
<span class="s">		  banana    |      2</span>
<span class="s">	     #-----------------------------</span>
<span class="s">	       "</span><span class="n">lemon</span> <span class="n">lime</span><span class="s">" |     0xF1</span>
<span class="s">	     #-----------------------------</span>
<span class="s">		strawberry  |    700_000</span>
<span class="s">	     #-----------------------------</span>
<span class="s">	     """</span><span class="p">)</span>
	 <span class="kt">void</span> <span class="nf">testWithCsvSource</span><span class="p">(</span><span class="n">String</span> <span class="n">fruit</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rank</span><span class="p">)</span> <span class="p">{</span>
	     <span class="c1">// ...</span>
	 <span class="p">}</span>
</pre></div>

<ul class="org-ul">
<li>
<p>
<code>@CsvFileSource</code>
</p>

<p>
This lets you use CSV files from the classpath or the local
file system.
</p>

<p>
That is very good to know. Like this you can perform all of
the necessary tests for your different parsers and you can
see immediately if you did break anything before building
or even deploying into UAT etc.
</p>

<p>
Check the following examples
</p>

<div class="highlight"><pre><span></span>	   <span class="nd">@ParameterizedTest</span>
	   <span class="nd">@CsvFileSource</span><span class="p">(</span><span class="n">files</span> <span class="o">=</span> <span class="s">"src/test/resources/two-column.csv"</span><span class="p">,</span> <span class="n">numLinesToSkip</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
	   <span class="kt">void</span> <span class="nf">testWithCsvFileSourceFromFile</span><span class="p">(</span><span class="n">String</span> <span class="n">country</span><span class="p">,</span> <span class="kt">int</span> <span class="n">reference</span><span class="p">)</span> <span class="p">{</span>
	       <span class="n">assertNotNull</span><span class="p">(</span><span class="n">country</span><span class="p">);</span>
	       <span class="n">assertNotEquals</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">reference</span><span class="p">);</span>
	   <span class="p">}</span>

	   <span class="nd">@ParameterizedTest</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"[{index}] {arguments}"</span><span class="p">)</span>
	   <span class="nd">@CsvFileSource</span><span class="p">(</span><span class="n">resources</span> <span class="o">=</span> <span class="s">"/two-column.csv"</span><span class="p">,</span> <span class="n">useHeadersInDisplayName</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
	   <span class="kt">void</span> <span class="nf">testWithCsvFileSourceAndHeaders</span><span class="p">(</span><span class="n">String</span> <span class="n">country</span><span class="p">,</span> <span class="kt">int</span> <span class="n">reference</span><span class="p">)</span> <span class="p">{</span>
	       <span class="n">assertNotNull</span><span class="p">(</span><span class="n">country</span><span class="p">);</span>
	       <span class="n">assertNotEquals</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">reference</span><span class="p">);</span>
	   <span class="p">}</span>
</pre></div>
</li>

<li>
<p>
<code>@ArgumentsSource</code>
</p>

<p>
Not really understanding the point of this to this stage	   
</p>

<div class="highlight"><pre><span></span>	   <span class="nd">@ParameterizedTest</span>
	   <span class="nd">@ArgumentsSource</span><span class="p">(</span><span class="n">MyArgumentsProvider</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
	   <span class="kt">void</span> <span class="nf">testWithArgumentsSource</span><span class="p">(</span><span class="n">String</span> <span class="n">argument</span><span class="p">)</span> <span class="p">{</span>
	       <span class="n">assertNotNull</span><span class="p">(</span><span class="n">argument</span><span class="p">);</span>
	   <span class="p">}</span>
	   <span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyArgumentsProvider</span> <span class="kd">implements</span> <span class="n">ArgumentsProvider</span> <span class="p">{</span>

	       <span class="nd">@Override</span>
	       <span class="kd">public</span> <span class="n">Stream</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Arguments</span><span class="o">&gt;</span> <span class="nf">provideArguments</span><span class="p">(</span><span class="n">ExtensionContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
		   <span class="k">return</span> <span class="n">Stream</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">).</span><span class="na">map</span><span class="p">(</span><span class="n">Arguments</span><span class="p">::</span><span class="n">of</span><span class="p">);</span>
	       <span class="p">}</span>
	   <span class="p">}</span>
</pre></div>
</li>
</ul>
</li>
</ul>
</div>
</li>


<li>
<a id="orgce9f3d7"></a>On implicit argument passsing<br><div class="outline-text-7" id="text-orgce9f3d7">
<p>
Note the following example. There are a couple of defaults. 
</p>

<p>
I.e. for instance the below uses the concept of <i>factory
method</i> and <i>factory classes</i> mentioned before.
</p>

<p>
So you can see for instance that in the below there is a
<i>factory method</i> fromTitle. Note that it is <code>static</code> and
non-private. 
</p>

<p>
Note now the following <b>fallback</b> mechanism:
</p>

<blockquote>
<p>
See blow you have a string parameter that you pass with
ValueSource.
</p>

<p>
Then the idea is:
</p>

<p>
for automatic conversion from a String to a given target type
if the target type declares <i>exactly one</i> suitable factory method
or a factory constructor as defined below - see that it has the
String argument and there is a match in this sense -. 
</p>
</blockquote>

<div class="highlight"><pre><span></span>       <span class="nd">@ParameterizedTest</span>
       <span class="nd">@ValueSource</span><span class="p">(</span><span class="n">strings</span> <span class="o">=</span> <span class="s">"42 Cats"</span><span class="p">)</span>
       <span class="kt">void</span> <span class="nf">testWithImplicitFallbackArgumentConversion</span><span class="p">(</span><span class="n">Book</span> <span class="n">book</span><span class="p">)</span> <span class="p">{</span>
	   <span class="n">assertEquals</span><span class="p">(</span><span class="s">"42 Cats"</span><span class="p">,</span> <span class="n">book</span><span class="p">.</span><span class="na">getTitle</span><span class="p">());</span>
       <span class="p">}</span>
       <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span> <span class="p">{</span>

	   <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">title</span><span class="p">;</span>

	   <span class="kd">private</span> <span class="nf">Book</span><span class="p">(</span><span class="n">String</span> <span class="n">title</span><span class="p">)</span> <span class="p">{</span>
	       <span class="k">this</span><span class="p">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">;</span>
	   <span class="p">}</span>

	   <span class="kd">public</span> <span class="kd">static</span> <span class="n">Book</span> <span class="nf">fromTitle</span><span class="p">(</span><span class="n">String</span> <span class="n">title</span><span class="p">)</span> <span class="p">{</span>
	       <span class="k">return</span> <span class="k">new</span> <span class="n">Book</span><span class="p">(</span><span class="n">title</span><span class="p">);</span>
	   <span class="p">}</span>

	   <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTitle</span><span class="p">()</span> <span class="p">{</span>
	       <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="p">;</span>
	   <span class="p">}</span>
       <span class="p">}</span> 
</pre></div>
</div>
</li>

<li>
<a id="org178819f"></a><span class="todo TODO">TODO</span> double check when you have time - could not understand when reading<br><div class="outline-text-7" id="text-org178819f">
<p>
Note that there is quite a few things that you will need to
make sense of when you have time.
</p>

<p>
In the notes they talk about <code>@TestImplementation</code> etc. also in
the context of Parameterized tests.
</p>

<p>
Moreover, they talk about the ordering of the parameters and
of some <code>@AggregateWith</code> annotator. Double check the entire
thing when you have time.
</p>
</div>
</li>

<li>
<a id="orgd443d8c"></a><span class="todo TODO">TODO</span> understand better this and Mockito<br><div class="outline-text-7" id="text-orgd443d8c">
<ul class="org-ul">
<li>
<p>
difference with Mockito… might seem trivial to the user
that has a strong clue about it. I do not have one so we will
see. How do you supply things there that are not working
here? 
</p>

<p>
what is missing etc.?
</p>
</li>
</ul>
</div>
</li>

<li>
<a id="orgd349ecb"></a><span class="todo TODO">TODO</span> better understand the @ArgumentsSource method<br>
</li>
</ul>
</li>
</ul>
</li>


<li>
<a id="orgc8beab8"></a>Tagging<br><ul class="org-ul">
<li>
<a id="orgc451b1d"></a>@Tag<br><div class="outline-text-6" id="text-orgc451b1d">
<p>
Test classes and methods can be tagged via the @Tag
annotation. Those tags can later be used to filter test discovery
and execution.
</p>

<p>
Such annotations are inherited at the class level but not at the
method level. 
</p>
</div>
</li>
</ul>
</li>


<li>
<a id="org7809701"></a>Naming and UI Style Annotations<br><div class="outline-text-5" id="text-org7809701">
<p>
This are used for setting the naming of your test methods.
</p>

<p>
You can set naming through such annotators and organize
everything in such a way the standard output of running the
tests. That will be required in order to keep order when things
will grow large.
</p>

<p>
Consider the following good example:
</p>

<div class="highlight"><pre><span></span>     <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.DisplayName</span><span class="p">;</span>
     <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.DisplayNameGeneration</span><span class="p">;</span>
     <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.DisplayNameGenerator</span><span class="p">;</span>
     <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.IndicativeSentencesGeneration</span><span class="p">;</span>
     <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Nested</span><span class="p">;</span>
     <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
     <span class="kn">import</span> <span class="nn">org.junit.jupiter.params.ParameterizedTest</span><span class="p">;</span>
     <span class="kn">import</span> <span class="nn">org.junit.jupiter.params.provider.ValueSource</span><span class="p">;</span>

     <span class="kd">class</span> <span class="nc">DisplayNameGeneratorDemo</span> <span class="p">{</span>

	 <span class="nd">@Nested</span>
	 <span class="nd">@DisplayNameGeneration</span><span class="p">(</span><span class="n">DisplayNameGenerator</span><span class="p">.</span><span class="na">ReplaceUnderscores</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
	 <span class="kd">class</span> <span class="nc">A_year_is_not_supported</span> <span class="p">{</span>

	     <span class="nd">@Test</span>
	     <span class="kt">void</span> <span class="nf">if_it_is_zero</span><span class="p">()</span> <span class="p">{</span>
	     <span class="p">}</span>

	     <span class="nd">@DisplayName</span><span class="p">(</span><span class="s">"A negative value for year is not supported by the leap year computation."</span><span class="p">)</span>
	     <span class="nd">@ParameterizedTest</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"For example, year {0} is not supported."</span><span class="p">)</span>
	     <span class="nd">@ValueSource</span><span class="p">(</span><span class="n">ints</span> <span class="o">=</span> <span class="p">{</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span> <span class="p">})</span>
	     <span class="kt">void</span> <span class="nf">if_it_is_negative</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span><span class="p">)</span> <span class="p">{</span>
	     <span class="p">}</span>

	 <span class="p">}</span>

	 <span class="nd">@Nested</span>
	 <span class="nd">@IndicativeSentencesGeneration</span><span class="p">(</span><span class="n">separator</span> <span class="o">=</span> <span class="s">" -&gt; "</span><span class="p">,</span> <span class="n">generator</span> <span class="o">=</span> <span class="n">DisplayNameGenerator</span><span class="p">.</span><span class="na">ReplaceUnderscores</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
	 <span class="kd">class</span> <span class="nc">A_year_is_a_leap_year</span> <span class="p">{</span>

	     <span class="nd">@Test</span>
	     <span class="kt">void</span> <span class="nf">if_it_is_divisible_by_4_but_not_by_100</span><span class="p">()</span> <span class="p">{</span>
	     <span class="p">}</span>

	     <span class="nd">@ParameterizedTest</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Year {0} is a leap year."</span><span class="p">)</span>
	     <span class="nd">@ValueSource</span><span class="p">(</span><span class="n">ints</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">2016</span><span class="p">,</span> <span class="mi">2020</span><span class="p">,</span> <span class="mi">2048</span> <span class="p">})</span>
	     <span class="kt">void</span> <span class="nf">if_it_is_one_of_the_following_years</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span><span class="p">)</span> <span class="p">{</span>
	     <span class="p">}</span>

	 <span class="p">}</span>

     <span class="p">}</span>
</pre></div>

<p>
So based on the above you can easily infer the following rules.
</p>
</div>

<ul class="org-ul">
<li>
<a id="org6e17289"></a>@DisplayName<br><div class="outline-text-6" id="text-org6e17289">
<p>
Declares a custom display name for the test class or test method. Such
annotations are not inherited.
</p>

<p>
Note that if such an annotator is not used you will work with
the default method name. See for instance the method
<code>if_it_is_zero</code> and the result as above:
</p>

<blockquote>
<p>
if it is zero() [OK]
</p>
</blockquote>
</div>
</li>

<li>
<a id="org651af0c"></a>@DisplayNameGeneration<br><div class="outline-text-6" id="text-org651af0c">
<p>
Declares a custom display name generator for the test class. Such
annotations are inherited.
</p>

<p>
Sets some general standards for the naming to be returned by the
methods. Nothing too fancy above but see again how the method
<code>if_it_is_zero</code> with underscores was replaced with spaced in
the output in the example above.
</p>
</div>
</li>

<li>
<a id="org472e87c"></a>@IndicativeSentencesGeneration<br><div class="outline-text-6" id="text-org472e87c">
<p>
Sets some standards for displaying the hierarchy. I think this
is especially important / might be especially important.
</p>
</div>
</li>

<li>
<a id="org631c457"></a>@Nested<br><div class="outline-text-6" id="text-org631c457">
<p>
This basically creates the hieararchical structure that you will
ultimately see on your GUI. It will help to structure your tests
in a meaningful way in this sense.
</p>

<p>
Denotes that the annotated class is a non-static nested test
class. @BeforeAll and @AfterAll methods cannot be used directly in a
@Nested test class unless the "per-class" test instance lifecycle is
used. Such annotations are not inherited.
</p>
</div>
</li>
</ul>
</li>


<li>
<a id="org24eaae7"></a>LifeCycle Annotations<br><ul class="org-ul">
<li>
<a id="org7b9925d"></a>Tests Lifecycle<br><div class="outline-text-6" id="text-org7b9925d">
<p>
In order to proper understand testing lifecycle you can check at
the following 101 test-example.
</p>

<p>
Next you have all of the basics standard types of tests.
</p>

<p>
Basic to understand then how that works. Trivial.
</p>

<div class="highlight"><pre><span></span>      <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.fail</span><span class="p">;</span>
      <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assumptions.assumeTrue</span><span class="p">;</span>

      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.AfterAll</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.AfterEach</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.BeforeAll</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.BeforeEach</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Disabled</span><span class="p">;</span>
      <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>

      <span class="kd">class</span> <span class="nc">StandardTests</span> <span class="p">{</span>

	  <span class="nd">@BeforeAll</span>
	  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">initAll</span><span class="p">()</span> <span class="p">{</span>
	  <span class="p">}</span>

	  <span class="nd">@BeforeEach</span>
	  <span class="kt">void</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
	  <span class="p">}</span>

	  <span class="nd">@Test</span>
	  <span class="kt">void</span> <span class="nf">succeedingTest</span><span class="p">()</span> <span class="p">{</span>
	  <span class="p">}</span>

	  <span class="nd">@Test</span>
	  <span class="kt">void</span> <span class="nf">failingTest</span><span class="p">()</span> <span class="p">{</span>
	      <span class="n">fail</span><span class="p">(</span><span class="s">"a failing test"</span><span class="p">);</span>
	  <span class="p">}</span>

	  <span class="nd">@Test</span>
	  <span class="nd">@Disabled</span><span class="p">(</span><span class="s">"for demonstration purposes"</span><span class="p">)</span>
	  <span class="kt">void</span> <span class="nf">skippedTest</span><span class="p">()</span> <span class="p">{</span>
	      <span class="c1">// not executed</span>
	  <span class="p">}</span>

	  <span class="nd">@Test</span>
	  <span class="kt">void</span> <span class="nf">abortedTest</span><span class="p">()</span> <span class="p">{</span>
	      <span class="n">assumeTrue</span><span class="p">(</span><span class="s">"abc"</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">"Z"</span><span class="p">));</span>
	      <span class="n">fail</span><span class="p">(</span><span class="s">"test should have been aborted"</span><span class="p">);</span>
	  <span class="p">}</span>

	  <span class="nd">@AfterEach</span>
	  <span class="kt">void</span> <span class="nf">tearDown</span><span class="p">()</span> <span class="p">{</span>
	  <span class="p">}</span>

	  <span class="nd">@AfterAll</span>
	  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">tearDownAll</span><span class="p">()</span> <span class="p">{</span>
	  <span class="p">}</span>

      <span class="p">}</span>
</pre></div>
</div>
</li>

<li>
<a id="org4bdbde9"></a>@BeforeEach<br><div class="outline-text-6" id="text-org4bdbde9">
<p>
Denotes that the annotated method should be executed before each
@Test, @RepeatedTest, @ParameterizedTest, or @TestFactory method in
the current class; analogous to JUnit 4’s @Before. Such methods are
inherited unless they are overridden. 
</p>
</div>
</li>

<li>
<a id="org4657a94"></a>@AfterEach<br><div class="outline-text-6" id="text-org4657a94">
<p>
Denotes that the annotated method should be executed after each @Test,
@RepeatedTest, @ParameterizedTest, or @TestFactory method in the
current class; analogous to JUnit 4’s @After. Such methods are
inherited unless they are overridden. 
</p>
</div>
</li>

<li>
<a id="orgc865af2"></a>@BeforeAll<br><div class="outline-text-6" id="text-orgc865af2">
<p>
Denotes that the annotated method should be executed before all @Test,
@RepeatedTest, @ParameterizedTest, and @TestFactory methods in the
current class; analogous to JUnit 4’s @BeforeClass. Such methods are
inherited (unless they are hidden or overridden) and must be static
(unless the "per-class" test instance lifecycle is used). 
</p>
</div>
</li>

<li>
<a id="orgd4736b6"></a>@AfterAll<br><div class="outline-text-6" id="text-orgd4736b6">
<p>
Denotes that the annotated method should be executed after all @Test,
@RepeatedTest, @ParameterizedTest, and @TestFactory methods in the
current class; analogous to JUnit 4’s @AfterClass. Such methods are
inherited (unless they are hidden or overridden) and must be static
(unless the "per-class" test instance lifecycle is used). 
</p>
</div>
</li>

<li>
<a id="org86e44bf"></a>@Disabled<br><div class="outline-text-6" id="text-org86e44bf">
<p>
Simple tag to disable a particular test.
</p>

<p>
Say for instance
</p>

<div class="highlight"><pre><span></span>      <span class="nd">@Disabled</span><span class="p">(</span><span class="s">"Disabled until bug #99 has been fixed"</span><span class="p">)</span>
</pre></div>

<p>
Note that there are some extensions in order to condtionally
disable. You can check at it online on the official
documentation. There you have the correct reference.                  
</p>
</div>
</li>


<li>
<a id="org529d977"></a><span class="todo TODO">TODO</span> @TestInstance<br><div class="outline-text-6" id="text-org529d977">
<p>
Used to configure the test instance lifecycle for the annotated test
class. Such annotations are inherited.
</p>

<p>
This is more interesting for <code>integration</code> and <code>functional</code>
tests. Basically you can specify there the lifecycle of the
thing.
</p>

<p>
Study it later at a later time-point.
</p>
</div>
</li>

<li>
<a id="org1a09335"></a><span class="todo TODO">TODO</span> @TestMethodOrder<br><div class="outline-text-6" id="text-org1a09335">
<p>
Used as well to
</p>

<p>
Used to configure the test method execution order for the annotated
test class; similar to JUnit 4’s @FixMethodOrder. Such annotations are
inherited. 
</p>
</div>
</li>



<li>
<a id="org05d9777"></a><span class="todo TODO">TODO</span> @TestClassOrder<br><div class="outline-text-6" id="text-org05d9777">
<p>
Used to configure the test class execution order for @Nested test
classes in the annotated test class. Such annotations are inherited.
</p>
</div>
</li>
</ul>
</li>


<li>
<a id="org9ee8d04"></a><span class="todo TODO">TODO</span> check how to combine the annoations above into meta-annotations<br><div class="outline-text-5" id="text-org9ee8d04">
<p>
see chapter 2.1 in this sense. 
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org8bb8803" class="outline-4">
<h4 id="org8bb8803">AssertionTypes</h4>
<div class="outline-text-4" id="text-org8bb8803">
<p>
Check in the following all of the different types of possible
assertion methods - note again in junit package.
</p>

<p>
Note that should you want to start to go deeper into the topic
there is the following statement on the official documentation:
</p>

<blockquote>
<p>
There are times when more power and additional functionality such as
matchers are desired or required. In such cases, the JUnit team
recommends the use of third-party assertion libraries such as <code>AssertJ,
Hamcrest, Truth</code>, etc. Developers are therefore free to use the
assertion library of their choice. 
</p>
</blockquote>

<p>
Might want to check at these.
</p>

<p>
In any case coming back to our case, see the following script with
the possible assertions. I especially like the
<b>assertionTimeOut</b>. I never worked with it before but I can
already picture beautiful use-cases for it. Very neat.
</p>

<div class="highlight"><pre><span></span>    <span class="kn">import static</span> <span class="nn">java.time.Duration.ofMillis</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">java.time.Duration.ofMinutes</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertAll</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertEquals</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertNotNull</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertThrows</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertTimeout</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertTimeoutPreemptively</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertTrue</span><span class="p">;</span>

    <span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="p">;</span>

    <span class="kn">import</span> <span class="nn">example.domain.Person</span><span class="p">;</span>
    <span class="kn">import</span> <span class="nn">example.util.Calculator</span><span class="p">;</span>

    <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>

    <span class="kd">class</span> <span class="nc">AssertionsDemo</span> <span class="p">{</span>

	<span class="kd">private</span> <span class="kd">final</span> <span class="n">Calculator</span> <span class="n">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Calculator</span><span class="p">();</span>

	<span class="kd">private</span> <span class="kd">final</span> <span class="n">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">"Jane"</span><span class="p">,</span> <span class="s">"Doe"</span><span class="p">);</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">standardAssertions</span><span class="p">()</span> <span class="p">{</span>
	    <span class="n">assertEquals</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">calculator</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>

	    <span class="n">assertEquals</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">calculator</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
			 <span class="s">"The optional failure message is now the last parameter"</span><span class="p">);</span>


	    <span class="c1">// well the next point is a I wanna be thing. I don't think that compiling a string is such a big issue</span>
	    <span class="c1">// anyways see the point of lazy evaluation.</span>
	    <span class="n">assertTrue</span><span class="p">(</span><span class="sc">'a'</span> <span class="o">&lt;</span> <span class="sc">'b'</span><span class="p">,</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="s">"Assertion messages can be lazily evaluated -- "</span>
		       <span class="o">+</span> <span class="s">"to avoid constructing complex messages unnecessarily."</span><span class="p">);</span> 
	<span class="p">}</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">groupedAssertions</span><span class="p">()</span> <span class="p">{</span>
	    <span class="c1">// In a grouped assertion all assertions are executed, and all</span>
	    <span class="c1">// failures will be reported together.</span>
	    <span class="n">assertAll</span><span class="p">(</span><span class="s">"person"</span><span class="p">,</span>
		      <span class="p">()</span> <span class="o">-&gt;</span> <span class="n">assertEquals</span><span class="p">(</span><span class="s">"Jane"</span><span class="p">,</span> <span class="n">person</span><span class="p">.</span><span class="na">getFirstName</span><span class="p">()),</span>
		      <span class="p">()</span> <span class="o">-&gt;</span> <span class="n">assertEquals</span><span class="p">(</span><span class="s">"Doe"</span><span class="p">,</span> <span class="n">person</span><span class="p">.</span><span class="na">getLastName</span><span class="p">())</span>
		      <span class="p">);</span>
	<span class="p">}</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">dependentAssertions</span><span class="p">()</span> <span class="p">{</span>
	    <span class="c1">// Within a code block, if an assertion fails the</span>
	    <span class="c1">// subsequent code in the same block will be skipped.</span>
	    <span class="n">assertAll</span><span class="p">(</span><span class="s">"properties"</span><span class="p">,</span>
		      <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">{</span>
			  <span class="n">String</span> <span class="n">firstName</span> <span class="o">=</span> <span class="n">person</span><span class="p">.</span><span class="na">getFirstName</span><span class="p">();</span>
			  <span class="n">assertNotNull</span><span class="p">(</span><span class="n">firstName</span><span class="p">);</span>

			  <span class="c1">// Executed only if the previous assertion is valid.</span>
			  <span class="n">assertAll</span><span class="p">(</span><span class="s">"first name"</span><span class="p">,</span>
				    <span class="p">()</span> <span class="o">-&gt;</span> <span class="n">assertTrue</span><span class="p">(</span><span class="n">firstName</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">"J"</span><span class="p">)),</span>
				    <span class="p">()</span> <span class="o">-&gt;</span> <span class="n">assertTrue</span><span class="p">(</span><span class="n">firstName</span><span class="p">.</span><span class="na">endsWith</span><span class="p">(</span><span class="s">"e"</span><span class="p">))</span>
				    <span class="p">);</span>
		      <span class="p">},</span>
		      <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">{</span>
			  <span class="c1">// Grouped assertion, so processed independently</span>
			  <span class="c1">// of results of first name assertions.</span>
			  <span class="n">String</span> <span class="n">lastName</span> <span class="o">=</span> <span class="n">person</span><span class="p">.</span><span class="na">getLastName</span><span class="p">();</span>
			  <span class="n">assertNotNull</span><span class="p">(</span><span class="n">lastName</span><span class="p">);</span>

			  <span class="c1">// Executed only if the previous assertion is valid.</span>
			  <span class="n">assertAll</span><span class="p">(</span><span class="s">"last name"</span><span class="p">,</span>
				    <span class="p">()</span> <span class="o">-&gt;</span> <span class="n">assertTrue</span><span class="p">(</span><span class="n">lastName</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">"D"</span><span class="p">)),</span>
				    <span class="p">()</span> <span class="o">-&gt;</span> <span class="n">assertTrue</span><span class="p">(</span><span class="n">lastName</span><span class="p">.</span><span class="na">endsWith</span><span class="p">(</span><span class="s">"e"</span><span class="p">))</span>
				    <span class="p">);</span>
		      <span class="p">}</span>
		      <span class="p">);</span>
	<span class="p">}</span>

	<span class="c1">// so note the syntax of assertThrows:</span>
	<span class="c1">// first argument: exception that should result</span>
	<span class="c1">// second arg: the actual code that should throw the exception.</span>
	<span class="c1">// third arg: message   If the executable code does not throw</span>
	<span class="c1">//            any exception, this message will be printed along with FAIL result </span>
	<span class="c1">// so basically use it in order to see if you get the error as desired. </span>
	<span class="nd">@Test</span> 
	<span class="kt">void</span> <span class="nf">exceptionTesting</span><span class="p">()</span> <span class="p">{</span>
	    <span class="n">Exception</span> <span class="n">exception</span> <span class="o">=</span> <span class="n">assertThrows</span><span class="p">(</span><span class="n">ArithmeticException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span> <span class="p">()</span> <span class="o">-&gt;</span>
					       <span class="n">calculator</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span> 

	    <span class="n">assertEquals</span><span class="p">(</span><span class="s">"/ by zero"</span><span class="p">,</span> <span class="n">exception</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
	<span class="p">}</span>

	<span class="c1">// this is a very nice one.</span>
	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">timeoutNotExceeded</span><span class="p">()</span> <span class="p">{</span>
	    <span class="c1">// The following assertion succeeds.</span>
	    <span class="n">assertTimeout</span><span class="p">(</span><span class="n">ofMinutes</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">{</span>
		    <span class="c1">// Perform task that takes less than 2 minutes.</span>
		<span class="p">});</span>
	<span class="p">}</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">timeoutNotExceededWithResult</span><span class="p">()</span> <span class="p">{</span>
	    <span class="c1">// The following assertion succeeds, and returns the supplied object.</span>
	    <span class="n">String</span> <span class="n">actualResult</span> <span class="o">=</span> <span class="n">assertTimeout</span><span class="p">(</span><span class="n">ofMinutes</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">{</span>
		    <span class="k">return</span> <span class="s">"a result"</span><span class="p">;</span>
		<span class="p">});</span>
	    <span class="n">assertEquals</span><span class="p">(</span><span class="s">"a result"</span><span class="p">,</span> <span class="n">actualResult</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">timeoutNotExceededWithMethod</span><span class="p">()</span> <span class="p">{</span>
	    <span class="c1">// The following assertion invokes a method reference and returns an object.</span>
	    <span class="n">String</span> <span class="n">actualGreeting</span> <span class="o">=</span> <span class="n">assertTimeout</span><span class="p">(</span><span class="n">ofMinutes</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">AssertionsDemo</span><span class="p">::</span><span class="n">greeting</span><span class="p">);</span>
	    <span class="n">assertEquals</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">,</span> <span class="n">actualGreeting</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">timeoutExceeded</span><span class="p">()</span> <span class="p">{</span>
	    <span class="c1">// The following assertion fails with an error message similar to:</span>
	    <span class="c1">// execution exceeded timeout of 10 ms by 91 ms</span>
	    <span class="n">assertTimeout</span><span class="p">(</span><span class="n">ofMillis</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">{</span>
		    <span class="c1">// Simulate task that takes more than 10 ms.</span>
		    <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
		<span class="p">});</span>
	<span class="p">}</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">timeoutExceededWithPreemptiveTermination</span><span class="p">()</span> <span class="p">{</span>
	    <span class="c1">// The following assertion fails with an error message similar to:</span>
	    <span class="c1">// execution timed out after 10 ms</span>
	    <span class="n">assertTimeoutPreemptively</span><span class="p">(</span><span class="n">ofMillis</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">{</span>
		    <span class="c1">// Simulate task that takes more than 10 ms.</span>
		    <span class="k">new</span> <span class="n">CountDownLatch</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="na">await</span><span class="p">();</span>
		<span class="p">});</span>
	<span class="p">}</span>

	<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">greeting</span><span class="p">()</span> <span class="p">{</span>
	    <span class="k">return</span> <span class="s">"Hello, World!"</span><span class="p">;</span>
	<span class="p">}</span>

    <span class="p">}</span>
</pre></div>
</div>
</div>


<div id="outline-container-orgd9ac2bd" class="outline-4">
<h4 id="orgd9ac2bd">Assumptions</h4>
<div class="outline-text-4" id="text-orgd9ac2bd">
<p>
Ok… that is as well something I never came across
before. Interesting to know of its existence.
</p>

<p>
The idea is the following, if you include an <i>assumption</i>
statement in a test, if the assumption is met then you run the
rest of the test otherwise you will abort the test <b>without
throwing an error</b> for it.
</p>

<p>
It is essentially and if condition that has to hold in order to
run the test.
</p>

<p>
Then see the following two options (<code>assumeTrue</code> and <code>assumeThat</code>)
</p>

<div class="highlight"><pre><span></span>    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assertions.assertEquals</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assumptions.assumeTrue</span><span class="p">;</span>
    <span class="kn">import static</span> <span class="nn">org.junit.jupiter.api.Assumptions.assumingThat</span><span class="p">;</span>

    <span class="kn">import</span> <span class="nn">example.util.Calculator</span><span class="p">;</span>

    <span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>

    <span class="kd">class</span> <span class="nc">AssumptionsDemo</span> <span class="p">{</span>

	<span class="kd">private</span> <span class="kd">final</span> <span class="n">Calculator</span> <span class="n">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Calculator</span><span class="p">();</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">testOnlyOnCiServer</span><span class="p">()</span> <span class="p">{</span>
	    <span class="n">assumeTrue</span><span class="p">(</span><span class="s">"CI"</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">getenv</span><span class="p">(</span><span class="s">"ENV"</span><span class="p">)));</span> <span class="c1">// note that it</span>
							   <span class="c1">// is a boolean</span>
							   <span class="c1">// condition. It</span>
							   <span class="c1">// is not a</span>
							   <span class="c1">// function of</span>
							   <span class="c1">// multiple</span>
							   <span class="c1">// parameters.</span>
	    <span class="c1">// remainder of test</span>
	<span class="p">}</span>

	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">testOnlyOnDeveloperWorkstation</span><span class="p">()</span> <span class="p">{</span>
	    <span class="n">assumeTrue</span><span class="p">(</span><span class="s">"DEV"</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">getenv</span><span class="p">(</span><span class="s">"ENV"</span><span class="p">)),</span>
		<span class="p">()</span> <span class="o">-&gt;</span> <span class="s">"Aborting test: not on developer workstation"</span><span class="p">);</span> <span class="c1">// with message</span>
	    <span class="c1">// remainder of test</span>
	<span class="p">}</span>

	<span class="c1">// note that you could do the above in two different tests but</span>
	<span class="c1">// good to know the compact option.</span>
	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">testInAllEnvironments</span><span class="p">()</span> <span class="p">{</span>
	    <span class="n">assumingThat</span><span class="p">(</span><span class="s">"CI"</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">getenv</span><span class="p">(</span><span class="s">"ENV"</span><span class="p">)),</span>
		<span class="p">()</span> <span class="o">-&gt;</span> <span class="p">{</span>
		    <span class="c1">// perform these assertions only on the CI server</span>
		    <span class="n">assertEquals</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">calculator</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
		<span class="p">});</span>

	    <span class="c1">// perform these assertions in all environments</span>
	    <span class="n">assertEquals</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">calculator</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">));</span>
	<span class="p">}</span>

    <span class="p">}</span>
</pre></div>
</div>
</div>



<div id="outline-container-orgb615163" class="outline-3">
<h3 id="orgb615163">
<span class="todo TODO">TODO</span> Mockito</h3>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../front-end-stories/" rel="prev" title="Front-End Stories">Previous post</a>
            </li>
        </ul></nav></aside></article><footer id="footer"><p>Contents © 2022         <a href="mailto:marco.hassan30@gmail.com">Marco Hassan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
