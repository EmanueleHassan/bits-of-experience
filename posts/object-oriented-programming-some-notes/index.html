<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Object Oriented Programming - Some Notes | Bits of Experience</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://emanuelehassan.github.io/bits-of-experience/posts/object-oriented-programming-some-notes/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Marco Hassan">
<link rel="prev" href="../java-application-deployment-some-vocabulary-and-high-level-understanding/" title="Java Application Deployment - Some Vocabulary and high Level Understanding" type="text/html">
<link rel="next" href="../on-a-brownfield-play/" title="On a Brownfield Play" type="text/html">
<meta property="og:site_name" content="Bits of Experience">
<meta property="og:title" content="Object Oriented Programming - Some Notes">
<meta property="og:url" content="https://emanuelehassan.github.io/bits-of-experience/posts/object-oriented-programming-some-notes/">
<meta property="og:description" content="img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-11-17T16:37:49+01:00">
<meta property="article:tag" content="oop">
<meta property="article:tag" content="software-engineering">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="../../pages/aboutme/" title="About me"><i class="fa fa-user-circle"></i></a></li>
            <li><a href="../../pages/bits-of-experience-a-readable-view-on-my-study-adventures/" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../../index.html" title="Blog"><i class="fa fa-edit"></i></a></li>
            <li><a href="../../pages/emacs/" title="A life Configuring Emacs"><i class="fa fa-code"></i></a></li>
            <li><a href="../../pages/papers/" title="Term and Research Papers"><i class="fa fa-university"></i></a></li>
            <li><a href="../../pages/foto-blog/" title="Foto Blog"><i class="fa fa-camera-retro"></i></a></li>
            <li><a href="https://github.com/MarcoHassan" title="My Github"><i class="fab fa-github"></i></a></li>
            <li><a href="https://stackoverflow.com/users/9731177/mhass" title="My Stack"><i class="fab fa-stack-overflow"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Object Oriented Programming - Some Notes</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2021-11-17T16:37:49+01:00" itemprop="datePublished" title="2021-11-17 16:37">2021-11-17 16:37</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Marco Hassan
            </span></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            
    <div class="tags">
<h3 class="metadata-title">
<i class="fa fa-tags"></i> Tags:</h3>
        <ul itemprop="keywords" class="tags-ul">
<li><a class="tag p-category" href="../../categories/oop/" rel="tag">oop</a></li>
            <li><a class="tag p-category" href="../../categories/software-engineering/" rel="tag">software-engineering</a></li>
        </ul>
</div>

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <style>
img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin-top: 60px;
  margin-bottom: 60px;
  width: 70%;
  overflow: hidden;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
  display:block;
  overflow-y: hidden;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: none;
  display:block;
  overflow-y: hidden;
}
</style>
<p>
So here are some notes on concepts you have to use when working in a
proper OOP way.
</p>

<p>
Once upon a time, I had written some notes about major OOP
concepts. Unfortunately it got lost. Learn your lesson from it as this
is a real pity.
</p>

<p>
In any case start anew here. Basically this should cover a little bit
of Software Design best practices. Add some notes for instance through
the following sources
</p>

<ul class="org-ul">
<li>
<a href="https://refactoring.guru/design-patterns">design-patterns and refactoring</a> - online source.</li>

<li>
<a href="http://www.javier8a.com/itc/bd1/articulo.pdf">desing patterns</a> - apparently <i>THE BOOK</i> in order to write proper
software .</li>
</ul>
<p>
So when you read the book it is immediate that the design patterns
ultimately depend on the OOP concepts, such as composition,
inheritance, delegation etc. So basically these are the atoms of OOP
and patterns are based on such atoms. So in the book you start from
the atoms. Otherwise it makes sense to read a separate book completely
dedicated to it, such as: <i>Object-Oriented Thought Process</i>.
</p>

<p>
It is a good investement learning such patterns. You will be then much
better able to decompose the existing applications. This will help you
to navigate big existing legacy applications where no description of
it is attached to it.
</p>

<!-- TEASER_END -->

<div id="outline-container-org66a8a67" class="outline-2">
<h2 id="org66a8a67">On a Side Note about the Notation</h2>
<div class="outline-text-2" id="text-org66a8a67">
<p>
Note that all of the UML charts in this post are produced with the
UML class notation.
</p>

<p>
Here an overview:
</p>

<img src="../../images/Screenshot%202022-09-07%20135455.png" class="center">
</div>
</div>


<div id="outline-container-org2f32d5f" class="outline-2">
<h2 id="org2f32d5f">Design Patterns</h2>
<div class="outline-text-2" id="text-org2f32d5f">
<p>
So taking now a moment to dig into design patterns.
</p>

<p>
Basically understand that they are broadly defined in to 3
categories:
</p>

<ul class="org-ul">
<li>
<code>Creational patterns</code>: provide object creation mechanisms that
increase flexibility and reuse of existing code.</li>

<li>
<code>Structural patterns</code>: explain how to assemble objects and classes
into larger structures, while keeping the structures flexible and
efficient.</li>

<li>
<code>Behavioral patterns</code>: take care of effective communication and
the assignment of responsibilities between objects.</li>
</ul>
<p>
At the end you will see that many things you already started to use
out of the box after a couple of month working more in an OOP way.
</p>
</div>

<div id="outline-container-org3d05a77" class="outline-3">
<h3 id="org3d05a77">Map of Design Patterns</h3>
<div class="outline-text-3" id="text-org3d05a77">
<p>
Generally keep in mind the following overview:
</p>

<img src="../../images/Screenshot%202022-08-25%20085656.png" class="center"><p>
Note that above <b>object patterns</b> refer to object relationships that
can be changed at <b>run-time</b>. In contrast <b>classes patterns</b> refer
to reletionships among classes, meaning these are static and fixed
at <b>compile time</b>.
</p>
</div>
</div>


<div id="outline-container-org8c4e4af" class="outline-3">
<h3 id="org8c4e4af">Relation Among the Patterns</h3>
<div class="outline-text-3" id="text-org8c4e4af">
<p>
Important is as well to understand that there is a relation among
patterns. I.e. it is quite common to combine them in order to
perform the necessary logic of your programs.
</p>

<img src="../../images/Screenshot%202022-08-25%20090514.png" class="center"><p>
Note that some patterns are as well subsititute; think for instance
of <i>prototype</i> and <i>abstract factory</i>.
</p>
</div>
</div>


<div id="outline-container-org72c142c" class="outline-3">
<h3 id="org72c142c">Intent classification for the different Patterns</h3>
<div class="outline-text-3" id="text-org72c142c">
<p>
So you can refer as well to the following for designing the thing.
</p>

<p>
It will be useful as well, especially at the beginning, for
understanding what patterns you want to apply when creating your
code - less so for reverse engineering existing code - I might be
wrong here though.
</p>

<p>
Note that this is a copy and paste from the design patterns book
p. 24-25. 
</p>

<blockquote>
<ol class="org-ol">
<li>
<p>
Design patterns: Abstract Factory (87),Factory Method
(107),Prototype (117).
</p>

<p>
Creating an object by specifying a class explicitly. Specifying a
class name when you create an object commits you to a particular
implementation instead of a particular interface. This commitment
can complicate future changes. <b>To avoid it, create objects
indirectly</b>.
</p>
</li>

<li>
<p>
Design patterns: Chain of Responsibility (223),Command (233).
</p>

<p>
Dependence on specific operations. When you specify a particular
operation, you commit to one way of satisfying a request. By
<b>avoiding hard-coded requests</b>, you make it easier to change the way
a request gets satisfied both at compile-time and at run-time.
</p>
</li>

<li>
<p>
Design patterns: Abstract Factory(87),Bridge (151).
</p>

<p>
Dependence on hardware and software platform. External operating
system interfaces and application programming interfaces (APIs) are
different on different hardware and software platforms.Software
that depends on a particular platform will be harder to port to
other platforms.It may even be difficult to keep it up to date on
its native platform. It's important therefore to <b>design your system
to limit its platform dependencies</b>.
</p>
</li>

<li>
<p>
Design patterns: AbstractFactory (87),Bridge (151), Memento (283),Proxy (207).
</p>

<p>
Dependence on object representations or implementations. Clients
that know how an object is represented, stored, located, or
implemented might need to be changed when the object
changes. <b>Hiding this information from clients keeps changes from
cascading</b>. So this is the <b>concept of Transparency</b>.
</p>
</li>

<li>
<p>
Design patterns: Builder (97), Iterator (257), Strategy (315),
Template Method (325),Visitor(331).
</p>

<p>
Algorithmic dependencies. <b>Algorithms are often extended, optimized,
and replaced</b> during development and reuse. Objects that depend on
an algorithm will have to change when the algorithm
changes. <b>Therefore algorithms that are likely to change should be
isolated</b>.
</p>

<p>
<i>Personal note:</i> sounds much like transparency and the previous
point. Once you have all the patterns studied and clear in the mind
come back here.
</p>
</li>

<li>
<p>
Design patterns: AbstractFactory (87), Bridge (151), Chain of
Responsibility (223), Command (233), Facade (185),Mediator (273),
Observer (293).
</p>

<p>
Tight coupling. Classes that are tightly coupled are hard to reuse
in isolation, since they depend on each other. <b>Tight coupling
leads to monolithic systems</b>, where you can't change or remove a
class without understanding and changing many other classes. The
system becomes a dense mass that's hard to learn, port, and
maintain. -&gt; Gordian Knot.
</p>

<p>
<b>Loose coupling increases the probability</b> that a class can be reused
by itself and that a system can be learned, ported, modified, and
extended more easily. Design patterns use techniques such as
abstract coupling and layering to promote loosely coupled systems.
</p>

<p>
Note layering - old trick of CS - add a layer of indirection.
</p>
</li>

<li>
<p>
Design patterns: Bridge (151), Chain of Responsibility (223),
Composite (163), Decorator (175), Observer (293),Strategy (315).
</p>

<p>
Customizing an object by subclassing often isn't easy. Every new
class has a fixed implementation overhead (initialization,
finalization, etc.). Defining a subclass also requires an in-depth
understanding of the parent class. For example, overriding one
operation might require overriding another.An overridden operation
might be required to call an inherited operation. And subclassing
can lead to an explosion of classes, because you might have to
introduce many new subclasses for even a simple extension.
</p>

<p>
<b>Object composition in general and delegation</b> in particular
provide flexible <b>alternatives to inheritance for combining
behavior</b>. <b>New functionality</b> can be added to an application by
<b>composing existing objects</b> in new ways rather than by defining
new subclasses of existing classes. On the other hand, <b>heavy use
of object composition can make designs harder to understand</b>. Many
design patterns produce designs in which you can introduce
customized functionality just by defining one subclass and
composing its instances with existing ones.
</p>
</li>

<li>
<p>
Design patterns: Adapter (139),Decorator(175),Visitor(331).
</p>

<p>
<b>Inability to alter classes conveniently - these design patterns
fix it</b>.
</p>

<p>
Sometimes you have to modify a class that can't be modified
conveniently.Perhaps you need the source code and don't have it (as
may be the case with a commercial class library). Or maybe any
change would require modifying lots of existing subclasses. Design
patterns offer ways to modify classes in such circumstances.
</p>
</li>
</ol>
</blockquote>
</div>
</div>


<div id="outline-container-orgda682d3" class="outline-3">
<h3 id="orgda682d3">Aspect that can vary per design pattern</h3>
<div class="outline-text-3" id="text-orgda682d3">
<p>
This is as well useful; in the sense that you can refer to the
following to understand what you would like to keep flexible in
your system and what not.
</p>

<img src="../../images/Screenshot%202022-08-25%20164022.png" class="center">
</div>
</div>
</div>


<div id="outline-container-org55c5a3a" class="outline-2">
<h2 id="org55c5a3a">Logic of OOP that makes some patterns possible</h2>
<div class="outline-text-2" id="text-org55c5a3a">
<p>
So one of the mayor concept in OOP is the one of <b>dynamic
binding</b>. This allows patterns such as the abstract factory.
</p>

<p>
The essential idea is that when you trigger a method (a request),
the behaviour is not simply defined by the method itself but it is
rather a combination of <b>object</b> and <b>method</b>, this actually
specifies the operation.
</p>

<blockquote>
<p>
The run-time association of a request to an object and one of its
operations (methods) is known as <b>dynamic binding</b>.
</p>
</blockquote>

<p>
<i>Side note - the concept is clear. There is just a bit of new
terminology. Do not get confused as everything boils down to:</i>
</p>

<blockquote>
<p>
Dynamic binding means that issuing a request doesn't commit you to a
particular implementation until run-time.
</p>
</blockquote>
</div>
</div>


<div id="outline-container-org646b743" class="outline-2">
<h2 id="org646b743">Creational Patterns</h2>
<div class="outline-text-2" id="text-org646b743">
<p>
Creational class patterns defer some part of object creation to
subclasses, while Creational object patterns defer it to another
object.
</p>

<p>
Note that creational patterns heavy leverage the Java future of
reference variables. See for instance the following snippet for it
on your Java notes in the following section.
</p>
</div>


<div id="outline-container-org1bb9d3f" class="outline-3">
<h3 id="org1bb9d3f">On reference variables using interafaces   <span class="tag"><span class="reference_variable">reference_variable</span></span>
</h3>
<div class="outline-text-3" id="text-org1bb9d3f">
<p>
This is convenient. Recall that it was possible to define
reference variables as superclasses and to reference then objects
of subclasses. It was then possible to call the different abstract
methods of the superclass that would then trigger the right call
to the actual implementation of it in the subclass.
</p>

<p>
In a similar way it is possible to create reference variables as
interfaces and point then to the different objects of classes
implementing such interface.
</p>

<p>
<b>Any instance of any class that implements the declared interface
can be referred to by such a variable</b>.
</p>

<p>
The exact way the interface is implemented depends then on the
type of object that the reference interface variable points
at. This in a very similar way to what was already explained for
the case of superclass reference variable.
</p>

<p>
<b>Note:</b> interestingly when you implement a reference variable of
type interface and then refer to an object of some class referring
to that interface you can access all of the methods specified by
the interface via the reference variable but <b>you cannot access
any other members defined in the class</b> implementing the
interface.
</p>

<p>
The method to be executed is looked up dynamically at run time,
allowing classes to be created later than the code which calls
methods on them.
</p>

<blockquote>
<p>
CAUTION Because dynamic lookup of a method at run time incurs a
significant overhead when compared with the normal method invocation
in Java, you should be careful not to use interfaces casually in
performance-critical code.
</p>
</blockquote>
</div>
</div>


<div id="outline-container-org44d2693" class="outline-3">
<h3 id="org44d2693">Factory Methods</h3>
<div class="outline-text-3" id="text-org44d2693">
<p>
Basically this is the one I was already noting when making some
notes generally about Java.
</p>

<p>
This is very core in order to write a bit of solid code. You have to
understand and interiorize it.
</p>

<p>
Basically the idea is the following:
</p>

<ul class="org-ul">
<li>
<p>
Define an interface for creating an object, but let subclasses
decide <b>which class</b> (so you see this pattern is at class level -
meaning compile time) to instantiate.
</p>

<p>
Factory Method lets a class defer instantiation to subclasses.
</p>
</li>

<li>So that is basically a <i>virtual</i> constructor via a method.</li>
</ul>
<p>
So the idea is essentailly the following:
</p>

<img src="../../images/Screenshot%202022-01-28%20122956.png" class="center"><p>
Note that this is called <b>method</b> for a reason. You have actually
here a method in the interface and the ProductOne and ProductTwo in
the above will <b>implement that method constructing an object from
the desired class</b>. So actually the construction happens via method
and not by reference assigning an object to a general
interface. Keep this <i>well into your mind</i>.
</p>

<img src="../../images/Screenshot%202022-08-26%20155654.png" class="center"><p>
Note now that the idea is that the two classes that implement the
factory method must be of the same kind - Transport in the case
above.
</p>

<p>
You must therefore have an interface Transport as well that your
Logistics Objects implement.
</p>

<p>
Then that is it. You can work with your general Logistics object
and assign it to a more specific Object implementing the factory
method.
</p>

<p>
You can then structure your code around the <b>general Logistics
Object</b> and not the particular Objects.
</p>

<p>
The general structure would then be as follows.
</p>

<img src="../../images/Screenshot%202022-11-09%20122716.png" class="center"><p>
And the abstract code for such an implementation would look as
follows
</p>

<div class="highlight"><pre><span></span><span class="w">   </span><span class="c1">// The creator class declares the factory method that must</span>
<span class="w">   </span><span class="c1">// return an object of a product class. The creator's subclasses</span>
<span class="w">   </span><span class="c1">// usually provide the implementation of this method.</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">Dialog</span><span class="w"> </span><span class="n">is</span>
<span class="w">   </span><span class="c1">// The creator may also provide some default implementation</span>
<span class="w">   </span><span class="c1">// of the factory method.</span>
<span class="w">       </span><span class="kd">abstract</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="nf">createButton</span><span class="p">():</span><span class="n">Button</span>

<span class="w">	   </span><span class="c1">// Note that, despite its name, the creator's primary</span>
<span class="w">	   </span><span class="c1">// responsibility isn't creating products. It usually</span>
<span class="w">	   </span><span class="c1">// contains some core business logic that relies on product</span>
<span class="w">	   </span><span class="c1">// objects returned by the factory method. Subclasses can</span>
<span class="w">	   </span><span class="c1">// indirectly change that business logic by overriding the</span>
<span class="w">	   </span><span class="c1">// factory method and returning a different type of product</span>
<span class="w">	   </span><span class="c1">// from it.</span>
<span class="w">	   </span><span class="n">method</span><span class="w"> </span><span class="nf">render</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="c1">// Call the factory method to create a product object.</span>
<span class="w">	   </span><span class="n">Button</span><span class="w"> </span><span class="n">okButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createButton</span><span class="p">()</span>
<span class="w">	   </span><span class="c1">// Now use the product.</span>
<span class="w">	   </span><span class="n">okButton</span><span class="p">.</span><span class="na">onClick</span><span class="p">(</span><span class="n">closeDialog</span><span class="p">)</span>
<span class="w">	   </span><span class="n">okButton</span><span class="p">.</span><span class="na">render</span><span class="p">()</span>


<span class="w">   </span><span class="c1">// Concrete creators override the factory method to change the</span>
<span class="w">   </span><span class="c1">// resulting product's type.</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">WindowsDialog</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Dialog</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">createButton</span><span class="p">():</span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">WindowsButton</span><span class="p">()</span>

<span class="w">   </span><span class="kd">class</span> <span class="nc">WebDialog</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Dialog</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">createButton</span><span class="p">():</span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">HTMLButton</span><span class="p">()</span>


<span class="w">   </span><span class="c1">// The product interface declares the operations that all</span>
<span class="w">   </span><span class="c1">// concrete products must implement.</span>
<span class="w">   </span><span class="kd">interface</span> <span class="nc">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">render</span><span class="p">()</span>
<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">onClick</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="w">   </span><span class="c1">// Concrete products provide various implementations of the</span>
<span class="w">   </span><span class="c1">// product interface.</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">WindowsButton</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">render</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="c1">// Render a button in Windows style.</span>
<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">onClick</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="c1">// Bind a native OS click event.</span>

<span class="w">   </span><span class="kd">class</span> <span class="nc">HTMLButton</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>

<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">render</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="c1">// Return an HTML representation of a button.</span>
<span class="w">      </span><span class="n">method</span><span class="w"> </span><span class="nf">onClick</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">is</span>
<span class="w">      </span><span class="c1">// Bind a web browser click event.</span>


<span class="w">   </span><span class="kd">class</span> <span class="nc">Application</span><span class="w"> </span><span class="n">is</span>
<span class="w">   </span><span class="n">field</span><span class="w"> </span><span class="n">dialog</span><span class="p">:</span><span class="w"> </span><span class="n">Dialog</span>

<span class="w">   </span><span class="c1">// The application picks a creator's type depending on the</span>
<span class="w">   </span><span class="c1">// current configuration or environment settings.</span>
<span class="w">   </span><span class="n">method</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">   </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readApplicationConfigFile</span><span class="p">()</span>

<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="na">OS</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"Windows"</span><span class="p">)</span><span class="w"> </span><span class="n">then</span>
<span class="w">				   </span><span class="n">dialog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WindowsDialog</span><span class="p">()</span>
<span class="w">       </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="na">OS</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"Web"</span><span class="p">)</span><span class="w"> </span><span class="n">then</span>
<span class="w">					</span><span class="n">dialog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WebDialog</span><span class="p">()</span>
<span class="w">	   </span><span class="k">else</span>
<span class="w">	       </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s">"Error! Unknown operating system."</span><span class="p">)</span>

<span class="w">		   </span><span class="c1">// The client code works with an instance of a concrete</span>
<span class="w">		   </span><span class="c1">// creator, albeit through its base interface. As long as</span>
<span class="w">		   </span><span class="c1">// the client keeps working with the creator via the base</span>
<span class="w">		   </span><span class="c1">// interface, you can pass it any creator's subclass.</span>
<span class="w">		   </span><span class="n">method</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">		   </span><span class="k">this</span><span class="p">.</span><span class="na">initialize</span><span class="p">()</span>
<span class="w">		   </span><span class="n">dialog</span><span class="p">.</span><span class="na">render</span><span class="p">()</span>
</pre></div>
</div>
</div>




<div id="outline-container-orgff1defa" class="outline-3">
<h3 id="orgff1defa">Abstract Factory</h3>
<div class="outline-text-3" id="text-orgff1defa">
<p>
This is another pattern that uses the concept of dynamic binding in
OOP.
</p>

<p>
Note that the way it uses such concept is quite elaborated.
</p>

<p>
I will elaborate next but you see that such patterns are indeed
swiss knifes. Meaning it is not something that you implement on the
fly when you program. At least not at the beginning. You have to
make some explicit thinking before and take quite some design
steps.
</p>

<p>
In general this pattern looks as follows:
</p>

<img src="../../images/Screenshot%202022-08-26%20162111.png" class="center"><p>
And to understand that better think of the following
implementation:
</p>

<img src="../../images/Screenshot%202022-08-26%20162847.png" class="center"><p>
In this sense understand the following pseudo-code in order to
understand the pattern - note that <b>factory methods</b> are used (you
can also use other patterns such as prototypes there -:   
</p>

<div class="highlight"><pre><span></span><span class="w">   </span><span class="c1">// The abstract factory interface declares a set of methods that</span>
<span class="w">   </span><span class="c1">// return different abstract products. These products are called</span>
<span class="w">   </span><span class="c1">// a family and are related by a high-level theme or concept.</span>
<span class="w">   </span><span class="c1">// Products of one family are usually able to collaborate among</span>
<span class="w">   </span><span class="c1">// themselves. A family of products may have several variants,</span>
<span class="w">   </span><span class="c1">// but the products of one variant are incompatible with the</span>
<span class="w">   </span><span class="c1">// products of another variant.</span>
<span class="w">   </span><span class="kd">interface</span> <span class="nc">GUIFactory</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">createButton</span><span class="p">():</span><span class="n">Button</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">createCheckbox</span><span class="p">():</span><span class="n">Checkbox</span>


<span class="w">   </span><span class="c1">// Concrete factories produce a family of products that belong</span>
<span class="w">   </span><span class="c1">// to a single variant. The factory guarantees that the</span>
<span class="w">   </span><span class="c1">// resulting products are compatible. Signatures of the concrete</span>
<span class="w">   </span><span class="c1">// factory's methods return an abstract product, while inside</span>
<span class="w">   </span><span class="c1">// the method a concrete product is instantiated.</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">WinFactory</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GUIFactory</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">createButton</span><span class="p">():</span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">WinButton</span><span class="p">()</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">createCheckbox</span><span class="p">():</span><span class="n">Checkbox</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">WinCheckbox</span><span class="p">()</span>

<span class="w">   </span><span class="c1">// Each concrete factory has a corresponding product variant.</span>
<span class="w">   </span><span class="c1">// so you see this uses factory methods</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">MacFactory</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GUIFactory</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">createButton</span><span class="p">():</span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">MacButton</span><span class="p">()</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">createCheckbox</span><span class="p">():</span><span class="n">Checkbox</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">MacCheckbox</span><span class="p">()</span>


<span class="w">   </span><span class="c1">// Each distinct product of a product family should have a base</span>
<span class="w">   </span><span class="c1">// interface. All variants of the product must implement this</span>
<span class="w">   </span><span class="c1">// interface.</span>
<span class="w">   </span><span class="kd">interface</span> <span class="nc">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">paint</span><span class="p">()</span>

<span class="w">   </span><span class="c1">// Concrete products are created by corresponding concrete</span>
<span class="w">   </span><span class="c1">// factories.</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">WinButton</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">paint</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="c1">// Render a button in Windows style.</span>

<span class="w">   </span><span class="kd">class</span> <span class="nc">MacButton</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">paint</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="c1">// Render a button in macOS style.</span>

<span class="w">   </span><span class="c1">// Here's the base interface of another product. All products</span>
<span class="w">   </span><span class="c1">// can interact with each other, but proper interaction is</span>
<span class="w">   </span><span class="c1">// possible only between products of the same concrete variant.</span>
<span class="w">   </span><span class="kd">interface</span> <span class="nc">Checkbox</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">paint</span><span class="p">()</span>

<span class="w">   </span><span class="kd">class</span> <span class="nc">WinCheckbox</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Checkbox</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">paint</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="c1">// Render a checkbox in Windows style.</span>

<span class="w">   </span><span class="kd">class</span> <span class="nc">MacCheckbox</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Checkbox</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">paint</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="c1">// Render a checkbox in macOS style.</span>


<span class="w">   </span><span class="c1">// The client code works with factories and products only</span>
<span class="w">   </span><span class="c1">// through abstract types: GUIFactory, Button and Checkbox. This</span>
<span class="w">   </span><span class="c1">// lets you pass any factory or product subclass to the client</span>
<span class="w">   </span><span class="c1">// code without breaking it.</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">Application</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="kd">private</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">factory</span><span class="p">:</span><span class="w"> </span><span class="n">GUIFactory</span>
<span class="w">       </span><span class="kd">private</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">button</span><span class="p">:</span><span class="w"> </span><span class="n">Button</span>

<span class="w">       </span><span class="n">constructor</span><span class="w"> </span><span class="nf">Application</span><span class="p">(</span><span class="n">factory</span><span class="p">:</span><span class="w"> </span><span class="n">GUIFactory</span><span class="p">)</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="k">this</span><span class="p">.</span><span class="na">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factory</span>

<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">createUI</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="k">this</span><span class="p">.</span><span class="na">button</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factory</span><span class="p">.</span><span class="na">createButton</span><span class="p">()</span>

<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">paint</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="n">button</span><span class="p">.</span><span class="na">paint</span><span class="p">()</span>


<span class="w">   </span><span class="c1">// The application picks the factory type depending on the</span>
<span class="w">   </span><span class="c1">// current configuration or environment settings and creates it</span>
<span class="w">   </span><span class="c1">// at runtime (usually at the initialization stage).</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">ApplicationConfigurator</span><span class="w"> </span><span class="n">is</span>
<span class="w">       </span><span class="n">method</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="n">is</span>
<span class="w">	   </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readApplicationConfigFile</span><span class="p">()</span>

<span class="w">	   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="na">OS</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"Windows"</span><span class="p">)</span><span class="w"> </span><span class="n">then</span>
<span class="w">	       </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WinFactory</span><span class="p">()</span>
<span class="w">	   </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="na">OS</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"Mac"</span><span class="p">)</span><span class="w"> </span><span class="n">then</span>
<span class="w">	       </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MacFactory</span><span class="p">()</span>
<span class="w">	   </span><span class="k">else</span>
<span class="w">	       </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s">"Error! Unknown operating system."</span><span class="p">)</span>

<span class="w">	   </span><span class="n">Application</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Application</span><span class="p">(</span><span class="n">factory</span><span class="p">)</span>
</pre></div>
</div>
</div>


<div id="outline-container-orgc4f4dc9" class="outline-3">
<h3 id="orgc4f4dc9">Builder</h3>
<div class="outline-text-3" id="text-orgc4f4dc9">
<p>
You use this pattern in order to create very laborious objects that
require a lot of effort being created.
</p>

<p>
In this sense what you do is to define a builder with all of the
different components that you need for creating the complex
objects. You can then call directly from your client the builder
components that you need to instantiate your complex objects - and
forms, derivatives of it -.
</p>

<p>
Another option is to work with a second type of objects - <i>a
Director</i>.
</p>

<p>
The idea is well sum-up in the following:
</p>

<blockquote>
<p>
If the client code needs to assemble a special, fine-tuned model of a
car, it can work with the builder directly. On the other hand, the
client can delegate the assembly to the director class, which knows
how to use a builder to construct several of the most popular models
of cars.
</p>
</blockquote>

<img src="../../images/Screenshot%202022-08-29%20084214.png" class="center"><p>
So you see for instance in the pattern above that the Director
holds all of the different types of car categories. These are
mapped to the relevant input parameters in the director, which uses
then the general builder objects to create them.
</p>
</div>
</div>


<div id="outline-container-orgab9b5f0" class="outline-3">
<h3 id="orgab9b5f0">Prototype</h3>
<div class="outline-text-3" id="text-orgab9b5f0">
<p>
Prototype is a creational design pattern that lets you copy
existing objects without making your code dependent on their
classes.
</p>

<p>
The essential idea why you need a pattern for it is threefold:
</p>

<blockquote>
<ol class="org-ol">
<li>Not all objects can be copied that way because some of the object’s
fields may be private and not visible from outside of the object
itself.</li>

<li>Since you have to know the object’s class to create a duplicate,
your code becomes dependent on that class. If the extra dependency
doesn’t scare you, there’s another catch.</li>

<li>Sometimes you only know the interface that the object follows, but
not its concrete class, when, for example, a parameter in a method
accepts any objects that follow some interface.</li>
</ol>
</blockquote>

<p>
The pattern works as follows:
</p>

<blockquote>
<p>
The pattern declares a common interface for all objects that support
cloning. This interface lets you clone an object without coupling your
code to the class of that object.
</p>

<p>
Usually, such an interface contains just a single clone method.
</p>

<p>
An object that supports cloning is called a prototype. When your
objects have dozens of fields and hundreds of possible configurations,
cloning them might serve as an alternative to subclassing.
</p>
</blockquote>

<p>
The pattern looks as follows:
</p>

<img src="../../images/Screenshot%202022-08-29%20091559.png" class="center"><p>
As always understand it via the concrete case; it is much more
simple to digest it then:
</p>

<img src="../../images/Screenshot%202022-08-29%20100157.png" class="center"><p>
So that is it. Quite easy to understand; or maybe I am just getting
into the pattern mentality.
</p>
</div>
</div>


<div id="outline-container-org91f6aaa" class="outline-3">
<h3 id="org91f6aaa">Singleton</h3>
<div class="outline-text-3" id="text-org91f6aaa">
<p>
This is again the usual concept in CS. It is to have a single
access to the resources or objects such that you apply exclusivity
<code>a la</code> lord of the flies.
</p>

<p>
It is the concept of <i>Single Responsibility Principle</i>.
</p>

<p>
Here’s how it works: imagine that you created an object, but after
a while decided to create a new one. Instead of receiving a fresh
object, <b>you’ll get the one you already created</b>.
</p>

<p>
Note that this behavior is impossible to implement with a regular
constructor since a constructor call must always return a new
object by design.
</p>

<p>
Note that the above is the general concept and people most often
refer as Singleton an Object solving that issue. <b>Important to
note</b> is that it is much more.
</p>

<p>
The general idea for implementing this is the following:
</p>

<blockquote>
<p>
Make the default constructor private, to prevent other objects from
using the new operator with the Singleton class.
</p>

<p>
Create a static creation method that acts as a constructor. Under the
hood, this method calls the private constructor to create an object
and saves it in a static field.
</p>

<p>
All following calls to this method return the cached object.
</p>
</blockquote>

<p>
This is as well pretty simple to implement. You can think about it
in the following way:
</p>

<img src="../../images/Screenshot%202022-08-29%20102854.png" class="center">
</div>
</div>
</div>


<div id="outline-container-orgced7f91" class="outline-2">
<h2 id="orgced7f91">Structural Patterns</h2>
<div class="outline-text-2" id="text-orgced7f91">
<p>
The Structural class patterns use inheritance to compose classes,
while the Structural object patterns describe ways to <b>assemble
objects</b>.
</p>
</div>

<div id="outline-container-org0d2d849" class="outline-3">
<h3 id="org0d2d849">Adapter</h3>
<div class="outline-text-3" id="text-org0d2d849">
<p>
This is a special object that <b>converts the interface</b> of one
object so that another object can understand it.
</p>

<p>
Here is how it works:
</p>

<ol class="org-ol">
<li>The adapter gets an interface, compatible with one of the
existing objects.</li>

<li>Using this interface, the existing object can <b>safely call the
adapter’s methods</b>.</li>

<li>Upon receiving a call, the adapter passes the request to the
second object, but in a format and order that the second object
expects.</li>
</ol>
<p>
It essentially works in such a way:
</p>

<img src="../../images/Screenshot%202022-09-01%20164526.png" class="center"><p>
More precisely in an example:
</p>

<img src="../../images/Screenshot%202022-09-01%20164921.png" class="center"><p>
So what you are essentially doing here is encapsulating the object
into the adapter, and then calling the relevant method of the other
interface which you are interested in.
</p>
</div>
</div>


<div id="outline-container-orgddbe4ed" class="outline-3">
<h3 id="orgddbe4ed">Bridge</h3>
<div class="outline-text-3" id="text-orgddbe4ed">
<p>
This is as well a very cool pattern.
</p>

<p>
It essentially works in the following way:
</p>

<blockquote>
<p>
It lets you split a large class or a set of closely related classes
into two <b>separate hierarchies—abstraction</b> and <b>implementation</b> —
which can be developed independently of each other.
</p>
</blockquote>

<p>
Note that it can be well applied in the following cases:
</p>

<img src="../../images/Screenshot%202022-09-01%20171828.png" class="center"><p>
The solution is to use <b>composition</b> (in UML terms - recall that
with it the associated instances are indeed deleted).
</p>

<p>
It does in fact switch from object inheritance to object
composition.
</p>

<p>
So you see - one of the mayor rules of OOP.
</p>

<img src="../../images/Screenshot%202022-09-01%20173419.png" class="center"><p>
So the concept is very straightforward.
</p>

<p>
The way you implement it, is the following - it is quite trivial
once you start to see the patterns:
</p>

<img src="../../images/Screenshot%202022-09-02%20091353.png" class="center"><img src="../../images/Screenshot%202022-09-02%20091442.png" class="center">
</div>
</div>


<div id="outline-container-org9f52baa" class="outline-3">
<h3 id="org9f52baa">Composite</h3>
<div class="outline-text-3" id="text-org9f52baa">
<p>
Composite is a <b>structural design pattern</b> that lets you compose
objects into tree structures and then work with these structures as
if they were individual objects.
</p>

<p>
So this is actually a nice pattern as it is not a trivial one.
</p>

<img src="../../images/Screenshot%202022-09-02%20094258.png" class="center"><p>
The solution for it is the following:
</p>

<blockquote>
<p>
The Composite pattern suggests that you work with Products and Boxes
through a <b>common interface</b> which declares a method for calculating
the total price.
</p>

<p>
How would this method work? For a product, it’d simply return the
product’s price. For a box, it’d <b>go over each item the box contains</b>,
ask its price and then return a total for this box.
</p>

<p>
The greatest benefit of this approach is that you don’t need to care
about the concrete classes of objects that compose the tree. You don’t
need to know whether an object is a simple product or a sophisticated
box. You can treat them all the same via the common interface.
</p>

<p>
When you call a method, the objects themselves pass the request down
the tree.
</p>
</blockquote>

<p>
So this is a cool pattern. You can use it for instance for creating
the relevant entity tree when it will be the time. The current
solution is for instance <a href="http://www.ibase.ru/files/articles/programming/dbmstrees/sqltrees.html">this one</a> - research more this guy and the
tree structure in SQL if you want to go down that path.
</p>

<img src="../../images/Screenshot%202022-09-02%20102856.png" class="center"><p>
See for instance the following example:
</p>

<img src="../../images/Screenshot%202022-09-02%20103608.png" class="center">
</div>
</div>


<div id="outline-container-org8ee1fe0" class="outline-3">
<h3 id="org8ee1fe0">Decorator</h3>
<div class="outline-text-3" id="text-org8ee1fe0">
<p>
Decorator is a structural design pattern that lets you <b>attach new
behaviors</b> to objects by placing these objects inside <b>special
wrapper</b> objects that
</p>

<p>
The idea is essentially the following:
</p>

<blockquote>
<p>
“Wrapper” is the alternative nickname for the Decorator pattern that
clearly expresses the main idea of the pattern. A wrapper is <b>an object
that can be linked with some target object</b>.
</p>

<p>
The wrapper contains the same set of methods as the target and
delegates to it all requests it receives. However, the wrapper may
<b>alter the result</b> by <b>doing something</b> either <b>before or after it
passes the request to the target</b>.
</p>
</blockquote>

<p>
Then once you properly undestand the snippet above you should have
no issues understanding the following pictures:
</p>

<img src="../../images/Screenshot%202022-09-05%20091730.png" class="center"><p>
And more explicitely, the above, in an example:
</p>

<img src="../../images/Screenshot%202022-09-05%20091833.png" class="center"><p>
Finally the same concept in a more complex example, where there are
not just decorator classes but other concrete components inheriting
from the wrapper(funny how this post is rendered with different
degrees of complexity to confuse people):
</p>

<img src="../../images/Screenshot%202022-09-05%20092039.png" class="center">
</div>
</div>


<div id="outline-container-org56c60bd" class="outline-3">
<h3 id="org56c60bd">Facade</h3>
<div class="outline-text-3" id="text-org56c60bd">
<p>
Facade is a structural design pattern that provides a simplified
interface to a library, a framework, or any other complex set of
classes.
</p>

<blockquote>
<p>
A facade is a class that provides a simple interface to a complex
subsystem which contains lots of moving parts. A facade might provide
limited functionality in comparison to working with the subsystem
directly.
</p>

<p>
However, it <b>includes only those features that clients really care
about</b>.
</p>

<p>
[Comment - this is what you find in your code base when working with
the libraries.]
</p>
</blockquote>

<p>
Note as well:
</p>

<blockquote>
<p>
Having a facade is handy when you need to integrate your app with a
sophisticated library that has dozens of features, but you just need a
tiny bit of its functionality.
</p>
</blockquote>

<p>
So you see the annotations of most frameworks are nothing elese
than the way to implement such facade patterns such that you can
forget everything that is behind it. So you lived through facades
this entire time and it was indeed a healthy discovery to check
what is behind it.
</p>

<p>
The high level idea is the following:
</p>

<img src="../../images/Screenshot%202022-09-05%20094602.png" class="center"><p>
You can see the following basic example for a 101 example - but
<b>never debunk</b> you might well think that there exist much more
sophisticated facades:
</p>

<img src="../../images/Screenshot%202022-09-05%20095936.png" class="center">
</div>
</div>


<div id="outline-container-org5228f52" class="outline-3">
<h3 id="org5228f52">Flyweight</h3>
<div class="outline-text-3" id="text-org5228f52">
<p>
Flyweight is a structural design pattern that lets you fit more
objects into the available amount of RAM by <b>sharing common parts
of state between multiple objects</b> instead of keeping all of the
data in each object.
</p>

<p>
So data are not encapsulated in a single object but rather shared
across objects.
</p>

<p>
So essentially the idea of this pattern is that there are intrinsic
things that never change, they are <b>immutable across time</b>. It is
the general relativity and the laws of gravitation, in Albert
Einstein terms.
</p>

<p>
While the flowing of the world we experience is the special
relativity - this is the idea of:
</p>

<blockquote>
<p>
Other parts of a particle’s state, such as coordinates, movement
vector and speed, are unique to each particle. After all, the values
of these fields change over time. This data represents the always
changing context in which the particle exists.
</p>
</blockquote>

<p>
In the pattern website that you are reading:
</p>

<img src="../../images/Screenshot%202022-09-05%20113853.png" class="center"><p>
So basically this means that you <b>can and should</b> create objects
that differ and move but you should not change the general state
that moves all of the objects across time.
</p>

<p>
This is how you are asked to frame the objects of the world.
</p>

<p>
Plus it says that you do not have to create a lot of objects, just
the ones that need a different intrinsic state all the others will
reference to them - the Particles of general relativity.
</p>

<img src="../../images/Screenshot%202022-09-05%20114932.png" class="center"><p>
Side note. Not that powerful as the above, as it is simply an
application of it. But check the following picture:
</p>

<img src="../../images/Screenshot%202022-09-05%20150452.png" class="center"><p>
This is what is happening in the Context class in the front-end.
</p>
</div>


<div id="outline-container-orgfed7f09" class="outline-4">
<h4 id="orgfed7f09">On the Flyweight Factory</h4>
<div class="outline-text-4" id="text-orgfed7f09">
<p>
This is as well interesting and important. You have still to
develop that system view on the different patterns so come back
here but it is for sure interesting. 
</p>

<blockquote>
<p>
For more convenient access to various flyweights, you can create a
<b>factory method that manages a pool of existing flyweight
objects</b>. The method accepts the intrinsic state of the desired
flyweight from a client, looks for an existing flyweight object
matching this state, and returns it if it was found. If not, it
creates a new flyweight and adds it to the pool.
</p>

<p>
There are several options where this method could be placed. The most
obvious place is a flyweight container. Alternatively, you could
create a new factory class. Or you could make the factory method
static and put it inside an actual flyweight class. 
</p>
</blockquote>
</div>
</div>
</div>


<div id="outline-container-orgbb0356f" class="outline-3">
<h3 id="orgbb0356f">Proxy</h3>
<div class="outline-text-3" id="text-orgbb0356f">
<p>
Recall that this is used by Hibernate.
</p>

<p>
Recall that this is the following:
</p>

<blockquote>
<p>
Proxy is a structural design pattern that lets you provide a
substitute or <b>placeholder for another object</b>.
</p>

<p>
A <b>proxy controls access to the original object</b>, allowing you to
perform something either before or after the request gets through to
the original object.
</p>
</blockquote>

<p>
So this is the same idea of networking with the proxies around the
world. Or see below the other real world
analogy. Fantastic. Everything was written, <i>at the end of the
storm there is a golden sky</i>.
</p>

<p>
Note now that the problem is stated in the following form. Not sure
why it is expressed in such a way. I think this is noise but it
might be not - double think when you have time. Just focus on the
quoted above.
</p>

<img src="../../images/Screenshot%202022-09-05%20161035.png" class="center"><p>
The solution to it is the following:
</p>

<img src="../../images/Screenshot%202022-09-05%20161451.png" class="center"><p>
So you see this is nothing else than the connectivity pools that
your applications have. And Hibernate must use them behind the
scenes. Reread your Hibernate notes in this sense.
</p>

<p>
On the real world example of proxies:
</p>

<img src="../../images/Screenshot%202022-09-05%20163426.png" class="center"><p>
Plus we should add that this is a proxy for gold. Or at least, it
used to be.
</p>

<p>
Now note that the proxy works in the following way:
</p>

<img src="../../images/Screenshot%202022-09-05%20164156.png" class="center"><p>
You can see then that this pattern is one of the most
wide-spread. It has multiple applications, some of which you listed
above, some of which you still have to understand.
</p>

<p>
Among the others you count:
</p>

<ol class="org-ol">
<li>Lazy initialization (<b>virtual proxy</b>). This is when you have a
heavyweight service object that wastes system resources by being
always up, even though you only need it from time to time.</li>

<li>
<p>
Access control (<b>protection proxy</b>). This is when you want only
specific clients to be able to use the service object; for
instance, when your objects are crucial parts of an operating
system and clients are various launched applications (including
malicious ones).
</p>

<p>
And this was in general my <i>point about proxies</i>.
</p>
</li>

<li>
<p>
<i>Local execution of a remote service</i> (<b>remote proxy</b>). This is when
the service object is located on a remote server.
</p>

<p>
So you see this is a pattern but it has apparently little to do
with programming. I mean, everything is a program, but this is
more at networking level etc. So not understanding why this is
relevant as a patternw henyou program at <a href="https://en.wikipedia.org/wiki/OSI_model">layer 7</a>.
</p>

<p>
Note that in fact this is nothing else than the internet proxies
I was talking above and it is again the conecpt of being
transparent and abstracting all of the complexity that is
underneath.
</p>
</li>

<li>
<p>
Logging requests (<b>logging proxy</b>). This is when you want to keep
a history of requests to the service object.
</p>

<p>
The proxy can log each request before passing it to the service.
</p>

<p>
You can think about the git system as some kind of proxy.
</p>
</li>

<li>
<p>
Caching request results (<b>caching proxy</b>).
</p>

<p>
This is when you need to cache results of client requests and
manage the life cycle of this cache, especially if results are
quite large.
</p>

<p>
So this is what CDNs are doing. This is the chaching proxy
pattern there. Note that this is handy when the requests that
come are always the same. This happens quite often as we all
know.
</p>
</li>

<li>
<p>
Smart reference. This is when you need to be able to <b>dismiss a
heavyweight object once there are no clients that use it</b>.
</p>

<p>
The proxy can keep track of clients that obtained a reference to
the service object or its results. From time to time, the proxy
may go over the clients and check whether they are still active.
</p>
</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-orgda45a0a" class="outline-2">
<h2 id="orgda45a0a">Behavioural Patterns</h2>
<div class="outline-text-2" id="text-orgda45a0a">
<p>
The Behavioral class patterns use inheritance to describe
<i>algorithms and flow of control</i>, whereas the Behavioral object
patterns describe how a group of objects <i>cooperate</i> to perform a
task that no single object can carry out alone.
</p>
</div>

<div id="outline-container-org84d5cf8" class="outline-3">
<h3 id="org84d5cf8">Chain of Responsibility</h3>
<div class="outline-text-3" id="text-org84d5cf8">
<p>
This is a design pattern that lets you pass requests along a chain
of handlers.
</p>

<p>
Upon receiving a request, each handler decides <b>either to process
the request</b> <i>or</i> to <b>pass it to the next handler</b> in the chain.
</p>

<p>
So you could already find this pattern as well in the code that you
are working on. It is quite cool stuff this low level code
base. You are seeing all of the underground world of CS and it is
beautiful.
</p>

<p>
So every request that comes in via HTTP is essentially processed
via this pattern of chain of responsibility. I.e. you see if you
should process it or pass it to the next handler that will take
care of it.
</p>

<p>
This is how our world works. There is a big message behind this. Do
not process requests that you do not think belong to you. <b>Pass them
along the chain</b>.
</p>
</div>

<div id="outline-container-org51740f6" class="outline-4">
<h4 id="org51740f6">Pattern in Ordering Schema</h4>
<div class="outline-text-4" id="text-org51740f6">
<p>
And <i>nota bene</i>: we live in an ordering schema.
</p>

<p>
The idea in this snippet is the following. Get the request and
authenticate it. If it is proper pass it to the ordering system,
the next piece of the the chain that will perform its
operation.
</p>

<p>
If it is not do not let it pass and break the chain - no more
handlers for this request. But note that there is much more behind
it. The following is interesting:
</p>

<blockquote>
<p>
One of your colleagues suggested that it’s <b>unsafe to pass raw data
straight to the ordering system</b>. So you added an extra validation
step <b>to sanitize the data</b> in a request.
</p>
</blockquote>

<p>
So you see this is also important in the chain of
responsibility. This is the ultimate reason proxies exists. And
then you see that they are themselves developed via a chain of
responsibility pattern.
</p>

<p>
You see as well that the security of the world works in the
following way:
</p>

<blockquote>
<p>
Later, somebody noticed that the system is vulnerable to <b>brute
force password cracking</b>. To negate this, you promptly added a
check that filters repeated failed requests coming from the same
IP address.
</p>
</blockquote>

<p>
Understand the relation of this and the hot topic of quantum safe
passwords. Why is this a threat? If you go over the internet cause
the password are ultimately stored on a server somewhere then you
could have such a check.
</p>

<p>
But recall that quantum is not a concept of calcus strength it is
rather another way of thinking that makes some solutions more
computationally software if you change the paradigm. So this is
what is about - a change of paradigm.
</p>

<p>
So I guess it makes sense to develop algorithms that makes it
difficult to crack a password by brute force, but I guess there
should as well be another mechanism that works as a proxy that
makes such attacks pointless in the first place.
</p>

<p>
So apart from the ideas that I writing here for the community, the
concept is simple and it is all in the name. It is simply a chain
of responsibility, if everybody diligently makes his part in it
everything will be good.
</p>

<img src="../../images/Screenshot%202022-09-06%20103812.png" class="center">
</div>
</div>


<div id="outline-container-org5524c3b" class="outline-4">
<h4 id="org5524c3b">Very core idea - canonical idea</h4>
<div class="outline-text-4" id="text-org5524c3b">
<p>
So the essential idea here is to modularize your code in terms of
handlers. These will be standalone object performing the needed
piece of logic that you can chain together in a second step. It is
like playing lego after all. This concept of <i>lego</i> it is
everywhere.
</p>

<p>
And recall the following component of this pattern, this applies
well in life and it is a message. A handler is part of the chain,
so understand that every handler is decisive in how the chain
performs:
</p>

<blockquote>
<p>
<b>Here’s the best part: a handler can decide not to pass the request
further down the chain and effectively stop any further processing.</b>
</p>
</blockquote>

<p>
This concept is powerful and the true <b>canonical [understand the
shoresh of this word please]</b> concept.
</p>

<p>
Once you see the shoresh it is clear that the following two ways
of expressing the chain of responsibility pattern described as
follows in the following images are ultimately the same, and not
as <a href="https://refactoring.guru/design-patterns/chain-of-responsibility">the page</a> wants you to think.
</p>

<img src="../../images/Screenshot%202022-09-06%20110035.png" class="center">
</div>
</div>



<div id="outline-container-org21120c1" class="outline-4">
<h4 id="org21120c1">Implementation</h4>
<div class="outline-text-4" id="text-org21120c1">
<p>
The real world analogy in the url is pure comics. Nothing to think much
over.
</p>

<p>
See then the following schema for working with the pattern and see
how everything is implemented through interfaces and baseHandlers
and not directly as in your code base. So use it.
</p>

<img src="../../images/Screenshot%202022-09-06%20111017.png" class="center">
</div>
</div>


<div id="outline-container-org3294b08" class="outline-4">
<h4 id="org3294b08">An Implementation Example</h4>
<div class="outline-text-4" id="text-org3294b08">
<p>
You see that the entire concept of the GUI and the DOM and its
javascript modification is build upon such pattern.
</p>

<img src="../../images/Screenshot%202022-09-06%20113348.png" class="center">
</div>
</div>
</div>


<div id="outline-container-org90d3df7" class="outline-3">
<h3 id="org90d3df7">Command</h3>
<div class="outline-text-3" id="text-org90d3df7">
<p>
This is a pattern that lets you turn a request into an object with
all of the relevant information that is encapsulated in the
request.
</p>

<p>
So you should be able to see the pattern. Think for instance at an
HTTP request. This is already an object so it was confusing to me
to see and understand from the above.
</p>

<p>
Once you think enough about it, you can see the pattern in multiple
places across the internet stack.
</p>

<p>
Think for instance about all of the bytes of inforamtion at layer 2
and how they are transformed into a single HTTP object at layer 7.
</p>

<p>
Think about how that same HTTP object is then parsed and
transformed into a JSON object containing all of the relevant
information. And how this is then packaged entirely in an Object
performing the relevant application logic.
</p>

<p>
All of these are examples of the <code>Command pattern</code>.
</p>

<p>
Note now that all of the patterns are really interrelated. Once you
see it everything is clear. I think it is a bit the idea of the
flyweight pattern. The gravity is the same. The coordinates are a
bit different but the underlying idea is the THE ONE.
</p>

<p>
Anyways going back to this pattern, it is about the <b>separation of
concerns</b>. So you see that no one is better than the
other. Everyone holds his place in this world. After all we are all
cogs embedded in a deeper system.
</p>
</div>


<div id="outline-container-org6d657ce" class="outline-4">
<h4 id="org6d657ce">Example via Problem</h4>
<div class="outline-text-4" id="text-org6d657ce">
<p>
Think about programming the UI - the entire one. Think about
having different types of buttons implementing different
functionalities. 
</p>

<img src="../../images/Screenshot%202022-09-06%20131412.png" class="center"><p>
Logically this is not a good idea as you will have an exponential
amount of these subclasses with <b>code replication</b>.
</p>

<p>
Think simply about the fact that you can do everything in the
front-end via <i>buttons events</i> or via <i>shortcut events</i>. So you
would have to replicate code there for instance.
</p>

<p>
I.e. you use the command pattern and <b>structure everything in
layers</b> - i.e. old trick of computer science (<b>add a layer of
indirection</b>).
</p>

<p>
The solution would then look as follows:
</p>

<img src="../../images/Screenshot%202022-09-06%20132436.png" class="center"><p>
But you see that this does not stop there. The entire value chain
works along these lines.
</p>

<p>
Note as well that along the entire value chain you have an event
based method - i.e. an action triggers the next element in the
chain via an <b>execute</b> command. It does not pass any parameter.
</p>

<p>
The node that will be triggered will know exactly what to do. It
has all of the knowledge in its DNA to know exactly what to do.
</p>

<p>
So basically <b>here is the order</b>: <b>trigger the nodes</b>, they will
know what to do.
</p>

<img src="../../images/Screenshot%202022-09-06%20133439.png" class="center"><p>
And here is the idea of Bayesian or of Openshift. There are rigid
rules for the most. But there is a minority that can encompass the
rigid schema and trigger events. In Bayesian with Priors, in
Openshift by being multi-platform. Who knows how many patterns as
this there are out there that I was never able to experience that
far. But now I am starting to see quite many of them out there.
</p>
</div>
</div>


<div id="outline-container-org9891b86" class="outline-4">
<h4 id="org9891b86">Real World Pattern</h4>
<div class="outline-text-4" id="text-org9891b86">
<img src="../../images/Screenshot%202022-09-06%20134613.png" class="center"><p>
And we all know where this come from. Just be thankful for the
food on your table.
</p>
</div>
</div>


<div id="outline-container-org8558492" class="outline-4">
<h4 id="org8558492">Implementation Example</h4>
<div class="outline-text-4" id="text-org8558492">
<img src="../../images/Screenshot%202022-09-06%20135510.png" class="center"><p>
Can you see other patterns? I see for instance the chain of
responsibility in a clear way here.
</p>

<p>
Note that the client here might trigger as well the direct
commands without going through the another handler.
</p>
</div>
</div>


<div id="outline-container-org5f2f674" class="outline-4">
<h4 id="org5f2f674">Example 2</h4>
<div class="outline-text-4" id="text-org5f2f674">
<p>
This is again the command pattern but it shows you how an
application of a text editor works - to the extent of chainging
text etc.
</p>

<p>
You can see it next, nothing too special with it. Just cool to
think how the things work behind the hoods in the programs you
spend a lot of time on:
</p>

<img src="../../images/Screenshot%202022-09-07%20092704.png" class="center"><p>
The client code (GUI elements, command history, etc.) <b>isn’t
coupled to concrete command classes</b> because it <b>works with
commands via the command interface</b> [two times commands -
understand it, you do not repeat yourself]. This approach lets you
introduce new commands into the app without breaking any existing
code.
</p>
</div>
</div>


<div id="outline-container-org837e6f6" class="outline-4">
<h4 id="org837e6f6">When to use the pattern</h4>
<div class="outline-text-4" id="text-org837e6f6">
<p>
It is important to appreciate that you should use this pattern
when you want to <i>implement revisible operations</i>. 
</p>
</div>
</div>


<div id="outline-container-orgc30a3e7" class="outline-4">
<h4 id="orgc30a3e7">How to implement section</h4>
<div class="outline-text-4" id="text-orgc30a3e7">
<p>
You see there the relation to all of the other patterns.
</p>

<p>
Everything is interrelated, this is the ultimate reason why it is
difficult to decouple software. Especially when it is written at
this level of sophistication.
</p>

<p>
See for instance the section about hte  implementation of this
pattern.
</p>

<img src="../../images/Screenshot%202022-09-07%20095343.png" class="center">
</div>
</div>
</div>


<div id="outline-container-org5008668" class="outline-3">
<h3 id="org5008668">Iterator</h3>
<div class="outline-text-3" id="text-org5008668">
<p>
Iterator is a behavioral design pattern that lets <b>you traverse
elements of a collection</b> <b>without exposing its underlying
representation</b> (list, stack, tree, etc.).
</p>

<p>
So note that this is what is actually used in the java standard
class in the collection class. And note that you should work on the
top of it when you will encounter a similar problem. It goes along
the same line of reasoning that I did once made <a href="https://marcohassan.github.io/bits-of-experience/posts/when-creating-a-home_made-ml-model/">in this post</a>.
</p>

<p>
So the essential idea of this pattern is to say, hey dude you have
different topological collection structures. On the top of it you
might want to traverse these topological structures in multiple
ways.
</p>

<p>
101 example:
</p>

<img src="../../images/Screenshot%202022-09-07%20110058.png" class="center"><p>
So the idea of this pattern is to model a way to traverse these
objects in a very general way.
</p>

<p>
In general the idea is to decouple the traverse mechanism from the
actual data structure specification. The data structure should just
be responsible for the efficient storage of the information and
should do that in the best possible way.
</p>

<p>
Then once you added that layer of indirection you can start to work
on this iterator pattern, specifying multiple traversing
possibilies on the same collection object.
</p>

<p>
This is exactly what you see down here - focus on the <i>Collection</i>
idea and on the <i>Iterator</i> idea that you see, not on the noise
around it.
</p>

<img src="../../images/Screenshot%202022-09-07%20113108.png" class="center"><p>
Note as well the next <b>very important point</b>:
</p>

<blockquote>
<p>
In addition to implementing the algorithm itself, an iterator object
<b>encapsulates all of the traversal details</b>, such as the current
position and how many elements are left till the end.
</p>

<p>
Because of this, <b>several iterators</b> can go through the same collection
<b>at the same time</b>, independently of each other.
</p>
</blockquote>

<p>
Now it is clear that you could set up such iterators by referring
to a common concept of <i>Iterator</i> and an interface for it.  This is
what I would actually do if I would have to implement a new data
structure and I am sure that it is what happens behind the hoods in
the existing libraries. So it means that behind it there is in
general <i>the concept of separation of concerns</i> - i.e. you can see
the concept of the <a href="#org90d3df7">Command</a> pattern here if you pay enough attention
to it.
</p>

<p>
This is essentially what is expressed there on the website:
</p>

<blockquote>
<p>
All iterators must implement the same interface. This makes the client
code compatible with any collection type or any traversal algorithm as
long as there’s a proper iterator. If you need a special way to
traverse a collection, you just create a new iterator class, without
having to change the collection or the client.
</p>
</blockquote>
</div>

<div id="outline-container-org52929dc" class="outline-4">
<h4 id="org52929dc">Real World Example</h4>
<div class="outline-text-4" id="text-org52929dc">
<p>
This is quite funny cause it is far away from a concrete
mathematical stuff.
</p>

<p>
It is much more the concept that there is general relativity, that
thing that truly impose substance on the objects in this
world. How we traverse it, it just a matter of choice.
</p>

<p>
We are free to set the coordinates for it via various types of
iterator classes that are defined / that our <i>Avi</i> set out for us.
</p>

<img src="../../images/Screenshot%202022-09-07%20112930.png" class="center">
</div>
</div>

<div id="outline-container-orgde890d3" class="outline-4">
<h4 id="orgde890d3">Structure</h4>
<div class="outline-text-4" id="text-orgde890d3">
<p>
The structure for it is quite simple then, you can see how this is
implemented on the FB applicaiton as well on that website.
</p>

<img src="../../images/Screenshot%202022-09-07%20115138.png" class="center">
</div>
</div>
</div>



<div id="outline-container-org32b1a9d" class="outline-3">
<h3 id="org32b1a9d">Mediator</h3>
<div class="outline-text-3" id="text-org32b1a9d">
<p>
So this pattern is as well very common in the world.
</p>

<p>
The essential idea is that if you let everybody talk with
everybody, everything become a mess.
</p>

<p>
So the solution is to impose some rules on the world. You cannot
let it run amock.
</p>

<p>
This is what system try to do with centralized institutions
performing checks on the operations of some people. This pattern is
all around you. In every moment of your experience.
</p>

<p>
It is the frame that is imposed in the world.
</p>
</div>


<div id="outline-container-org835a847" class="outline-4">
<h4 id="org835a847">Practical Problem When Programming</h4>
<div class="outline-text-4" id="text-org835a847">
<p>
An example of how things can go wild is the following. This is an
example of programming the front-end. If you do not put any order
in the way things interact with each other you will never be able
to keep track of what is happening.
</p>

<p>
So the only way to have a high level overview of what is happening
in your system as it evolves across time, is to impose a mediator
on the system.
</p>

<p>
You understand that again is an introduction of a layer of
indirection / a hierarchical component on the system.
</p>

<p>
An example of the messiness without layers of indirection is when
you go peer to peer as in the example below:
</p>

<img src="../../images/Screenshot%202022-09-07%20142831.png" class="center"><p>
So you see that with this way of working you couple too much all
of the elements together. This is not good, you should be careful
with it.
</p>

<p>
[[[ SIDE NOTE 
</p>

<p>
The question is though when to stop with all of these hierarchies?
You know by know Atlantide with all of the things you studied. But
in order to work you should be able to abstract and just focus on
different mental layers.
</p>

<p>
So the approach is, design such layers, then work on each
component separately.
</p>

<p>
]]]
</p>
</div>
</div>


<div id="outline-container-orgfee92ce" class="outline-4">
<h4 id="orgfee92ce">Solution</h4>
<div class="outline-text-4" id="text-orgfee92ce">
<blockquote>
<p>
The Mediator pattern suggests that you should <b>cease all direct
communication between</b> <b>the components which you want to make
independent</b> of each other.
</p>

<p>
Instead, these components must collaborate indirectly, by calling a
special mediator object that redirects the calls to appropriate
components.
</p>
</blockquote>

<p>
In such a way the components just depend on a single mediator
class instead of being coupled with dozen of their colleagues. 
</p>

<p>
You see that this is the chosen design technique used for the
objects across the internet. Think for instance at the UI example
above:
</p>

<img src="../../images/Screenshot%202022-09-07%20144014.png" class="center"><p>
Note the following important change that you bring along in such a
way:
</p>

<blockquote>
<p>
The most significant change happens to the actual form elements. Let’s
consider the submit button. Previously, each time a user clicked the
button, it had to validate the values of all individual form
elements.
</p>

<p>
Now its <b>single job is to notify the dialog about the click</b>.  Thus,
instead of being tied to a dozen form elements, the button is <b>only
dependent on the dialog class</b>.
</p>
</blockquote>

<p>
See again the chain of responsibility pattern.
</p>

<img src="../../images/Screenshot%202022-09-07%20144704.png" class="center">
</div>
</div>
</div>


<div id="outline-container-org2ab8d64" class="outline-3">
<h3 id="org2ab8d64">Memento</h3>
<div class="outline-text-3" id="text-org2ab8d64">
<p>
So this is a pattern to have the chance in your code to save the
status of an object without breaking encapsulation and exposing its
state to other objects but the <i>creator</i>.
</p>

<p>
So you see that this is as well a pattern that is everywhere in the
world. Not everybody knows what happened in the world. Not
everybody knows what I ate this morning. I am the creator of that
state and while I cannot go back to it, I can close my eyes and see
restore the state. 
</p>

<p>
So essentially the idea of this pattern is the one of storing
history as objects that can just be accessible by the <b>creator</b>.
</p>

<p>
You add then a group of objects which is given the responsibility
of deciding where history moves. These are the <b>caretakers</b>.
</p>

<p>
(Side note, this is what happens in text editors and other
applications where you can reverse the history.)
</p>

<p>
Essentially the pattern would then look as follows and you can
create it in different flavours depending on the options your OOP
language offers you and the degree of encapsulation that you want
to reach.
</p>

<p>
Some of the implementations that are possible are available
next. You can decide among one fo the many once you will have to
implement this pattern:
</p>

<img src="../../images/Screenshot%202022-09-09%20141651.png" class="center"><img src="../../images/Screenshot%202022-09-09%20141732.png" class="center"><img src="../../images/Screenshot%202022-09-09%20141801.png" class="center">
</div>
</div>


<div id="outline-container-org3cb4cde" class="outline-3">
<h3 id="org3cb4cde">Observer</h3>
<div class="outline-text-3" id="text-org3cb4cde">
<p>
With this and the next you actually create the event driven
programming patterns that you had well into your mind.
</p>

<p>
This is in fact the very core of asynchronous programming as
discussed over <a href="https://marcohassan.github.io/bits-of-experience/posts/asynchronous-jobs/">here</a>. The juice is this pattern. Also the one behind
<a href="https://marcohassan.github.io/bits-of-experience/posts/asynchronous-schema-in-python/">this</a>. 
</p>

<p>
So you can describe this pattern as follows:
</p>

<blockquote>
<p>
Observer is a behavioral design pattern that lets you define a
subscription mechanism to notify multiple objects about any events
that happen to the object they’re observing.
</p>
</blockquote>

<p>
The problem as described here, but the one you know well given your
initial conversations within your team, is that you do not want to
make tons of round-trips over the network to check if the event
occurred, nor you want to spam everyone notifying about an event.
</p>

<p>
You just want to inform the right people. So essentially don't do
this:
</p>

<img src="../../images/Screenshot%202022-09-12%20111445.png" class="center"><p>
So as you already know from your previous wanderings, the solution
is a simple pub-subscribe mechanism.
</p>

<img src="../../images/Screenshot%202022-09-12%20112358.png" class="center"><p>
Now the question is <i>how to notify</i> all of these subscribers when
the event happens. The idea is that you do not want to couple your
publisher to the tons of subscriber classes of the clients that
requested the subscription.
</p>

<p>
The idea is to work with a common interface shared across all of
the subscribers. Then you can work with it for the notification of
the events.
</p>

<img src="../../images/Screenshot%202022-09-12%20113654.png" class="center"><blockquote>
<p>
That’s why it’s crucial that all subscribers implement the same
interface and that the publisher communicates with them only via that
interface. This interface should declare the notification method along
with a set of parameters that the publisher can use to pass some
contextual data along with the notification.
</p>
</blockquote>

<p>
In general you can implement the pattern in the following way:
</p>

<img src="../../images/Screenshot%202022-09-12%20114312.png" class="center"><p>
So it is important now to use this pattern in the following
context:
</p>

<blockquote>
<p>
Use the Observer pattern when <b>changes to the state of one object may
require changing other objects</b>, and the actual set of objects is
unknown beforehand or changes dynamically.
</p>
</blockquote>
</div>
</div>


<div id="outline-container-orgf1c9e9a" class="outline-3">
<h3 id="orgf1c9e9a">State</h3>
<div class="outline-text-3" id="text-orgf1c9e9a">
<p>
This is a very cool pattern in order to implement the following:
</p>

<blockquote>
<p>
State is a behavioral design pattern that lets an object <b>alter its
behavior when its internal state changes</b>. It <b>appears as if the object
changed its class</b>.
</p>
</blockquote>

<p>
The main idea of this pattern is to create final state machines
without using clumsy swtich statements that can grow big, ugly and
difficult to mantain across classes but rather by using OOP in an
elegant way.
</p>

<img src="../../images/Screenshot%202022-09-12%20123058.png" class="center"><p>
Note that this is very similar to the idea of Markov
Chains. However, here state transitions are non-probabilistic.
</p>

<p>
In fact, you dot he following in such a way:
</p>

<img src="../../images/Screenshot%202022-09-12%20123517.png" class="center"><p>
So you see that there are heavy mediator patterns in here as
well. As well as the concpet of separation of concerns.
</p>

<p>
The structure is the following. I am pretty sure that I already
seen this pattern. But recall things <i>never</i> repeat themselves. So
double think then what is <i>different</i> in here as well what is
<i>equal</i>.
</p>

<img src="../../images/Screenshot%202022-09-12%20124940.png" class="center">
</div>
</div>


<div id="outline-container-org0678869" class="outline-3">
<h3 id="org0678869">Strategy</h3>
<div class="outline-text-3" id="text-org0678869">
<p>
Strategy is a behavioral design pattern that lets you <i>define a
family of algorithms</i>, put each of them into a <i>separate class</i>,
and <i>make their objects interchangeable</i>.
</p>

<p>
So the idea is essentially the following:
</p>

<blockquote>
<p>
The Strategy pattern suggests that you <b>take a class that does
something specific in a lot of different ways</b> and <b>extract all of these
algorithms into separate classes called strategies</b>.
</p>
</blockquote>

<p>
So have a <i>single master</i>.
</p>

<p>
The original class, called <i>context</i> must have a field for storing
<b>reference</b> to one of the strategies.
</p>

<p>
The context isn’t responsible for selecting an appropriate
algorithm for the job. Instead, the client passes the desired
strategy to the context. In fact, the context doesn’t know much
about strategies. It works with all strategies through the same
generic interface, which only exposes a single method for
triggering the algorithm encapsulated within the selected strategy.
</p>

<p>
So you see it is always the same concept behind it.
</p>

<p>
Essentially the pattern would look as follows:
</p>

<img src="../../images/Screenshot%202022-09-13%20104033.png" class="center"><p>
And more specifically:
</p>

<img src="../../images/Screenshot%202022-09-13%20104813.png" class="center">
</div>


<div id="outline-container-orgd756356" class="outline-4">
<h4 id="orgd756356">
<span class="todo TODO">TODO</span> task is to understand the difference with the state pattern</h4>
<div class="outline-text-4" id="text-orgd756356">
<p>
If you check at the two they look exaclty equal. 
</p>
</div>
</div>
</div>


<div id="outline-container-org5ec84c2" class="outline-3">
<h3 id="org5ec84c2">Template Method</h3>
<div class="outline-text-3" id="text-org5ec84c2">
<blockquote>
<p>
Template Method is a behavioral design pattern that defines the
skeleton of an algorithm in the superclass but lets subclasses
override specific steps of the algorithm without changing its
structure.
</p>
</blockquote>

<p>
You know it very well from the front-end development. There it is
quite standard to work in such a way in order to create the
relevant html pages. 
</p>

<p>
So here the idea is always the same. Avoid repetition. Use
templates, i.e. general raw models and inherit from there or work
with them via composition.
</p>

<p>
I.e. understand what is intrinsic and shared in time, the general
relativity and then just leave the details of the special
relativity to the classes inheriting enhancing by composition.
</p>

<blockquote>
<p>
The Template Method pattern suggests that you break down an algorithm
into a series of steps, turn these steps into methods, and put a
series of calls to these methods inside a single template method. The
steps may either be abstract, or have some default implementation.
</p>
</blockquote>

<p>
Think then about the following problem:
</p>

<img src="../../images/Screenshot%202022-09-13%20112158.png" class="center"><p>
The idea here is that a lot of stuff is simple repetition of the
same concepts. Therefore, you should not implement and duplicate
your code. Work via templates, i.e. define thegeneral structure
somewhere there and then point to these templates in order to
construct the general pipeline.
</p>

<p>
You see that this si in fact what you were doing with ML pipelines.
</p>

<img src="../../images/Screenshot%202022-09-13%20112909.png" class="center"><p>
Understand as well the concept of <i>hooks</i> used in the
applications. This is what you work with as well in your editor.
</p>

<blockquote>
<p>
There’s another type of step, called hooks. A hook is an optional
step with an empty body. A template method would work even if a
hook isn’t overridden.
</p>

<p>
Usually, hooks are <b>placed before and after crucial steps of
algorithms, providing</b> <b>subclasses with additional extension points
for an algorithm</b>. [I.e. you can supply additional information in
such a way].
</p>
</blockquote>

<p>
Think about <b>IKEA</b> as well when thinking about this method. Think
about how you construct their furniture. It is exactly this pattern.
</p>

<p>
I.e. in general the structure is the following:
</p>

<img src="../../images/Screenshot%202022-09-13%20113852.png" class="center"><p>
So you see that this is as well what is happening in the Feeds
application.
</p>
</div>
</div>


<div id="outline-container-org463210c" class="outline-3">
<h3 id="org463210c">Visitor</h3>
<div class="outline-text-3" id="text-org463210c">
<blockquote>
<p>
Visitor is a behavioral design pattern that lets you separate
algorithms from the objects on which they operate.
</p>
</blockquote>

<p>
This is important as in this way you can design very flexible
software without having to touch many existing classes.
</p>

<p>
The idea is essentially the following:
</p>

<img src="../../images/Screenshot%202022-09-13%20132829.png" class="center"><p>
I.e. you should not put the implementation of the algorithm in the
classes themselves, even if the class type will dictate <b>different
types of behaviour</b> <b>for the algorithm - i.e. in the above the
algorithm</b> <b>is dependent on the actual classes (City, Industry
etc.)</b>.
</p>

<p>
Then the idea is to put the implementation of the alogrithm in a
<b>visitor</b>. There you would actually implement the algorithm.
</p>

<p>
A reference to the different class types will then hold the
relevant information for the algorithm to perform on that
particular class.
</p>

<p>
In this sense you would implement the algorithm in the following
way.
</p>

<img src="../../images/Screenshot%202022-09-13%20150920.png" class="center"><p>
So you see you work with visitor (the elemenent above) and you
actually call a single interface <i>accept</i>. Then you know which
algorithm to apply, cause recall that in the visitor you <b>pass a
reference</b>.
</p>

<p>
I.e. you will automatically apply the correct apply method. 
</p>
</div>
</div>
</div>


<div id="outline-container-org78cdbbe" class="outline-2">
<h2 id="org78cdbbe">Some core OOP principles you just have to keep on your mind</h2>
<div class="outline-text-2" id="text-org78cdbbe">
</div>
<div id="outline-container-org6d22086" class="outline-3">
<h3 id="org6d22086">Polymorphism</h3>
<div class="outline-text-3" id="text-org6d22086">
<p>
Overridden methods are another way that Java implements the “one
interface, multiple methods” aspect of polymorphism.
</p>

<p>
Part of the key to successfully applying polymorphism is understanding
that the superclasses and subclasses form a hierarchy which moves from
lesser to greater specialization.  Used correctly, the superclass
provides all elements that a subclass can use directly. It also
defines those methods that the derived class must implement on its
own. This allows the subclass the flexibility to define its own
methods, yet still enforces a consistent interface.
</p>
</div>
</div>


<div id="outline-container-orga9560fb" class="outline-3">
<h3 id="orga9560fb">Encapsulation</h3>
<div class="outline-text-3" id="text-orga9560fb">
<p>
The idea of OOP is the one of keeping data and methods operating on
them together.
</p>

<p>
In such a way you can keep the internal state of the object hidden
from the outside world.
</p>
</div>
</div>



<div id="outline-container-org5205f72" class="outline-3">
<h3 id="org5205f72">Key Concept - Favour Prgramming by Interface over Implementation</h3>
<div class="outline-text-3" id="text-org5205f72">
<p>
The idea is that in OOP you can work through the reference
variables mechanism. You can refresh them: <img src="../../java-notes-history-syntax-and-tricks.org" alt="Superclass reference
Subclass">, <img src="../../java-notes-history-syntax-and-tricks.org" alt="On reference variables using interafaces"> (note set the
index for emacs locally on www site it will not work).
</p>

<p>
This is in fact many the idea behind creational patterns as you
already got when learning about the concept. 
</p>

<img src="../../images/Screenshot%202022-08-26%20093006.png" class="center">
</div>
</div>


<div id="outline-container-orgeee00c9" class="outline-3">
<h3 id="orgeee00c9">Key Concept - Favour Object Composition over Inheritance</h3>
<div class="outline-text-3" id="text-orgeee00c9">
<p>
So in order to understand this, you have to start from the
disadvantages of Inheritance.
</p>

<p>
You can think about it in the following terms:
</p>

<blockquote>
<ol class="org-ol">
<li>You can't change the implementations inherited from parent classes
at run-time, because inheritance is defined at compile-time.</li>

<li>
<p>
Second, and generally worse, parent classes often define at least
part of their subclasses' physical representation. Because
inheritance exposes a subclass to details of its parent's
implementation, it's often said that "inheritance breaks
encapsulation" [Sny86]. The implementation of a subclass becomes
<b>so bound up with the implementation of its parent class</b> that any
change in the parent's implementation <b>will force the subclass to
change</b>.
</p>

<p>
Implementation dependencies can cause <b>problems when you're trying
to reuse a subclass</b>.
</p>

<p>
This dependency limits flexibility and ultimately reusability. From
here the idea of using <b>object composition</b>.
</p>
</li>
</ol>
</blockquote>
</div>

<div id="outline-container-org13a1b53" class="outline-4">
<h4 id="org13a1b53">Object Composition</h4>
<div class="outline-text-4" id="text-org13a1b53">
<p>
Object composition is defined dynamically at run-time through
objects acquiring references to other objects.
</p>

<p>
I.e. you encapsulate one object into antoher one. From here the
idea of Object Composition.
</p>

<p>
Because objects are accessed solely through their interfaces, we
don't break encapsulation. Any <b>object can be replaced at run-time
by another as long as it has the same type</b>.
</p>

<p>
Favoring object composition over class inheritance helps you keep
each class encapsulated and focused on one task.
</p>

<p>
So this is the idea of the second principle:
</p>

<blockquote>
<p>
Favor object composition over class inheritance.
</p>
</blockquote>

<p>
Nevertheless, our experience is that designers <b>overuse
inheritance as a reuse technique</b>, and designs are often made more
reusable (and simpler) by depending more on object
composition. You'll see object composition applied again and again
in the design patterns.
</p>
</div>
</div>

<div id="outline-container-org11edb64" class="outline-4">
<h4 id="org11edb64">Delegation</h4>
<div class="outline-text-4" id="text-org11edb64">
<p>
Delegation is a way of making composition as powerful for reuse as
inheritance [Lie86, JZ911]. In delegation, two objects are
involved in handling a request: a <b>receiving object delegates</b>
operations to its delegate - which is encapsulated.
</p>

<p>
The following window example makes quite the point:
</p>

<blockquote>
<p>
Window classmight reuse the behavior of Rectangle by keeping a
Rectangle instance variable and delegating Rectangle-specific behavior
to it.
</p>

<p>
In other words, instead of a Window being a Rectangle, it would have a
Rectangle.
</p>

<p>
Window must now forward requests to its Rectangle instance explicitly,
whereas before it would have inherited those operations.
</p>
</blockquote>

<img src="../../images/Screenshot%202022-08-29%20123626.png" class="center"><p>
Note now the benefit as well, that if you want to change and
create a window with a circle shape you just changing a Rectangle
instance with a <i>Circle instance</i> at run time.
</p>

<p>
Delegation has a disadvantage it shares with other techniques that
make softwaremore flexible through object composition: Dynamic,
highly parameterized software is <b>harder to understand</b> than more
static software. - layer of indirection; solves issues but more
complex. Same as distributed microservices.
</p>

<p>
There are also run-time inefficiencies, but the human
inefficiencies are more important in the long run.
</p>

<p>
Delegation is a good design choice only when it simplifies more
than it complicates.
</p>

<p>
Delegation is an extreme example of object composition. It shows
that you can <b>always replace inheritance with object composition</b>
as a mechanism for code reuse.
</p>
</div>
</div>
</div>


<div id="outline-container-org3bac52a" class="outline-3">
<h3 id="org3bac52a">Callback Methods</h3>
<div class="outline-text-3" id="text-org3bac52a">
<p>
So the basic idea is to create an interface with the methods that
the callback will leverage.
</p>

<p>
Then basically depedning on the object that will implement that
intereface you will fallback to different implementations of it.
</p>

<p>
Check as well at this event. <a href="https://www.tutorialspoint.com/Callback-using-Interfaces-in-Java">Equally good - if not better</a>. 
</p>

<p>
Say for instance the following
</p>

<div class="highlight"><pre><span></span><span class="w">   </span><span class="c1">// Java program to demonstrate callback mechanism</span>
<span class="w">   </span><span class="c1">// using interface is Java</span>

<span class="w">   </span><span class="c1">// Create interface</span>
<span class="w">   </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Scanner</span><span class="p">;</span>
<span class="w">   </span><span class="kd">interface</span> <span class="nc">STax</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="kt">double</span><span class="w"> </span><span class="nf">stateTax</span><span class="p">();</span>
<span class="w">   </span><span class="p">}</span>

<span class="w">   </span><span class="c1">// Implementation class of Punjab state tax</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">Punjab</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">STax</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">stateTax</span><span class="p">()</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="mf">3000.0</span><span class="p">;</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>

<span class="w">   </span><span class="c1">// Implementation class of Himachal Pardesh state tax</span>
<span class="w">   </span><span class="kd">class</span> <span class="nc">HP</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">STax</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">stateTax</span><span class="p">()</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="mf">1000.0</span><span class="p">;</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>

<span class="w">   </span><span class="kd">class</span> <span class="nc">TAX</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">	   </span><span class="kd">throws</span><span class="w"> </span><span class="n">ClassNotFoundException</span><span class="p">,</span><span class="w"> </span><span class="n">IllegalAccessException</span><span class="p">,</span><span class="w"> </span><span class="n">InstantiationException</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">	   </span><span class="n">Scanner</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span>
<span class="w">	   </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Enter the state name"</span><span class="p">);</span>
<span class="w">	   </span><span class="n">String</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w"> </span><span class="c1">// name of the state</span>

<span class="w">	   </span><span class="c1">// The state name is then stored in an object c</span>
<span class="w">	   </span><span class="n">Class</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Class</span><span class="p">.</span><span class="na">forName</span><span class="p">(</span><span class="n">state</span><span class="p">);</span>

<span class="w">	   </span><span class="c1">// Create the new object of the class whose name is in  c</span>
<span class="w">	   </span><span class="c1">// Stax interface reference is now referencing that new object</span>
<span class="w">	   </span><span class="n">STax</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">STax</span><span class="p">)</span><span class="n">c</span><span class="p">.</span><span class="na">newInstance</span><span class="p">();</span>

<span class="w">	   </span><span class="cm">/*Call the method to calculate total tax</span>
<span class="cm">	     and pass interface reference - this is callback .</span>
<span class="cm">	     Here, ref may refer to stateTax() of Punjab or HP classes</span>
<span class="cm">	     depending on the class for which the object is created</span>
<span class="cm">	     in the previous step</span>
<span class="cm">	   */</span>

<span class="w">	   </span><span class="n">calculateTax</span><span class="p">(</span><span class="n">ref</span><span class="p">);</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">       </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">calculateTax</span><span class="p">(</span><span class="n">STax</span><span class="w"> </span><span class="n">t</span><span class="p">)</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">	   </span><span class="c1">// calculate central tax</span>
<span class="w">	   </span><span class="kt">double</span><span class="w"> </span><span class="n">ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2000.0</span><span class="p">;</span>

<span class="w">	   </span><span class="c1">// calculate state tax</span>
<span class="w">	   </span><span class="kt">double</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="na">stateTax</span><span class="p">();</span>
<span class="w">	   </span><span class="kt">double</span><span class="w"> </span><span class="n">totaltax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ct</span><span class="p">;</span>

<span class="w">	   </span><span class="c1">// display total tax</span>
<span class="w">	   </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Total tax ="</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">totaltax</span><span class="p">);</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>

<p>
Note that in your code - for instance in the case of the zipParser
you use this concept coupled with the one of functional
programming.
</p>

<p>
I.e. your callback interface is implemented directly via functional
programming and it is never explicitely written anywehere.
</p>
</div>
</div>


<div id="outline-container-org4da6ef8" class="outline-3">
<h3 id="org4da6ef8">Anonymous Inner Classes</h3>
<div class="outline-text-3" id="text-org4da6ef8">
<p>
This is something quite interesting.
</p>

<p>
Anonymous classes are <i>inner classes with no name</i>.
</p>

<p>
Since they have no name, we can't use them in order to create
instances of anonymous classes.
</p>

<p>
As a result, we have to <b>declare and instantiate anonymous classes in
a single expression at the point of use</b>. -&gt; so essentially this is
ultimately the idea.
</p>

<p>
The way you declare this anonymous inner class with no name is the
following:
</p>

<blockquote>
<p>
new ParentClass (…) {}
</p>

<p>
where:
</p>

<ul class="org-ul">
<li>ParentClass the class you want to create the inner class in</li>

<li>(…) here you have to pass the constructor arguments. Note that
this is <i>necessary</i> as you are creating a new object out of the
box.</li>

<li>{} here you have the methods your anonymous class should implement</li>
</ul>
</blockquote>

<p>
Example
</p>

<div class="highlight"><pre><span></span><span class="w">   </span><span class="c1">// Anonymous class - no name.</span>
<span class="w">   </span><span class="c1">// It basically is an inner class of the parentclass: Book</span>
<span class="w">   </span><span class="n">myNewObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">"Design Patterns"</span><span class="p">)</span><span class="w"> </span><span class="c1">// constructors arguments of parent class</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="nd">@Override</span>
<span class="w">       </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">description</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">// inner class with this method</span>
<span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="s">"Famous GoF book."</span><span class="p">;</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>

<p>
Note that this is essentially it. The question is then why it is an
<i>inner</i> class? Not that clear to me at this stage. I think that the
naming is a bit confusing.
</p>

<p>
Check at the following minor test that I did. You can in fact as
well access the methods of the parent class. So it looks to me
simply as an extended class object. So don't know keep it as an open
question and do not spend too much time on it now… too many things
to learn. 
</p>

<div class="highlight"><pre><span></span><span class="w">   </span><span class="kd">class</span> <span class="nc">Person</span><span class="p">{</span>
<span class="w">       </span><span class="kt">void</span><span class="w"> </span><span class="nf">eat</span><span class="p">(){};</span>

<span class="w">       </span><span class="kt">void</span><span class="w"> </span><span class="nf">helloWorld</span><span class="w"> </span><span class="p">(){</span>
<span class="w">	   </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="w"> </span><span class="p">(</span><span class="s">"hello world"</span><span class="p">);</span>
<span class="w">       </span><span class="p">};</span>
<span class="w">   </span><span class="p">}</span>

<span class="w">   </span><span class="kd">class</span> <span class="nc">TestAnnonymousInner</span><span class="p">{</span>
<span class="w">       </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">args</span><span class="o">[]</span><span class="p">){</span>
<span class="w">	   </span><span class="n">Person</span><span class="w"> </span><span class="n">p</span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">(){</span>

<span class="w">		   </span><span class="nd">@Override</span>
<span class="w">		   </span><span class="kt">void</span><span class="w"> </span><span class="nf">eat</span><span class="p">(){</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"nice fruits"</span><span class="p">);}</span>
<span class="w">	       </span><span class="p">};</span>

<span class="w">	   </span><span class="n">p</span><span class="p">.</span><span class="na">eat</span><span class="p">();</span>
<span class="w">	   </span><span class="n">p</span><span class="p">.</span><span class="na">helloWorld</span><span class="w"> </span><span class="p">();</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>

<p>
<b>Finally note</b>: that it is very common as well to use the <i>abstract
inner class</i> patterns as well for interfaces. You can use this as
well there.
</p>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../java-application-deployment-some-vocabulary-and-high-level-understanding/" rel="prev" title="Java Application Deployment - Some Vocabulary and high Level Understanding">Previous post</a>
            </li>
            <li class="next">
                <a href="../on-a-brownfield-play/" rel="next" title="On a Brownfield Play">Next post</a>
            </li>
        </ul></nav></aside></article><footer id="footer"><p>Contents © 2024         <a href="mailto:marco.hassan30@gmail.com">Marco Hassan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
