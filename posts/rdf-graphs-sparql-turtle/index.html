<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>RDF Graphs - SPARQL - Turtle | Bits of Experience</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://marcohassan.github.io/bits-of-experience/posts/rdf-graphs-sparql-turtle/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Marco Hassan">
<link rel="prev" href="../a-nice-reminder-the-gamification-on-yourself/" title="A nice Reminder - The Gamification of Yourself" type="text/html">
<link rel="next" href="../ci-pipeline/" title="CI Pipeline" type="text/html">
<meta property="og:site_name" content="Bits of Experience">
<meta property="og:title" content="RDF Graphs - SPARQL - Turtle">
<meta property="og:url" content="https://marcohassan.github.io/bits-of-experience/posts/rdf-graphs-sparql-turtle/">
<meta property="og:description" content="Ok, it turns out I will have also quickly to dig into RDFs its syntax
and concepts.



To be honest after I digged deeper into label-property graphs I do not
really see the point of using RDFs graphs ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-03-31T16:52:34+02:00">
<meta property="article:tag" content="Data">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="../../pages/aboutme/" title="About me"><i class="fa fa-user-circle"></i></a></li>
            <li><a href="../../pages/bits-of-experience-a-readable-view-on-my-study-adventures/" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../../index.html" title="Blog"><i class="fa fa-edit"></i></a></li>
            <li><a href="../../pages/emacs/" title="A life Configuring Emacs"><i class="fa fa-code"></i></a></li>
            <li><a href="../../pages/papers/" title="Term and Research Papers"><i class="fa fa-university"></i></a></li>
            <li><a href="../../pages/foto-blog/" title="Foto Blog"><i class="fa fa-camera-retro"></i></a></li>
            <li><a href="https://github.com/MarcoHassan" title="My Github"><i class="fab fa-github"></i></a></li>
            <li><a href="https://stackoverflow.com/users/9731177/mhass" title="My Stack"><i class="fab fa-stack-overflow"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">RDF Graphs - SPARQL - Turtle</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2021-03-31T16:52:34+02:00" itemprop="datePublished" title="2021-03-31 16:52">2021-03-31 16:52</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Marco Hassan
            </span></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            
    <div class="tags">
<h3 class="metadata-title">
<i class="fa fa-tags"></i> Tags:</h3>
        <ul itemprop="keywords" class="tags-ul">
<li><a class="tag p-category" href="../../categories/data/" rel="tag">Data</a></li>
        </ul>
</div>

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>
Ok, it turns out I will have also quickly to dig into RDFs its syntax
and concepts.
</p>

<p>
To be honest after I digged deeper into label-property graphs I do not
really see the point of using RDFs graphs and query such graphs via
SPARQL. I did not even start seriously with it and I already have
headache because of the complexity involved. In every little thing in
CS there are layers and layers of complexity and at least 10 ways to
do one thing. That does not help. w3c or whatever should improve on
this, cause it is not fun like this. 
</p>

<p>
In any case, after this quick rant, the point of learning this is that
RDF is useful in itself cause on top of allowing the construction of
RDF graphs and the query via SPARQL it is a w3c standard to store
triples in itself.
</p>

<p>
Standardizations are always good, and this is why such data syntax is
very much used across the world for a smooth data transfer. I.e. even
if you do not like the graph storage and query of such RDF data, it is
useful itself cause its large community endowment.
</p>

<p>
This is why for the solution we will leverage existing RDF ontologies
as well as create our own data store following RDF standards and a
particular RDF ontology format used in Switzerland.
</p>

<p>
At the lower data layer we will therefore work with these. The app
logic, store and retrieve will likely not be through RDFs graphs and SPARQL.
</p>

<!-- TEASER_END -->

<div id="outline-container-org6f3f2dd" class="outline-2">
<h2 id="org6f3f2dd">RDF Syntax</h2>
<div class="outline-text-2" id="text-org6f3f2dd">
<p>
Ok, recall your big-data classes. Always split the <b>logical</b> layer
from the physical layer.
</p>

<p>
At the logical level RDF are simple triples
</p>

<pre class="example" id="orgc041a8e">
subject -&gt; predicate -&gt; object
</pre>

<p>
That is all. You specify entries with the logical model above and
grow your relations in such a way.
</p>

<p>
Now the ways such triples are, or can be, implemented are multiple.
</p>

<p>
Some leverage <code>xml</code> standards - which is in fact the official one-,
some other the <code>json</code> format etc.
</p>

<p>
One particularly important and used syntax for storing RDFs triples
is <code>turtle</code> which we will explore next. It removes a bit of
complexity of <code>RDF/XML</code> and you can quickly keep on going with it
then. This is especially important in this project where there is a
lot to do in little time.
</p>
</div>

<div id="outline-container-org9d125a5" class="outline-3">
<h3 id="org9d125a5">Turtle</h3>
<div class="outline-text-3" id="text-org9d125a5">
<p>
Note this borrows from <a href="https://ai.ia.agh.edu.pl/_media/pl:dydaktyka:semweb:quick-tutorial-rdf-turtle.pdf">here</a>. For a more thorough introduction check <a href="https://link.springer.com/content/pdf/10.1007%2F978-3-540-33994-6_4.pdf">here</a>.
</p>

<p>
There are essentially two datatypes in RDF:
</p>

<ul class="org-ul">
<li>
<code>URIs</code> reference some conceptual entity. They are usually written
as follows: <a href="http://people.csail.mit.edu/eob#ted">http://people.csail.mit.edu/eob#ted</a>. Note this are
not www exposed URI. It is much more that they borrowed from that
same concepts.  Note also that the <code>&lt;&gt;</code> are unrelated from xml
syntax. You do not need closing <code>/</code>. i.e. <code>&lt;/&gt;</code>
</li>

<li>
<p>
<code>Literals</code> these are literals datatypes: int, strings etc. These
are generally enclosed in quotes <code>""</code>
</p>

<p>
In order to specify the type of your literals you can use the
following syntax.
</p>

<p>
<code>“123″^^xsd:integer</code>
<code>“Ted”^^xsd:string</code>
</p>
</li>
</ul>
<p>
Given this basic logic you can the triples syntax would then be as
follows:
</p>

<blockquote>
<ol class="org-ol">
<li>A subject, which must be a URI (called a Resource in this sense)</li>
<li>A property, which must be a URI (called a Property in this sense)</li>
<li>An object, which can be either a URI (called a Resource in this sense) or a literal</li>
</ol>
</blockquote>

<p>
So for instance two triples might be:
</p>

<blockquote>
<p>
<a href="http://example.org/ted">http://example.org/ted</a> <a href="http://example.org/name">http://example.org/name</a> “Ted”
<a href="http://example.org/ted">http://example.org/ted</a> <a href="http://example.org/knows">http://example.org/knows</a> <a href="http://example.org/Tim">http://example.org/Tim</a>
</p>
</blockquote>

<p>
So basically that is already most of the game. At least in this
ultra short tutorial I found.
</p>

<p>
What follows are techniques that will render your day by day
operations easier.
</p>
</div>

<div id="outline-container-org2ed60f9" class="outline-4">
<h4 id="org2ed60f9">Namespaces</h4>
<div class="outline-text-4" id="text-org2ed60f9">
<p>
You can then leverage <code>namespaces</code> for not having to go through the
entire URI each time.
</p>

<p>
See for instance the following example:
</p>

<blockquote>
<p>
@prefix haystack: <a href="http://haystack.csail.mit.edu/">http://haystack.csail.mit.edu/</a>
</p>
</blockquote>

<p>
Such that you  can then write
</p>

<blockquote>
<p>
haystack:ted
</p>
</blockquote>

<p>
Instead of
</p>

<blockquote>
<p>
<a href="http://haystack.csail.mit.edu/ted">http://haystack.csail.mit.edu/ted</a>
</p>
</blockquote>

<p>
You can also specify a <b>default namespace</b>. This can be done in the
following way:
</p>

<blockquote>
<p>
@base <a href="http://db.csail.mit.edu/6.830/project#">http://db.csail.mit.edu/6.830/project#</a>
</p>
</blockquote>

<p>
After your base prefix is specified you can write such expressions
</p>

<blockquote>
<p>
:name
</p>
</blockquote>

<p>
This will be evaluated as:
</p>

<blockquote>
<p>
<a href="http://db.csail.mit.edu/6.830/project#name">http://db.csail.mit.edu/6.830/project#name</a>
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org06a2a61" class="outline-4">
<h4 id="org06a2a61">on Typed Resources</h4>
<div class="outline-text-4" id="text-org06a2a61">
<p>
In order to specify that a resource is of a particular type you
can use the <code>rdf:type</code> notation.
</p>

<p>
So for instance you can think of the following:
</p>

<blockquote>
<p>
haystack:ted rdf:type someprefix:student
</p>
</blockquote>

<p>
where you would specify that ted is a student - or specifically
that ted is an instance of class <code>someprefix:student</code>, where the
"class" student is defined as the set of all instances belonging
to it.
</p>

<p>
There is a shortcut in Turtle for that and this is the predicate
<code>a</code>. So the below evaluates exactly as the above 
</p>

<blockquote>
<p>
haystack:ted a someprefix:student
</p>
</blockquote>

<p>
Note that as being a class defined as a standard <code>URI</code> it is impossible
based on the <code>URI</code> itself to understand if it represents a single
object or a class. I.e. without domain knowledge of your data if
you just see <code>someprefix:student</code> you might not know if it
represents a class or a single individual. You have to dig deeper
in the entirety of your stored data for that and have to search
for <code>rdf:type</code> or <code>a</code> relations for that. 
</p>

<p>
You can then think and with a bit of intuition understand that in
a similar way it is possible to define metaclasses through such
syntax and this would be the milestone for creating your
ontologies. Check at the more thorough resource in the intro if
you want to go deeper.
</p>
</div>
</div>

<div id="outline-container-orga803406" class="outline-4">
<h4 id="orga803406">Statement</h4>
<div class="outline-text-4" id="text-orga803406">
<p>
Note that for each <code>subject</code> you can create a statement relating
to it - i.e. where the same URI is always your subject.
</p>

<p>
Statement boundaries are defined with a <code>.</code>.    
</p>

<p>
To make this clear think of the following:
</p>

<blockquote>
<p>
<a href="http://example.org/ted">http://example.org/ted</a> <a href="http://example.org/name">http://example.org/name</a> “Ted” .
</p>
</blockquote>

<p>
So note that this is a triple in the simple form.
</p>

<p>
You can however leverage the following syntax to express more
complex triples at once.
</p>

<blockquote>
<p>
## example triples in row
&lt;subject&gt; &lt;predicate&gt; &lt;object1&gt; .
&lt;subject&gt; &lt;predicate&gt; &lt;object2&gt; .
</p>


<p>
## shortcut syntax for same predicate
&lt;subject&gt; &lt;predicate&gt; &lt;object1&gt; , &lt;object2&gt; .
</p>

<p>
## shortcut syntax for different predicates
&lt;subject&gt; &lt;predicateA&gt; &lt;object1&gt; ;
          &lt;predicateB&gt; &lt;object2&gt; .
</p>

<p>
## combining the two above
&lt;subject&gt; &lt;predicateA&gt; &lt;object1a&gt; ,
                       &lt;object2a&gt; ; 
          &lt;predicateB&gt; &lt;object1b&gt; ,
                       &lt;object2b&gt; .
</p>
</blockquote>

<p>
So that generally you can have such structures:
</p>

<blockquote>
<p>
## Example 1
</p>

<p>
@base <a href="http://example.org/">http://example.org/</a> .
@prefix rdf: <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a> .
@prefix rdfs: <a href="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</a> .
@prefix foaf: <a href="http://xmlns.com/foaf/0.1/">http://xmlns.com/foaf/0.1/</a> .
@prefix rel: <a href="http://www.perceive.net/schemas/relationship/">http://www.perceive.net/schemas/relationship/</a> .
</p>

<p>
&lt;#green-goblin&gt;
    rel:enemyOf &lt;#spiderman&gt; ;
    a foaf:Person ;    # in the context of the Marvel universe
    foaf:name "Green Goblin" .
</p>

<p>
&lt;#spiderman&gt;
    rel:enemyOf &lt;#green-goblin&gt; ;
    a foaf:Person ;
    foaf:name "Spiderman", "Человек-паук"@ru .
</p>


<p>
## Example 2
haystack:ted a someprefix:student ;
             person:firstName "Ted"^<sup>xsd</sup>:string ;
             person:lastName "Benson"^<sup>xsd</sup>:string ;
             person:knows haystack:mihir .
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgb25d540" class="outline-4">
<h4 id="orgb25d540">Blank Nodes</h4>
<div class="outline-text-4" id="text-orgb25d540">
<p>
Blank nodes are evil. At least when recording data; they’re a
great shortcut when writing a query. They allow you to specify
generic relations without specifying an exact subject/object target.
</p>

<p>
If you must use them, they are connoted with square brackets <code>[]</code>.
</p>

<p>
To understand them better check at the following two examples:
</p>

<blockquote>
<p>
## Example 1 - Use as subject
</p>

<p>
[] a someprefix:student ;
   person:firstName "Ted"^<sup>xsd</sup>:string .
</p>
</blockquote>

<blockquote>
<p>
## Example 2 - Use as object
</p>

<p>
haystack:ted a someprefix:student ;
	     person:knows [
			    a someprefix:student ;
			    person:firstName "Mihir"^<sup>xsd</sup>:string .
			  ] ;
	     person:knows haystack:adam .
</p>

<p>
## Note the statement "." in the [] above		 
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orga2e3d6a" class="outline-4">
<h4 id="orga2e3d6a">Comments</h4>
<div class="outline-text-4" id="text-orga2e3d6a">
<p>
Comments may be given after a <code>#</code> that is not part of another
lexical token and continue to the end of the line.
</p>
</div>
</div>
</div>

<div id="outline-container-org1a174b7" class="outline-3">
<h3 id="org1a174b7">SPARQL</h3>
<div class="outline-text-3" id="text-org1a174b7">
<p>
Left over for the next application. Do not have time now and will
likely not use it at this round. However this is the traditional
way to query RDFs graphs specified by RDFs entries. You use the
same syntax of turtle. You once started playing with it with
Wikipedia ontology.
</p>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../a-nice-reminder-the-gamification-on-yourself/" rel="prev" title="A nice Reminder - The Gamification of Yourself">Previous post</a>
            </li>
            <li class="next">
                <a href="../ci-pipeline/" rel="next" title="CI Pipeline">Next post</a>
            </li>
        </ul></nav></aside></article><footer id="footer"><p>Contents © 2022         <a href="mailto:marco.hassan30@gmail.com">Marco Hassan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
