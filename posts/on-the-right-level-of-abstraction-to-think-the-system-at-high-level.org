#+BEGIN_COMMENT
.. title: On the right level of abstraction to think the system at high level
.. slug: on-the-right-level-of-abstraction-to-think-the-system-at-high-level
.. date: 2022-06-15 13:42:09 UTC+02:00
.. tags: 
.. category: 
.. link: 
.. description: 
.. type: text

#+END_COMMENT

#+begin_export html
<style>

img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin-top: 60px;
  margin-bottom: 60px;
  width: 70%;
  overflow: hidden;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
  display:block;
  overflow-y: hidden;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: none;
  display:block;
  overflow-y: hidden;
}
</style>
 #+end_export

   This is as well another important component; it originates from [[https://www.value-at-risk.net/mappings/][here]].

   I very much like these notes as they allow you to gain that high
   level overview of the subject and high level understanding of the
   thing.

   You can then think under these terms when checking at the thing and
   you can correctly understand the operation you are doing when
   working on the system. 


{{{TEASER_END}}}

** Portfolio Mappings

*** First of all understand the mapping exercise

    This is of paramount importance and is very core to the way you
    implement your system.

    The essential idea is the following:

    When performing your calculations you rarely directly specify a
    conditional distribution for the value of your portfolio. This is
    hardly feasible due to the complexity of financial markets.

    What you essentially do is express your portfolio value as a linear
    combination of the underlying instruments composing it.

    #+BEGIN_src latex :results drawer :exports results
    \[ P_{i = 1} = w * S] \]
    #+END_src

    #+RESULTS:
    :RESULTS:
    \[ P_{i = 1} = w * S] \]
    :END:


    Note that /w/ is essentially a map from the instruments to the
    portfolio value.

    What you then generally do is not to model the conditional
    distribution of the instruments =S=, but you rather specify
    conditional distribution of the risk factors =R= and specify a map
    from them to the instruments.

    You will have then a general way of expressing your risks by the
    concatenation of maps. The problem would then be more less the
    following:
    
    #+begin_export html
     <img src="../../images/Screenshot 2022-06-15 121034.png" class="center">
    #+end_export

    In the sense that:

    #+begin_export html
     <img src="../../images/Screenshot 2022-06-15 132850.png" class="center">
    #+end_export

    Finally, the entire process would look at high level as follows:

    #+begin_export html
     <img src="../../images/Screenshot 2022-06-15 132955.png" class="center">
    #+end_export

    So that is it. You have essentially to understand which of piece
    of your system fits in which box but you can reduce everything to
    that.

    I could already map the components I know to this schema. Would be
    cool to map everything to it once I have a clearer understanding
    of the system.

    Understand as well the transformation component in the above. The
    idea is the following:

    - given your map from risk factors to portfolio values you compute
      the value at risk. Either by some analytical formula given the
      distribution of interest or via some numerical technique as
      monte carlo.

    That component is actually the transformation piece of the cake,
    so essentially here the difficulty is on combining the conditional
    distribution of R and the mapping function \theta in order to
    compute your VaR measure.

*** Important Mapping Considerations

    The above is quite general. You can think then about how the
    system you are working on handles the thing.

    In general understand the following for the different component
    that you have to specify in the system.

**** Specifying S and w

     I report over here the entire section available [[https://www.value-at-risk.net/primary-mapping/][here]]:
    
     #+begin_export html
      <img src="../../images/Screenshot 2022-06-15 135518.png" class="center">
     #+end_export

**** Specifying R and theta

     Same as above - check at the url above if you want the orginal.

     #+begin_export html
      <img src="../../images/Screenshot 2022-06-15 140507.png" class="center">
     #+end_export

     You undestand well now what our model library is..
     

** Remappings

   So basically you talk about remapping when you approximate a
   mapping through a second one.

   So the reasons for applying such remappings are the following:
   
   #+begin_export html
    <img src="../../images/Screenshot 2022-06-16 120131.png" class="center">
   #+end_export

   An example for such nested monte carlo simulations is the one where
   actually pricing your instruments requires monte carlo simulations,
   think for instance at exotic options where the price path is
   important and not simply the final state.

   In such a case you might want to go with remappings in order to
   reduce the complexity of the operations.

   That said you basically have three types of remapping. These you
   already saw extensively when going into your models. These are:
   
   #+begin_export html
    <img src="../../images/Screenshot 2022-06-16 131014.png" class="center">
   #+end_export

   So again when working on the thing understand what kind of
   remapping you are performing and always set the things into frames.

   The book then treats three major sources of remappings

*** Holdings Remappings

    This is one of the typical examples of remappings where you
    approximate stuff therefore managing complexity at the expense of
    loosing a bit of precision.

    See [[https://www.value-at-risk.net/holdings-remappings/][the following]]:

    #+begin_export html
     <img src="../../images/Screenshot 2022-06-16 132203.png" class="center">
    #+end_export

    So we do not use this kind of exercise in the first step of the
    system, maybe later. Not sure about that. 

    Keep an eye on this as well.
    
*** Function Remappings

    These are the standard things. You saw tons of them in your first
    masters and that is the most interesting part from the
    mathematical part.
    
*** Variable Remappings
    
    #+begin_export html
     <img src="../../images/Screenshot 2022-06-16 140649.png" class="center">
    #+end_export

    These are based on the structural underpinnings of the
    markets. Have to understand well your instruments in order to
    properly deal with them.

    A very cool example for all of this is [[https://www.value-at-risk.net/modeling-curves/][the following]]. Exactly this
    step was causing issues as some recent point. So you see, read and
    you will find the answers. Everything is already out there. You
    just have to go and collect.

    So understand all of these babies in the system.


** On implementing the system

   Also nice was to have a read on chapter 12. It sets a high level
   overview for implementing the system and how to construct
   everything. Important design decisions etc.

   Check as well the [[https://www.value-at-risk.net/reading-implementing-value-risk/][further literature section]]. You can learn a lot
   readings these books about the important existing trade offs. 

   
