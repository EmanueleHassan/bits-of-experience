<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Emacs as Java IDE via LSP | Bits of Experience</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://marcohassan.github.io/bits-of-experience/posts/emacs-as-java-ide-via-lsp/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Marco Hassan">
<link rel="prev" href="../java-notes-history-syntax-and-tricks/" title="Java Notes - History, Syntax and Tricks" type="text/html">
<link rel="next" href="../some-notes-about-uml-and-plantuml/" title="Some Notes about UML and PlantUml" type="text/html">
<meta property="og:site_name" content="Bits of Experience">
<meta property="og:title" content="Emacs as Java IDE via LSP">
<meta property="og:url" content="https://marcohassan.github.io/bits-of-experience/posts/emacs-as-java-ide-via-lsp/">
<meta property="og:description" content="img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-09-29T18:03:15+02:00">
<meta property="article:tag" content="emacs">
<meta property="article:tag" content="java">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="../../pages/aboutme/" title="About me"><i class="fa fa-user-circle"></i></a></li>
            <li><a href="../../pages/bits-of-experience-a-readable-view-on-my-study-adventures/" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../../index.html" title="Blog"><i class="fa fa-edit"></i></a></li>
            <li><a href="../../pages/emacs/" title="A life Configuring Emacs"><i class="fa fa-code"></i></a></li>
            <li><a href="../../pages/papers/" title="Term and Research Papers"><i class="fa fa-university"></i></a></li>
            <li><a href="../../pages/foto-blog/" title="Foto Blog"><i class="fa fa-camera-retro"></i></a></li>
            <li><a href="https://github.com/MarcoHassan" title="My Github"><i class="fab fa-github"></i></a></li>
            <li><a href="https://stackoverflow.com/users/9731177/mhass" title="My Stack"><i class="fab fa-stack-overflow"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Emacs as Java IDE via LSP</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2021-09-29T18:03:15+02:00" itemprop="datePublished" title="2021-09-29 18:03">2021-09-29 18:03</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Marco Hassan
            </span></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            
    <div class="tags">
<h3 class="metadata-title">
<i class="fa fa-tags"></i> Tags:</h3>
        <ul itemprop="keywords" class="tags-ul">
<li><a class="tag p-category" href="../../categories/emacs/" rel="tag">emacs</a></li>
            <li><a class="tag p-category" href="../../categories/java/" rel="tag">java</a></li>
        </ul>
</div>

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <style>
img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin-top: 60px;
  margin-bottom: 60px;
  width: 70%;
  overflow: hidden;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
  display:block;
  overflow-y: hidden;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: none;
  display:block;
  overflow-y: hidden;
}
</style>
<p>
So I will work quite a lot with Java in the next couple of years. So I
have to properly set up a strong IDE and workflow for working in it.
</p>

<p>
I know that the majority of the people do not think much of emacs in
terms of IDE but since the language-server-protocol integrations I
believe they can be as strong as more mainstream IDEs such as Visual
Code out there. t.
</p>

<p>
I even think that they can be better once you get into it
enough. After a bit of research I am quite sure about the fact.
</p>

<p>
In fact this was my experience with Python and now the step is simply
to get ot that level of costumization with emacs. So here some notes
on my way of making emacs a top environment for java and improve my
productivity with it in the long-term.
</p>

<!-- TEASER_END -->

<div id="outline-container-org89950fb" class="outline-2">
<h2 id="org89950fb">Resources</h2>
<div class="outline-text-2" id="text-org89950fb">
<p>
Look at the following <a href="https://code.visualstudio.com/blogs/2018/08/07/debug-adapter-protocol-website">blog entry</a> and <a href="https://microsoft.github.io/language-server-protocol/overviews/lsp/overview/">this entry</a>.
</p>

<p>
There you will understand why emacs is nothing else than VS-code. So
people that tell you that VS-code is a better IDE than emacs have
obviously no idea how VS-code works in the background.
</p>

<p>
Add to a perfect functioning IDE all of the major emacs mode that have
little to no rival:
</p>

<ul class="org-ul">
<li>org-mode</li>

<li>magit</li>

<li>projectile</li>

<li>imenu</li>

<li>hs-minor-mode</li>
</ul>
<p>
etc. and you will soon get the reason why emacs is 10x better than any
other workflow solution out there.
</p>

<p>
Also note that you should not get confused. The underlying language
servers that you install are running in localhost so that your code is
never leaving your machine.
</p>

<p>
You can in fact see in emacs the <code>pid</code> that they are running on as it
is prompted in any source file where you are developing with the
integration of the language server protocol.
</p>

<p>
I tried then to find the process on my local laptop. On windows
systems you can do that with the following command.
</p>

<div class="highlight"><pre><span></span>netstat -aon
</pre></div>

<p>
Note that interestingly the process is listening on <code>0.0.0.0</code> for
connections on <code>0.0.0.0</code> so actually anyone knowing the port and IP of
my machine can connect to that language server. I was rather thinking
more of a <code>127.0.0.1</code> solution as default to be honest.
</p>

<p>
That said you can now explore the functionalities of the language
server protocol and how the infor is displayed in the emacs UI.
</p>

<p>
Check as well <a href="https://xpressrazor.wordpress.com/2020/11/04/java-programming-in-emacs/">this tutorial</a> that shows some basics functioning of
java-lsp. 
</p>
</div>
</div>


<div id="outline-container-orgb3eaaeb" class="outline-2">
<h2 id="orgb3eaaeb">Find reference</h2>
<div class="outline-text-2" id="text-orgb3eaaeb">
<p>
<code>lsp-find-references</code>:  For an object visualize where it is used in
your project. I.e. it searches across all of your files in the
project. You can then navigate across them in the usual way.
</p>

<p>
Note that this si actually very similar to the ag-search you used to
do through projectile. No big difference in this sense.
</p>

<p>
you can either do it in this version or via
<code>peek-reference</code>. understand which one of the both you like the
most.
</p>

<p>
note that you have understand the difference among reference and
implementations when searching.
</p>

<p>
you search for references for objects or variables.
</p>

<p>
you search for implementations of classes and interfaces.
</p>
</div>
</div>


<div id="outline-container-org51adf0a" class="outline-2">
<h2 id="org51adf0a">peek references</h2>
<div class="outline-text-2" id="text-org51adf0a">
<p>
basically the same as finding by reference. it will display more
information in the same buffer though.
</p>

<p>
you will not just see the references such that you can hover there
and jump to the statement but rather you will have two frames side
by side where hovering over one statement it will already display
the code for that piece of information.
</p>

<p>
I might even like this better. it is not bad as you see on the code
and then if you select it you actually jump to that piece of code as
in the normal way. 
</p>
</div>
</div>


<div id="outline-container-orgd4e394a" class="outline-2">
<h2 id="orgd4e394a">Refactor</h2>
<div class="outline-text-2" id="text-orgd4e394a">
</div>
<div id="outline-container-orgfdbae33" class="outline-3">
<h3 id="orgfdbae33">general refactoring - naming etc</h3>
<div class="outline-text-3" id="text-orgfdbae33">
<p>
when you call the rename option through the <code>lsp</code> server you should
actually rename all of the variables across all of the source files
in the project. this is actually not happening in my case so there
must still be some minor error.
</p>
</div>
</div>

<div id="outline-container-orgd440601" class="outline-3">
<h3 id="orgd440601">refactoring of parameters</h3>
<div class="outline-text-3" id="text-orgd440601">
<p>
note that in Java you can not assign default to parameters.
</p>

<p>
this is a big drawback to my mind.. it was pretty useful as a
feature.
</p>

<p>
now you have the option to implement the default parameters either
by overloading the stuff, or by encapsulating some information into
some object or finally by using the option of eclipse of
refactoring.
</p>

<p>
Depending on the circumstances one might be better than the
other. It is a question of experience and of checking how different
things work.
</p>

<p>
So the idea is that if you enter the refactoring view, you will
have the option of <b>changing method signature</b>.
</p>

<p>
This is a nice way to set a default. You can in fact add a
parameter and specify over there the default such that eclipse will
actually change all of the existing methods by adding the parameter
of choice with the <b>default</b> value of choice.
</p>
</div>
</div>
</div>


<div id="outline-container-org319fa62" class="outline-2">
<h2 id="org319fa62">Flycheck</h2>
<div class="outline-text-2" id="text-org319fa62">
<p>
De-Activate it.
</p>


<p>
Then with <code>lsp-ui-flycheck-list</code> you will get a list with all of the
errors and inconsistencies you have in your source files.
</p>

<p>
that is good and it corresponds to your eclipse way of seeing your
errors etc.
</p>

<p>
Note that there you see as well the todos as in eclipse so there is
a 1:1 in this sense.
</p>

<p>
See for instance the following on the 101 spring application I am
working on:
</p>

<img src="../../images/Screenshot%202022-02-03%20164053.png" class="center"><p>
Note that there are issues with the last stable release of Melpa. It
is still not working. This is emacs. Have to deal with the dirty
world of software development. Check at <a href="https://github.com/flycheck/flycheck/issues/1754">this thread</a> and implement
that dirty workaround as it is more than 1 year that they are
promising a stable release but nothing is moving.
</p>
</div>
</div>


<div id="outline-container-org0942b7d" class="outline-2">
<h2 id="org0942b7d">lsp format buffer</h2>
<div class="outline-text-2" id="text-org0942b7d">
<p>
reformat the buffer based on what the language server thinks it
makes sense.
</p>

<p>
<code>lsp-format-buffer</code>.
</p>

<p>
not that recommended. use different packages that are tailored to
the language for doing code-formatting.
</p>

<p>
usually it works better. 
</p>
</div>
</div>


<div id="outline-container-org9706f5b" class="outline-2">
<h2 id="org9706f5b">Projectile</h2>
<div class="outline-text-2" id="text-org9706f5b">
<p>
this is strong as it gives you all of the options to navigate your
project and code.
</p>

<p>
i.e. jump to the test files etc.
</p>
</div>
</div>


<div id="outline-container-org4bdd9e1" class="outline-2">
<h2 id="org4bdd9e1">class hierarchy</h2>
<div class="outline-text-2" id="text-org4bdd9e1">
<p>
you can visualize the class hierachy with <code>lsp-ui-imenu</code>
</p>

<p>
this is essentially the same information as you can have with the
<b>lsp-header-breadcrumb</b> below.
</p>

<p>
so I would not recommend it too much.
</p>
</div>
</div>


<div id="outline-container-orgac984c0" class="outline-2">
<h2 id="orgac984c0">lsp-header-breadcrumb</h2>
<div class="outline-text-2" id="text-orgac984c0">
<p>
search it. will show you on the top of your buffer the hierarchy for
where you are at in your buffer.
</p>

<p>
i.e. what file, in which class etc.
</p>

<p>
this will adapt as you cycle through your code and it should help
you a bit to keep the visibility over your entire code. 
</p>
</div>
</div>


<div id="outline-container-org01c14a0" class="outline-2">
<h2 id="org01c14a0">Project Root</h2>
<div class="outline-text-2" id="text-org01c14a0">
<p>
That is important as from there the lsp starts and make all of the
connections.
</p>

<p>
This will allow you to jump to variables and declarations at a
project wide level.
</p>

<p>
I managed to adjust the project root by removing the existing
project root that I firstly selected in just a subspace of the
working directory where just an application among the many was
defined. This was not good as that application was using some gneral
classes that were designed to be used across all of the applications
and were therefore on a different path of the hierarchy that was not
available through my project root.
</p>

<p>
In this sense I had to adapt my project root. This was done in the
following way.
</p>

<p>
First you have to see and understand the location of your
configuration file of your lsp-sessions. For this you can call the
variable <code>lsp-session-file</code> by calling <code>C-h v</code>.
</p>

<p>
Once you find such a location you can delete that file, close your
emacs, restart it, navigate a source file of your project.
</p>

<p>
You will be asked then to select the project root for your
lsp. There you should not select the proposed root that will be
inferred from the application specific <code>git</code> and <code>gradle</code> files but
you rather select the option to choose the root of the project
interactively. Then you can navigate to the real root of the project
that includes all of the submodules.
</p>

<p>
In such a way you should have a lsp server that is able to properly
infer all of your relations for your entire project and you can jump
to <b>implementations</b> and <b>definitions</b> for all of your methods,
classes and variables across your entire projects.
</p>
</div>
</div>


<div id="outline-container-org109d798" class="outline-2">
<h2 id="org109d798">On checking the hierarchy and dependencies</h2>
<div class="outline-text-2" id="text-org109d798">
<p>
For visualizing the dependencies and get a general overview of a
package I like to use the <code>lsp-treemacs-java-deps-list</code> function.
</p>

<p>
There you can quickly visualize the pacakges structures and
visualize the classes available in a given file together with the
methods of them.
</p>
</div>
</div>


<div id="outline-container-org36560de" class="outline-2">
<h2 id="org36560de">treemacs</h2>
<div class="outline-text-2" id="text-org36560de">
<p>
Note that this is a different module but I also like this a lot and
the integration with lsp mode.
</p>

<p>
It is nice cause you can see the hierarchy of the files that you are
calling and get a general overview of how your projects are
structured.
</p>

<p>
Moreover it is nice that treemacs will follow you when jumping from
one file to the next. Especially in very large projects with tons of
files and repositories it is convenient.
</p>

<p>
In such a way you will be able to visualize the anchestors of your
file and explore what sits around that source file in the
hierarchy. That is pretty much informative already and will help you
to quickly make sense of your code.
</p>

<p>
Note that in a similar way to lsp there is quite annoying story with
the set up. I.e. once you select a root/workspace every time you
open treemacs you will be prompted to that workspace no matter where
you are working on your file-system.
</p>

<p>
There are ways to deal with it. You can check your documentation
<a href="https://github.com/Alexander-Miller/treemacs">online</a>. You can basically call <code>treemacs-edit-workspaces</code> and edit
there your workspaces.
</p>
</div>
</div>


<div id="outline-container-org0a03efb" class="outline-2">
<h2 id="org0a03efb">Troubleshooting</h2>
<div class="outline-text-2" id="text-org0a03efb">
<p>
Look at this <a href="https://emacs-lsp.github.io/lsp-mode/page/troubleshooting/">troubleshooting</a> url when you have issues and want to
debug stuff.  
</p>
</div>
</div>


<div id="outline-container-org7f8424e" class="outline-2">
<h2 id="org7f8424e">Building and Testing</h2>
<div class="outline-text-2" id="text-org7f8424e">
<p>
Ok that is not properly lsp-related but let's put it in here. Maybe
I will then write some separate notes on projectile later.
</p>

<p>
You have your build and test configuration set-up by David.
</p>

<p>
You have to understand where the commands for such builds and push
are.
</p>

<p>
Then you can run your projects from emacs with the <code>projectile
  run-project</code> command.
</p>

<p>
You can even run the unit-root tests for your project by running
<code>projectile test-project</code>.
</p>

<p>
Working as a charm now. Just have to configure it with <code>gradle</code> for
your actual project but then you are good to go.
</p>
</div>
</div>


<div id="outline-container-org68d4278" class="outline-2">
<h2 id="org68d4278">Debugging</h2>
<div class="outline-text-2" id="text-org68d4278">
<p>
Basically Debugging is based once more on a protocol that
communicates with a server. In order to understand this properly
check at <a href="https://code.visualstudio.com/blogs/2018/08/07/debug-adapter-protocol-website">this url</a>.
</p>

<p>
So basically once more you are working with the same debugging
features as in VS-code.
</p>

<p>
Note that you can specify different debugger types that you want to
work with. This in a similar way as in Eclipse.
</p>

<p>
For my projects I am working with a remote Java application. For
debugging that application I am launching it listening at port 8000
for debugging.
</p>

<p>
You can then specify then a dap-debugger that will try to
instantiate a connection at that port.
</p>

<p>
You can do that for instance by specifying the following template.
</p>

<div class="highlight"><pre><span></span>  <span class="p">(</span><span class="n">dap</span><span class="o">-</span><span class="n">register</span><span class="o">-</span><span class="n">debug</span><span class="o">-</span><span class="n">template</span>
   <span class="s">"localhost:8000"</span>
   <span class="p">(</span><span class="n">list</span> <span class="p">:</span><span class="n">type</span> <span class="s">"java"</span>
    <span class="p">:</span><span class="n">request</span> <span class="s">"attach"</span>
    <span class="p">:</span><span class="n">hostName</span> <span class="s">"localhost"</span>
    <span class="p">:</span><span class="n">port</span> <span class="mi">8000</span><span class="p">))</span>
</pre></div>

<p>
You can then enter the debugging modus via <code>dap-debug</code> and the hydra
pop-up will come out. That is particularly useful as it will lock
some keys that will be useful for debugging. You can then hide it or
open it via <code>M-&lt;f5&gt;</code>.
</p>
</div>
</div>


<div id="outline-container-orgf9c5a76" class="outline-2">
<h2 id="orgf9c5a76">Auto-completion</h2>
<div class="outline-text-2" id="text-orgf9c5a76">
<p>
Note that auto-completion is also working now. I think that before
something was broken at configuration level.
</p>

<p>
This is my experience with lsp. There are a lot of things going on
and sometimes things just break.
</p>

<p>
It is sensible once in a while to restart everything by deleting the
<code>workspace</code> and the <code>.lsp-session-v1</code> file once in a while.
</p>

<p>
Note that there is still a lot of confusion around that topic in
lsp for emacs and the way that things are done there at UI level. In
order to understand this, check <a href="https://github.com/emacs-lsp/lsp-java/issues/201">this</a>.
</p>
</div>
</div>


<div id="outline-container-org50662e4" class="outline-2">
<h2 id="org50662e4">Lsp java deps list</h2>
<div class="outline-text-2" id="text-org50662e4">
<p>
In such a way it is possible to quickly navigate all of the
necessary dependencies for your projects in your workspace.
</p>

<p>
It opens kind of a treemacs thing where you would set the stuff.
</p>
</div>
</div>

<div id="outline-container-org2f43996" class="outline-2">
<h2 id="org2f43996">Organize Imports</h2>
<div class="outline-text-2" id="text-org2f43996">
<p>
Use this. I.e. type <code>C-c l a-a</code> and organize imports.
</p>

<p>
It will clear all of the imports you do not have to use.
</p>

<p>
It will as well import all of the stuff you are using in the file.
</p>

<p>
So neat. You see that each day you are closing to working better
with it. 
</p>
</div>
</div>

<div id="outline-container-org53612a7" class="outline-2">
<h2 id="org53612a7">Note that it will take me some time to completely migrate to Emacs for Java development</h2>
<div class="outline-text-2" id="text-org53612a7">
<p>
This because emacs is not the most easy way you start from scratch
in a new environment. Especially for larger projects like this.
</p>

<p>
In order to switch I will have to properly understand how <code>gradle</code>
works at some point.
</p>

<p>
Moreover, I will have to understand all of the testing suites that
interface with Java and how to properly do the debugging in emacs.
</p>

<p>
From what I could see it is nonetheless theoretically possible to
eventually reach a stage with a much stronger development setting in
emacs in comparison to standard IDEs.
</p>

<p>
In the meanwhile while this process is ongoing check at the
following notes for using more classical IDEs.
</p>
</div>


<div id="outline-container-org2dafff9" class="outline-3">
<h3 id="org2dafff9">On branch</h3>
<div class="outline-text-3" id="text-org2dafff9">
<p>
One thing that irritates me for instance in the Eclipse IDE is that
it does not automatically switch branch for my projects when I
change branch via my shell.
</p>

<p>
In order to change branch you need to right-click on the project
and referesh it. Then the change of branch will be performed. 
</p>
</div>
</div>

<div id="outline-container-orga490c62" class="outline-3">
<h3 id="orga490c62">Debugging</h3>
<div class="outline-text-3" id="text-orga490c62">
<p>
For eclipse you can read <a href="https://www.vogella.com/tutorials/EclipseDebugging/article.html">this</a> documentation.
</p>

<p>
Note that you can see the debugging options for which the
local-server is started in your <code>LOCAL-tomcat</code> command file. 
</p>
</div>
</div>

<div id="outline-container-orgf8e10cc" class="outline-3">
<h3 id="orgf8e10cc">On problems of references in Eclipse</h3>
<div class="outline-text-3" id="text-orgf8e10cc">
<p>
Eclipse does not manage to properly get all of the relations when
you git pull from the shell.
</p>

<p>
so be aware and on the lookout for that. in that case you <code>clean</code>
all of the workspace and start over from scratch.
</p>

<p>
In order to do that <code>Project</code> -&gt; <code>Clean</code>. Then you follow the
instructions there and you can rebuild and it should work.
</p>
</div>
</div>

<div id="outline-container-org24df083" class="outline-3">
<h3 id="org24df083">Note that in eclipse you have a way to write TODOs and search them then.</h3>
<div class="outline-text-3" id="text-org24df083">
<p>
Looks like an interesting feature. Check at it later. 
</p>

<p>
Note that in many of my tasks are noted by the follwoing tags
</p>

<pre class="example" id="orgc0beb75">
//TODO auto-generated method stub
</pre>


<p>
as in the following example.
</p>


<div class="highlight"><pre><span></span>   <span class="nd">@Override</span>
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">insert</span><span class="p">()</span> <span class="p">{</span>
       <span class="c1">// TODO Auto-generated method stub</span>

   <span class="p">}</span>
</pre></div>

<p>
Note that such strings are auto-generated by the Eclipse IDE. It is
interesting the tag <code>TODO</code>. This is a keyword through which you can
manage your todos. It is interesting especially if you will have
some searching feature then to organize such todos. 
</p>

<p>
The <code>stub</code> keyword means that the method is void and has no
return. 
</p>
</div>
</div>

<div id="outline-container-org822ba0d" class="outline-3">
<h3 id="org822ba0d">Autogenerated doc-comment schema</h3>
<div class="outline-text-3" id="text-org822ba0d">
<p>
This is useful as it will give you the skeleton of the doc-comment
and will save you quite some time.
</p>

<p>
You have to find a substitute in emacs once you will get back to
it. And yes it is a matter of time. It might take longer than
expected though.
</p>
</div>
</div>

<div id="outline-container-org75b0319" class="outline-3">
<h3 id="org75b0319">Broken Eclipse - not understanding project correctly - restart</h3>
<div class="outline-text-3" id="text-org75b0319">
<p>
Especially now at the beginning, without having a proper
understanding of the entire thing, I am messing things up a bit.
</p>

<p>
It seems that I am particularly capable of breaking the loop eclipse
&lt;-&gt; gradle etc. In such a way your IDE will not be able to properly
read the stuff in the project. You will have lots of errors because
of missing dependecies etc.
</p>

<p>
Have to fix it at some point. In any case I still plan to eventually
migrate on my emacs for the development experience. Then I will be
properly free.
</p>

<p>
In any case for fixing these issues use the following procedere. 
</p>

<p>
Delete the following from each gradle project
</p>

<ul class="org-ul">
<li>
<code>.gradle</code> – build stuff for each library</li>
<li>
<code>.settings</code> – eclipse settings</li>
<li>
<code>.classpath</code> – classpath info</li>
<li>
<code>.project</code> – project info</li>
</ul>
<p>
on the top of the workspace <code>.metadata</code> (here eclipse saves workspace
config).
</p>

<p>
then basically you can close and reopen eclipse. 
</p>

<p>
Then change your gradle version to 7.1.1. and set the <code>java_home</code>
correctly. You can do this under project -&gt; properties -&gt; gradle.
</p>

<p>
Then basically you are good to go. You click on import -&gt; import
existing gradle project -&gt; you click on the repos.
</p>

<p>
You wait until the built is done. -&gt; you build and deploy.
</p>
</div>
</div>

<div id="outline-container-org0a4a44e" class="outline-3">
<h3 id="org0a4a44e">Multi-Threading Debugging</h3>
<div class="outline-text-3" id="text-org0a4a44e">
<p>
this is not a trivial thing. you can read about it in the following
post.
</p>

<p>
the thing is that you might start to stop a single thread, while
the other threads of the application normally continue to run.
</p>

<p>
<a href="https://stackoverflow.com/questions/5375538/debugging-multiple-threads-in-eclipse/5375589">https://stackoverflow.com/questions/5375538/debugging-multiple-threads-in-eclipse/5375589</a>
</p>



<hr>
<p>
note that I always have an issue of deployment. the jar goes in the
wrong folder. i.e. the things are packaged in the wrong directory.
</p>
</div>
</div>

<div id="outline-container-org5c0b187" class="outline-3">
<h3 id="org5c0b187">On the validation issue</h3>
<div class="outline-text-3" id="text-org5c0b187">
<p>
So basically we work with the mustache framework for embedding some
logic in the html files.
</p>

<p>
Then basically your marks in eclipse complain about it tells you
that you have errors in your html etc.
</p>
</div>
</div>

<div id="outline-container-org8bba177" class="outline-3">
<h3 id="org8bba177">On the Eclipse Debugger</h3>
<div class="outline-text-3" id="text-org8bba177">
<p>
Have to find the option to go back in time - i.e. of steps.
</p>

<p>
I know this is a feature many debuggers provide and I think that it
is quite handy.
</p>

<p>
I found <a href="https://stackoverflow.com/questions/4331336/how-to-step-back-in-eclipse-debugger">this entry</a>…
</p>

<blockquote>
<p>
Beyond what's been mentioned in earlier answers - i.e. Eclipse's drop
to frame feature in the debug view, which restarts debugging earlier
in the stack frame (but does not revert global/static data) and
Omniscient debugger, which is a bit raw and not so much evolving -
there are a few Eclipse-based tools that could be used to "go back" in
(run)time:
</p>

<ul class="org-ul">
<li>JIVE: Java Interactive Visualization Environment</li>

<li>Chronon: A “flight data recorder” for Java programs</li>

<li>Diver (discontinued): Dynamic Interactive Views For Reverse
Engineering</li>

<li>Halik: Only for IntelliJ for now, but porting to Eclipse is
mentioned on the roadmap.</li>
</ul>
</blockquote>

<p>
So search for this entry and explore better these options at some
point. 
</p>
</div>
</div>

<div id="outline-container-org402b3a9" class="outline-3">
<h3 id="org402b3a9">Remove all of the imports that are not used.</h3>
<div class="outline-text-3" id="text-org402b3a9">
<p>
This is also quite handy as Eclipse automatically adds lots of
imports at development time.
</p>

<p>
You can then remove all of the ones you are not needing with
<code>CTRL-Shift-O</code>.
</p>
</div>
</div>

<div id="outline-container-org9167e89" class="outline-3">
<h3 id="org9167e89">How to kill all existing java related excutions</h3>
<div class="outline-text-3" id="text-org9167e89">
<p>
This works on windows. You might need it at some point.
</p>

<blockquote>
<p>
taskkill /F /IM java.exe
</p>
</blockquote>
</div>
</div>
</div>


<div id="outline-container-org91049e5" class="outline-2">
<h2 id="org91049e5">ISSUES</h2>
<div class="outline-text-2" id="text-org91049e5">
</div>
<div id="outline-container-org00e3107" class="outline-3">
<h3 id="org00e3107">
<span class="done DONE">DONE</span> Issue 1 - LSP; Server not connecting when switching files</h3>
<div class="outline-text-3" id="text-org00e3107">
<p>
i.e. if you reference from one file to the other it works but you
cannot change to a file with other methods such as projectile.
</p>

<p>
it will not integrate directly with the lsp server.
</p>

<p>
this is an error and issue that you need to fix if you want to work
with it in a solid way.
</p>

<ul class="org-ul">
<li>all solved. this is simply a matter of setting your lsp-session
correctly.</li>
</ul>
</div>

<div id="outline-container-org65fd991" class="outline-4">
<h4 id="org65fd991">Note that you manage all of the existing lsp-sessions</h4>
<div class="outline-text-4" id="text-org65fd991">
<p>
with the <code>workspace</code> keyword. check at the the functions involving
it in there.
</p>
</div>
</div>

<div id="outline-container-orgcccba89" class="outline-4">
<h4 id="orgcccba89">Solution</h4>
<div class="outline-text-4" id="text-orgcccba89">
<p>
At the time the workaround was removing the highlighting at global
level for lsp. Now it is starting to improve as an IDE.
</p>
</div>
</div>
</div>


<div id="outline-container-orgadcbc10" class="outline-3">
<h3 id="orgadcbc10">On Multi-project builds</h3>
<div class="outline-text-3" id="text-orgadcbc10">
<p>
See your note in your emacs configuration:
</p>

<hr>
<p>
Check at the <a href="https://issueexplorer.com/issue/emacs-lsp/lsp-java/320">following url</a> to understand the issue.
</p>

<div class="highlight"><pre><span></span>   <span class="p">(</span><span class="nf">advice-add</span> <span class="ss">'lsp</span> <span class="nv">:before</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">&amp;rest</span> <span class="nv">_args</span><span class="p">)</span> <span class="p">(</span><span class="nb">eval </span><span class="o">'</span><span class="p">(</span><span class="nv">setf</span> <span class="p">(</span><span class="nf">lsp-session-server-id-&gt;folders</span> <span class="p">(</span><span class="nf">lsp-session</span><span class="p">))</span> <span class="p">(</span><span class="nf">ht</span><span class="p">)))))</span>
</pre></div>

<p>
It is working now. Check also at the <a href="https://github.com/emacs-lsp/lsp-mode/discussions/3095">following discussion</a> to
understand more.
</p>

<p>
Just the single project that you open is shown there in the erros
sections now in the <code>lsp-ui-flycheck-list</code>. If you add a second one
this is also added to the list in the sense that is managed by the
same server connection. The only issue is that if you close the
file it stays in the server connection. This is not ideal and would
have to sort it somehow. 
</p>

<p>
But basically now you have all of the features you desired. Just
have to check the last thing with the debugger but basically you
are there. 
</p>

<p>
You can now start to run your smaller projects in emacs and start
to get up and running with it. 
</p>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../java-notes-history-syntax-and-tricks/" rel="prev" title="Java Notes - History, Syntax and Tricks">Previous post</a>
            </li>
            <li class="next">
                <a href="../some-notes-about-uml-and-plantuml/" rel="next" title="Some Notes about UML and PlantUml">Next post</a>
            </li>
        </ul></nav></aside></article><footer id="footer"><p>Contents © 2022         <a href="mailto:marco.hassan30@gmail.com">Marco Hassan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
