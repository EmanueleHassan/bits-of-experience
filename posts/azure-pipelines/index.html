<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Azure Pipelines | Bits of Experience</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://emanuelehassan.github.io/bits-of-experience/posts/azure-pipelines/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Marco Hassan">
<link rel="prev" href="../deploying-spring-webapps-in-azure/" title="Deploying Webapps in Azure" type="text/html">
<link rel="next" href="../azure-storage/" title="Azure Storage" type="text/html">
<meta property="og:site_name" content="Bits of Experience">
<meta property="og:title" content="Azure Pipelines">
<meta property="og:url" content="https://emanuelehassan.github.io/bits-of-experience/posts/azure-pipelines/">
<meta property="og:description" content="img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-03-23T13:02:43+01:00">
<meta property="article:tag" content="azure">
<meta property="article:tag" content="software-engineering">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="../../pages/aboutme/" title="About me"><i class="fa fa-user-circle"></i></a></li>
            <li><a href="../../pages/bits-of-experience-a-readable-view-on-my-study-adventures/" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../../index.html" title="Blog"><i class="fa fa-edit"></i></a></li>
            <li><a href="../../pages/emacs/" title="A life Configuring Emacs"><i class="fa fa-code"></i></a></li>
            <li><a href="../../pages/papers/" title="Term and Research Papers"><i class="fa fa-university"></i></a></li>
            <li><a href="../../pages/foto-blog/" title="Foto Blog"><i class="fa fa-camera-retro"></i></a></li>
            <li><a href="https://github.com/MarcoHassan" title="My Github"><i class="fab fa-github"></i></a></li>
            <li><a href="https://stackoverflow.com/users/9731177/mhass" title="My Stack"><i class="fab fa-stack-overflow"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Azure Pipelines</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2022-03-23T13:02:43+01:00" itemprop="datePublished" title="2022-03-23 13:02">2022-03-23 13:02</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Marco Hassan
            </span></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            
    <div class="tags">
<h3 class="metadata-title">
<i class="fa fa-tags"></i> Tags:</h3>
        <ul itemprop="keywords" class="tags-ul">
<li><a class="tag p-category" href="../../categories/azure/" rel="tag">azure</a></li>
            <li><a class="tag p-category" href="../../categories/software-engineering/" rel="tag">software-engineering</a></li>
        </ul>
</div>

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <style>
img {
display: block;
margin-top: 60px;
margin-bottom: 60px;
margin-left: auto;
margin-right: auto;
width: 70%;
height: 100%;
class: center;
}

.container {
  position: relative;
  left: 15%;
  margin-top: 60px;
  margin-bottom: 60px;
  width: 70%;
  overflow: hidden;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
  display:block;
  overflow-y: hidden;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: none;
  display:block;
  overflow-y: hidden;
}
</style>
<p>
So write here a bit of documentation about how to create your DevOps
pipelines.
</p>

<p>
That will be important as in such a way you can finally abstract from
the lower level stuff.
</p>

<p>
You just deployed your first webapps on Azure. You did that through a
single gradle command through the gradle plug in.
</p>

<p>
So in this sense it is easy now to deploy your changes via such
pipelines. You can embedd this over there as a task theoretically.
</p>

<p>
Other people are taking the lead in this dimension and know much
better how to set up proper env integrated with Jira or similar
boards, so will not spend too much time with it.
</p>

<p>
This is not interesting to this stage for me. It is just a small test
in order to read pipelines and understand properly what is going on
over there such that you can understand the general workflow.
</p>

<p>
Note that obviously all of the notes under this page stems directly
from the official Microsoft documentation.
</p>

<!-- TEASER_END -->

<div id="outline-container-org854c265" class="outline-2">
<h2 id="org854c265">General Concepts</h2>
<div class="outline-text-2" id="text-org854c265">
<p>
So understand the following basic concepts - see <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/get-started/key-pipelines-concepts?view=azure-devops">here</a>.
</p>

<p>
Check as well here in order to get a proper overview of the thing:
</p>

<img src="../../images/Screenshot%202022-03-23%20132355.png" class="center"><p>
So understand that it is essentially a hierarchy.
</p>

<img src="../../images/pipelineHierarchy.png" class="center"><p>
All of the keywords you read into a pipeline refer to these
first-class citizens of the webapp.
</p>
</div>
</div>

<div id="outline-container-org5fc8e14" class="outline-2">
<h2 id="org5fc8e14">CI/CD</h2>
<div class="outline-text-2" id="text-org5fc8e14">
<p>
So all good.
</p>

<p>
Now with the above concepts you can easily set up your pipeline.
</p>

<p>
CI -&gt; here you put all of the different constraints that ultimately
lead you to the artifact creation if successful.
</p>

<p>
You can then assemble the artifact and publish it.    
</p>

<p>
CD -&gt; deploy artifact if CI successful upon - each git pull into
master etc.
</p>
</div>
</div>

<div id="outline-container-org6d8c8d4" class="outline-2">
<h2 id="org6d8c8d4">Tasks</h2>
<div class="outline-text-2" id="text-org6d8c8d4">
<p>
So the above is pretty it. Quite ok. You should be able to read
pipelines to this stage.
</p>

<p>
It is just a question of deciding what you want to do in there and
properly setting up a workflow but the operations are
clear. Especially in our not so big environment.
</p>

<p>
Now understand this last bit and you will have more less a complete
understanding of what is going on in the pipelines.
</p>

<p>
You can pass your user defined tasks or use already packaged tasks
that Azure make available to you.
</p>
</div>

<div id="outline-container-org7a162b6" class="outline-3">
<h3 id="org7a162b6">Passing user defined tasks</h3>
<div class="outline-text-3" id="text-org7a162b6">
<p>
Note that this functions a bit like the image marketplace on K8s.
</p>

<p>
You have a container registry there where you publish your images
etc. Here is the same there is a VS-Marketplace where you publish
your tasks.
</p>

<p>
Ok - so weird stuff over there. Have a look ath <a href="https://docs.microsoft.com/en-us/azure/devops/extend/develop/add-build-task?view=azure-devops">here</a>.
</p>

<p>
Did not loose too much time checking at it. Just by having a very
quick look at it I understood it must not be that trivial.
</p>

<p>
Plus it starts to talk about node etc. Well not my beer. I guess I
will live with the packaged tasks as long as possible. Should be
enough.
</p>

<p>
Plus not in my focus point that bit of our tech stack.
</p>
</div>
</div>

<div id="outline-container-orgc87a2b2" class="outline-3">
<h3 id="orgc87a2b2">Using packaged tasks</h3>
<div class="outline-text-3" id="text-orgc87a2b2">
<p>
In order to make your life easy Azure arrived a further level of
abstraction providing you the possibility to leverage on already
packaged tasks.
</p>

<p>
You follow then a bit of DSL and you are done.
</p>

<p>
Note that the <code>@&lt;Nbr.&gt;</code> are the versions of such packaged tasks.
</p>

<p>
You can find the packaged tasks available <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/process/stages?view=azure-devops&amp;tabs=yaml">here</a>.
</p>

<p>
You see that what we used in the pipeline you have for your
projects is mainly these.
</p>
</div>
</div>
</div>

<div id="outline-container-orgfe842e3" class="outline-2">
<h2 id="orgfe842e3">Using templates</h2>
<div class="outline-text-2" id="text-orgfe842e3">
<p>
I am developing now the general setup for the Python stack. The
essential idea is to create everything as code and have a complete
build and release strategy for it. It goes more less along <a href="https://faun.pub/azure-devops-build-release-with-yaml-templates-d55f25a4928c">these lines</a>.
</p>

<p>
You can read about parameter and how to consume them in the
following two resources: <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/process/templates?view=azure-devops">one</a>, <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/process/runtime-parameters?view=azure-devops&amp;tabs=script">two</a>.
</p>

<p>
Check as well the existing project. There is a pipeline as well
published there for the python projects. Note that there you do not
publish artifacts. You rather archive things. So you can use it as
reference but the solution is sub-optimal.
</p>

<p>
Note that there you have <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/library/service-endpoints?view=azure-devops&amp;tabs=yaml">the service connection parameter</a>.
</p>
</div>
</div>

<div id="outline-container-orgdfc33a1" class="outline-2">
<h2 id="orgdfc33a1">Python</h2>
<div class="outline-text-2" id="text-orgdfc33a1">
<p>
Check at <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/ecosystems/python?view=azure-devops">this reference</a>. Quite general and good.
</p>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../deploying-spring-webapps-in-azure/" rel="prev" title="Deploying Webapps in Azure">Previous post</a>
            </li>
            <li class="next">
                <a href="../azure-storage/" rel="next" title="Azure Storage">Next post</a>
            </li>
        </ul></nav></aside></article><footer id="footer"><p>Contents © 2024         <a href="mailto:marco.hassan30@gmail.com">Marco Hassan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
